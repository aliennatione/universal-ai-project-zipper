(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function l(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(s){if(s.ep)return;s.ep=!0;const u=l(s);fetch(s.href,u)}})();function ig(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var mu={exports:{}},sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function x0(){if(dm)return sl;dm=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(i,s,u){var d=null;if(u!==void 0&&(d=""+u),s.key!==void 0&&(d=""+s.key),"key"in s){u={};for(var g in s)g!=="key"&&(u[g]=s[g])}else u=s;return s=u.ref,{$$typeof:o,type:i,key:d,ref:s!==void 0?s:null,props:u}}return sl.Fragment=t,sl.jsx=l,sl.jsxs=l,sl}var fm;function T0(){return fm||(fm=1,mu.exports=x0()),mu.exports}var b=T0(),hu={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function E0(){if(pm)return ge;pm=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),E=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=E&&N[E]||N["@@iterator"],typeof N=="function"?N:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function k(N,J,G){this.props=N,this.context=J,this.refs=w,this.updater=G||A}k.prototype.isReactComponent={},k.prototype.setState=function(N,J){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,J,"setState")},k.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function H(){}H.prototype=k.prototype;function M(N,J,G){this.props=N,this.context=J,this.refs=w,this.updater=G||A}var O=M.prototype=new H;O.constructor=M,_(O,k.prototype),O.isPureReactComponent=!0;var j=Array.isArray;function z(){}var X={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function P(N,J,G){var ne=G.ref;return{$$typeof:o,type:N,key:J,ref:ne!==void 0?ne:null,props:G}}function B(N,J){return P(N.type,J,N.props)}function ee(N){return typeof N=="object"&&N!==null&&N.$$typeof===o}function ie(N){var J={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(G){return J[G]})}var re=/\/+/g;function be(N,J){return typeof N=="object"&&N!==null&&N.key!=null?ie(""+N.key):J.toString(36)}function te(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(z,z):(N.status="pending",N.then(function(J){N.status==="pending"&&(N.status="fulfilled",N.value=J)},function(J){N.status==="pending"&&(N.status="rejected",N.reason=J)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function D(N,J,G,ne,le){var de=typeof N;(de==="undefined"||de==="boolean")&&(N=null);var he=!1;if(N===null)he=!0;else switch(de){case"bigint":case"string":case"number":he=!0;break;case"object":switch(N.$$typeof){case o:case t:he=!0;break;case v:return he=N._init,D(he(N._payload),J,G,ne,le)}}if(he)return le=le(N),he=ne===""?"."+be(N,0):ne,j(le)?(G="",he!=null&&(G=he.replace(re,"$&/")+"/"),D(le,J,G,"",function(st){return st})):le!=null&&(ee(le)&&(le=B(le,G+(le.key==null||N&&N.key===le.key?"":(""+le.key).replace(re,"$&/")+"/")+he)),J.push(le)),1;he=0;var Oe=ne===""?".":ne+":";if(j(N))for(var we=0;we<N.length;we++)ne=N[we],de=Oe+be(ne,we),he+=D(ne,J,G,de,le);else if(we=C(N),typeof we=="function")for(N=we.call(N),we=0;!(ne=N.next()).done;)ne=ne.value,de=Oe+be(ne,we++),he+=D(ne,J,G,de,le);else if(de==="object"){if(typeof N.then=="function")return D(te(N),J,G,ne,le);throw J=String(N),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return he}function Z(N,J,G){if(N==null)return N;var ne=[],le=0;return D(N,ne,"","",function(de){return J.call(G,de,le++)}),ne}function oe(N){if(N._status===-1){var J=N._result;J=J(),J.then(function(G){(N._status===0||N._status===-1)&&(N._status=1,N._result=G)},function(G){(N._status===0||N._status===-1)&&(N._status=2,N._result=G)}),N._status===-1&&(N._status=0,N._result=J)}if(N._status===1)return N._result.default;throw N._result}var ce=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},me={map:Z,forEach:function(N,J,G){Z(N,function(){J.apply(this,arguments)},G)},count:function(N){var J=0;return Z(N,function(){J++}),J},toArray:function(N){return Z(N,function(J){return J})||[]},only:function(N){if(!ee(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ge.Activity=x,ge.Children=me,ge.Component=k,ge.Fragment=l,ge.Profiler=s,ge.PureComponent=M,ge.StrictMode=i,ge.Suspense=y,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ge.__COMPILER_RUNTIME={__proto__:null,c:function(N){return X.H.useMemoCache(N)}},ge.cache=function(N){return function(){return N.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(N,J,G){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ne=_({},N.props),le=N.key;if(J!=null)for(de in J.key!==void 0&&(le=""+J.key),J)!L.call(J,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&J.ref===void 0||(ne[de]=J[de]);var de=arguments.length-2;if(de===1)ne.children=G;else if(1<de){for(var he=Array(de),Oe=0;Oe<de;Oe++)he[Oe]=arguments[Oe+2];ne.children=he}return P(N.type,le,ne)},ge.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},ge.createElement=function(N,J,G){var ne,le={},de=null;if(J!=null)for(ne in J.key!==void 0&&(de=""+J.key),J)L.call(J,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(le[ne]=J[ne]);var he=arguments.length-2;if(he===1)le.children=G;else if(1<he){for(var Oe=Array(he),we=0;we<he;we++)Oe[we]=arguments[we+2];le.children=Oe}if(N&&N.defaultProps)for(ne in he=N.defaultProps,he)le[ne]===void 0&&(le[ne]=he[ne]);return P(N,de,le)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(N){return{$$typeof:g,render:N}},ge.isValidElement=ee,ge.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:oe}},ge.memo=function(N,J){return{$$typeof:m,type:N,compare:J===void 0?null:J}},ge.startTransition=function(N){var J=X.T,G={};X.T=G;try{var ne=N(),le=X.S;le!==null&&le(G,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(z,ce)}catch(de){ce(de)}finally{J!==null&&G.types!==null&&(J.types=G.types),X.T=J}},ge.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ge.use=function(N){return X.H.use(N)},ge.useActionState=function(N,J,G){return X.H.useActionState(N,J,G)},ge.useCallback=function(N,J){return X.H.useCallback(N,J)},ge.useContext=function(N){return X.H.useContext(N)},ge.useDebugValue=function(){},ge.useDeferredValue=function(N,J){return X.H.useDeferredValue(N,J)},ge.useEffect=function(N,J){return X.H.useEffect(N,J)},ge.useEffectEvent=function(N){return X.H.useEffectEvent(N)},ge.useId=function(){return X.H.useId()},ge.useImperativeHandle=function(N,J,G){return X.H.useImperativeHandle(N,J,G)},ge.useInsertionEffect=function(N,J){return X.H.useInsertionEffect(N,J)},ge.useLayoutEffect=function(N,J){return X.H.useLayoutEffect(N,J)},ge.useMemo=function(N,J){return X.H.useMemo(N,J)},ge.useOptimistic=function(N,J){return X.H.useOptimistic(N,J)},ge.useReducer=function(N,J,G){return X.H.useReducer(N,J,G)},ge.useRef=function(N){return X.H.useRef(N)},ge.useState=function(N){return X.H.useState(N)},ge.useSyncExternalStore=function(N,J,G){return X.H.useSyncExternalStore(N,J,G)},ge.useTransition=function(){return X.H.useTransition()},ge.version="19.2.0",ge}var mm;function ju(){return mm||(mm=1,hu.exports=E0()),hu.exports}var K=ju();const pl=ig(K);var gu={exports:{}},ul={},yu={exports:{}},vu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function C0(){return hm||(hm=1,(function(o){function t(D,Z){var oe=D.length;D.push(Z);e:for(;0<oe;){var ce=oe-1>>>1,me=D[ce];if(0<s(me,Z))D[ce]=Z,D[oe]=me,oe=ce;else break e}}function l(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var Z=D[0],oe=D.pop();if(oe!==Z){D[0]=oe;e:for(var ce=0,me=D.length,N=me>>>1;ce<N;){var J=2*(ce+1)-1,G=D[J],ne=J+1,le=D[ne];if(0>s(G,oe))ne<me&&0>s(le,G)?(D[ce]=le,D[ne]=oe,ce=ne):(D[ce]=G,D[J]=oe,ce=J);else if(ne<me&&0>s(le,oe))D[ce]=le,D[ne]=oe,ce=ne;else break e}}return Z}function s(D,Z){var oe=D.sortIndex-Z.sortIndex;return oe!==0?oe:D.id-Z.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();o.unstable_now=function(){return d.now()-g}}var y=[],m=[],v=1,x=null,E=3,C=!1,A=!1,_=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function O(D){for(var Z=l(m);Z!==null;){if(Z.callback===null)i(m);else if(Z.startTime<=D)i(m),Z.sortIndex=Z.expirationTime,t(y,Z);else break;Z=l(m)}}function j(D){if(_=!1,O(D),!A)if(l(y)!==null)A=!0,z||(z=!0,ie());else{var Z=l(m);Z!==null&&te(j,Z.startTime-D)}}var z=!1,X=-1,L=5,P=-1;function B(){return w?!0:!(o.unstable_now()-P<L)}function ee(){if(w=!1,z){var D=o.unstable_now();P=D;var Z=!0;try{e:{A=!1,_&&(_=!1,H(X),X=-1),C=!0;var oe=E;try{t:{for(O(D),x=l(y);x!==null&&!(x.expirationTime>D&&B());){var ce=x.callback;if(typeof ce=="function"){x.callback=null,E=x.priorityLevel;var me=ce(x.expirationTime<=D);if(D=o.unstable_now(),typeof me=="function"){x.callback=me,O(D),Z=!0;break t}x===l(y)&&i(y),O(D)}else i(y);x=l(y)}if(x!==null)Z=!0;else{var N=l(m);N!==null&&te(j,N.startTime-D),Z=!1}}break e}finally{x=null,E=oe,C=!1}Z=void 0}}finally{Z?ie():z=!1}}}var ie;if(typeof M=="function")ie=function(){M(ee)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,be=re.port2;re.port1.onmessage=ee,ie=function(){be.postMessage(null)}}else ie=function(){k(ee,0)};function te(D,Z){X=k(function(){D(o.unstable_now())},Z)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(D){D.callback=null},o.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},o.unstable_getCurrentPriorityLevel=function(){return E},o.unstable_next=function(D){switch(E){case 1:case 2:case 3:var Z=3;break;default:Z=E}var oe=E;E=Z;try{return D()}finally{E=oe}},o.unstable_requestPaint=function(){w=!0},o.unstable_runWithPriority=function(D,Z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var oe=E;E=D;try{return Z()}finally{E=oe}},o.unstable_scheduleCallback=function(D,Z,oe){var ce=o.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ce+oe:ce):oe=ce,D){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=oe+me,D={id:v++,callback:Z,priorityLevel:D,startTime:oe,expirationTime:me,sortIndex:-1},oe>ce?(D.sortIndex=oe,t(m,D),l(y)===null&&D===l(m)&&(_?(H(X),X=-1):_=!0,te(j,oe-ce))):(D.sortIndex=me,t(y,D),A||C||(A=!0,z||(z=!0,ie()))),D},o.unstable_shouldYield=B,o.unstable_wrapCallback=function(D){var Z=E;return function(){var oe=E;E=Z;try{return D.apply(this,arguments)}finally{E=oe}}}})(vu)),vu}var gm;function S0(){return gm||(gm=1,yu.exports=C0()),yu.exports}var bu={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function A0(){if(ym)return ut;ym=1;var o=ju();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var i={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},s=Symbol.for("react.portal");function u(y,m,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:y,containerInfo:m,implementation:v}}var d=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ut.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(y,m,null,v)},ut.flushSync=function(y){var m=d.T,v=i.p;try{if(d.T=null,i.p=2,y)return y()}finally{d.T=m,i.p=v,i.d.f()}},ut.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(y,m))},ut.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},ut.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,x=g(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:C}):v==="script"&&i.d.X(y,{crossOrigin:x,integrity:E,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ut.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=g(m.as,m.crossOrigin);i.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(y)},ut.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,x=g(v,m.crossOrigin);i.d.L(y,v,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ut.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=g(m.as,m.crossOrigin);i.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(y)},ut.requestFormReset=function(y){i.d.r(y)},ut.unstable_batchedUpdates=function(y,m){return y(m)},ut.useFormState=function(y,m,v){return d.H.useFormState(y,m,v)},ut.useFormStatus=function(){return d.H.useHostTransitionStatus()},ut.version="19.2.0",ut}var vm;function _0(){if(vm)return bu.exports;vm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),bu.exports=A0(),bu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function N0(){if(bm)return ul;bm=1;var o=S0(),t=ju(),l=_0();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(i(188))}function m(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(i(188));return n!==e?null:e}for(var a=e,r=n;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(r=f.return,r!==null){a=r;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return y(f),e;if(h===r)return y(f),n;h=h.sibling}throw Error(i(188))}if(a.return!==r.return)a=f,r=h;else{for(var T=!1,S=f.child;S;){if(S===a){T=!0,a=f,r=h;break}if(S===r){T=!0,r=f,a=h;break}S=S.sibling}if(!T){for(S=h.child;S;){if(S===a){T=!0,a=h,r=f;break}if(S===r){T=!0,r=h,a=f;break}S=S.sibling}if(!T)throw Error(i(189))}}if(a.alternate!==r)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),M=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function be(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case k:return"Profiler";case w:return"StrictMode";case j:return"Suspense";case z:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case M:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case O:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:be(e.type)||"Memo";case L:n=e._payload,e=e._init;try{return be(e(n))}catch{}}return null}var te=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ce=[],me=-1;function N(e){return{current:e}}function J(e){0>me||(e.current=ce[me],ce[me]=null,me--)}function G(e,n){me++,ce[me]=e.current,e.current=n}var ne=N(null),le=N(null),de=N(null),he=N(null);function Oe(e,n){switch(G(de,n),G(le,e),G(ne,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Lp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Lp(n),e=Up(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ne),G(ne,e)}function we(){J(ne),J(le),J(de)}function st(e){e.memoizedState!==null&&G(he,e);var n=ne.current,a=Up(n,e.type);n!==a&&(G(le,e),G(ne,a))}function pt(e){le.current===e&&(J(ne),J(le)),he.current===e&&(J(he),il._currentValue=oe)}var Kt,To;function Xn(e){if(Kt===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Kt=n&&n[1]||"",To=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kt+e+To}var Qa=!1;function Za(e,n){if(!e||Qa)return"";Qa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var F=Y}Reflect.construct(e,[],W)}else{try{W.call()}catch(Y){F=Y}e.call(W.prototype)}}else{try{throw Error()}catch(Y){F=Y}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),T=h[0],S=h[1];if(T&&S){var R=T.split(`
`),V=S.split(`
`);for(f=r=0;r<R.length&&!R[r].includes("DetermineComponentFrameRoot");)r++;for(;f<V.length&&!V[f].includes("DetermineComponentFrameRoot");)f++;if(r===R.length||f===V.length)for(r=R.length-1,f=V.length-1;1<=r&&0<=f&&R[r]!==V[f];)f--;for(;1<=r&&0<=f;r--,f--)if(R[r]!==V[f]){if(r!==1||f!==1)do if(r--,f--,0>f||R[r]!==V[f]){var $=`
`+R[r].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=r&&0<=f);break}}}finally{Qa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Xn(a):""}function Qg(e,n){switch(e.tag){case 26:case 27:case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return e.child!==n&&n!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return Za(e.type,!1);case 11:return Za(e.type.render,!1);case 1:return Za(e.type,!0);case 31:return Xn("Activity");default:return""}}function cc(e){try{var n="",a=null;do n+=Qg(e,a),a=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Wa=Object.prototype.hasOwnProperty,er=o.unstable_scheduleCallback,tr=o.unstable_cancelCallback,Zg=o.unstable_shouldYield,Wg=o.unstable_requestPaint,Tt=o.unstable_now,ey=o.unstable_getCurrentPriorityLevel,dc=o.unstable_ImmediatePriority,fc=o.unstable_UserBlockingPriority,vl=o.unstable_NormalPriority,ty=o.unstable_LowPriority,pc=o.unstable_IdlePriority,ny=o.log,oy=o.unstable_setDisableYieldValue,gi=null,Et=null;function En(e){if(typeof ny=="function"&&oy(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(gi,e)}catch{}}var Ct=Math.clz32?Math.clz32:ay,iy=Math.log,ly=Math.LN2;function ay(e){return e>>>=0,e===0?32:31-(iy(e)/ly|0)|0}var bl=256,xl=262144,Tl=4194304;function Qn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function El(e,n,a){var r=e.pendingLanes;if(r===0)return 0;var f=0,h=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var S=r&134217727;return S!==0?(r=S&~h,r!==0?f=Qn(r):(T&=S,T!==0?f=Qn(T):a||(a=S&~e,a!==0&&(f=Qn(a))))):(S=r&~h,S!==0?f=Qn(S):T!==0?f=Qn(T):a||(a=r&~e,a!==0&&(f=Qn(a)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:f}function yi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ry(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mc(){var e=Tl;return Tl<<=1,(Tl&62914560)===0&&(Tl=4194304),e}function nr(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function vi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sy(e,n,a,r,f,h){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,R=e.expirationTimes,V=e.hiddenUpdates;for(a=T&~a;0<a;){var $=31-Ct(a),W=1<<$;S[$]=0,R[$]=-1;var F=V[$];if(F!==null)for(V[$]=null,$=0;$<F.length;$++){var Y=F[$];Y!==null&&(Y.lane&=-536870913)}a&=~W}r!==0&&hc(e,r,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(T&~n))}function hc(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Ct(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function gc(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var r=31-Ct(a),f=1<<r;f&n|e[r]&n&&(e[r]|=n),a&=~f}}function yc(e,n){var a=n&-n;return a=(a&42)!==0?1:or(a),(a&(e.suspendedLanes|n))!==0?0:a}function or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ir(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vc(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:im(e.type))}function bc(e,n){var a=Z.p;try{return Z.p=e,n()}finally{Z.p=a}}var Cn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Cn,mt="__reactProps$"+Cn,Eo="__reactContainer$"+Cn,lr="__reactEvents$"+Cn,uy="__reactListeners$"+Cn,cy="__reactHandles$"+Cn,xc="__reactResources$"+Cn,bi="__reactMarker$"+Cn;function ar(e){delete e[ot],delete e[mt],delete e[lr],delete e[uy],delete e[cy]}function Co(e){var n=e[ot];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Eo]||a[ot]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Bp(e);e!==null;){if(a=e[ot])return a;e=Bp(e)}return n}e=a,a=e.parentNode}return null}function So(e){if(e=e[ot]||e[Eo]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function xi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function Ao(e){var n=e[xc];return n||(n=e[xc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(e){e[bi]=!0}var Tc=new Set,Ec={};function Zn(e,n){_o(e,n),_o(e+"Capture",n)}function _o(e,n){for(Ec[e]=n,e=0;e<n.length;e++)Tc.add(n[e])}var dy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cc={},Sc={};function fy(e){return Wa.call(Sc,e)?!0:Wa.call(Cc,e)?!1:dy.test(e)?Sc[e]=!0:(Cc[e]=!0,!1)}function Cl(e,n,a){if(fy(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Sl(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function tn(e,n,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+r)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ac(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function py(e,n,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,h=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(T){a=""+T,h.call(this,T)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function rr(e){if(!e._valueTracker){var n=Ac(e)?"checked":"value";e._valueTracker=py(e,n,""+e[n])}}function _c(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),r="";return e&&(r=Ac(e)?e.checked?"true":"false":e.value),e=r,e!==a?(n.setValue(e),!0):!1}function Al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var my=/[\n"\\]/g;function Lt(e){return e.replace(my,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sr(e,n,a,r,f,h,T,S){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Dt(n)):e.value!==""+Dt(n)&&(e.value=""+Dt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?ur(e,T,Dt(n)):a!=null?ur(e,T,Dt(a)):r!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Dt(S):e.removeAttribute("name")}function Nc(e,n,a,r,f,h,T,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){rr(e);return}a=a!=null?""+Dt(a):"",n=n!=null?""+Dt(n):a,S||n===e.value||(e.value=n),e.defaultValue=n}r=r??f,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=S?e.checked:!!r,e.defaultChecked=!!r,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),rr(e)}function ur(e,n,a){n==="number"&&Al(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function No(e,n,a,r){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Dt(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,r&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function wc(e,n,a){if(n!=null&&(n=""+Dt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Dt(a):""}function Mc(e,n,a,r){if(n==null){if(r!=null){if(a!=null)throw Error(i(92));if(te(r)){if(1<r.length)throw Error(i(93));r=r[0]}a=r}a==null&&(a=""),n=a}a=Dt(n),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),rr(e)}function wo(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var hy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rc(e,n,a){var r=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,a):typeof a!="number"||a===0||hy.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function kc(e,n,a){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var f in n)r=n[f],n.hasOwnProperty(f)&&a[f]!==r&&Rc(e,f,r)}else for(var h in n)n.hasOwnProperty(h)&&Rc(e,h,n[h])}function cr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _l(e){return yy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nn(){}var dr=null;function fr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mo=null,Ro=null;function Ic(e){var n=So(e);if(n&&(e=n.stateNode)){var a=e[mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(sr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Lt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var r=a[n];if(r!==e&&r.form===e.form){var f=r[mt]||null;if(!f)throw Error(i(90));sr(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)r=a[n],r.form===e.form&&_c(r)}break e;case"textarea":wc(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&No(e,!!a.multiple,n,!1)}}}var pr=!1;function Dc(e,n,a){if(pr)return e(n,a);pr=!0;try{var r=e(n);return r}finally{if(pr=!1,(Mo!==null||Ro!==null)&&(pa(),Mo&&(n=Mo,e=Ro,Ro=Mo=null,Ic(n),e)))for(n=0;n<e.length;n++)Ic(e[n])}}function Ti(e,n){var a=e.stateNode;if(a===null)return null;var r=a[mt]||null;if(r===null)return null;a=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,n,typeof a));return a}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(on)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{mr=!1}var Sn=null,hr=null,Nl=null;function Lc(){if(Nl)return Nl;var e,n=hr,a=n.length,r,f="value"in Sn?Sn.value:Sn.textContent,h=f.length;for(e=0;e<a&&n[e]===f[e];e++);var T=a-e;for(r=1;r<=T&&n[a-r]===f[h-r];r++);return Nl=f.slice(e,1<r?1-r:void 0)}function wl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ml(){return!0}function Uc(){return!1}function ht(e){function n(a,r,f,h,T){this._reactName=a,this._targetInst=f,this.type=r,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ml:Uc,this.isPropagationStopped=Uc,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),n}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=ht(Wn),Ci=x({},Wn,{view:0,detail:0}),vy=ht(Ci),gr,yr,Si,kl=x({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(gr=e.screenX-Si.screenX,yr=e.screenY-Si.screenY):yr=gr=0,Si=e),gr)},movementY:function(e){return"movementY"in e?e.movementY:yr}}),Pc=ht(kl),by=x({},kl,{dataTransfer:0}),xy=ht(by),Ty=x({},Ci,{relatedTarget:0}),vr=ht(Ty),Ey=x({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Cy=ht(Ey),Sy=x({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ay=ht(Sy),_y=x({},Wn,{data:0}),Gc=ht(_y),Ny={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},My={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ry(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=My[e])?!!n[e]:!1}function br(){return Ry}var ky=x({},Ci,{key:function(e){if(e.key){var n=Ny[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iy=ht(ky),Dy=x({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zc=ht(Dy),Ly=x({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),Uy=ht(Ly),Py=x({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gy=ht(Py),zy=x({},kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qy=ht(zy),Hy=x({},Wn,{newState:0,oldState:0}),Vy=ht(Hy),By=[9,13,27,32],xr=on&&"CompositionEvent"in window,Ai=null;on&&"documentMode"in document&&(Ai=document.documentMode);var Oy=on&&"TextEvent"in window&&!Ai,qc=on&&(!xr||Ai&&8<Ai&&11>=Ai),Hc=" ",Vc=!1;function Bc(e,n){switch(e){case"keyup":return By.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ko=!1;function Fy(e,n){switch(e){case"compositionend":return Oc(n);case"keypress":return n.which!==32?null:(Vc=!0,Hc);case"textInput":return e=n.data,e===Hc&&Vc?null:e;default:return null}}function Jy(e,n){if(ko)return e==="compositionend"||!xr&&Bc(e,n)?(e=Lc(),Nl=hr=Sn=null,ko=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return qc&&n.locale!=="ko"?null:n.data;default:return null}}var Yy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Yy[e.type]:n==="textarea"}function Jc(e,n,a,r){Mo?Ro?Ro.push(r):Ro=[r]:Mo=r,n=xa(n,"onChange"),0<n.length&&(a=new Rl("onChange","change",null,a,r),e.push({event:a,listeners:n}))}var _i=null,Ni=null;function jy(e){wp(e,0)}function Il(e){var n=xi(e);if(_c(n))return e}function Yc(e,n){if(e==="change")return n}var jc=!1;if(on){var Tr;if(on){var Er="oninput"in document;if(!Er){var Kc=document.createElement("div");Kc.setAttribute("oninput","return;"),Er=typeof Kc.oninput=="function"}Tr=Er}else Tr=!1;jc=Tr&&(!document.documentMode||9<document.documentMode)}function $c(){_i&&(_i.detachEvent("onpropertychange",Xc),Ni=_i=null)}function Xc(e){if(e.propertyName==="value"&&Il(Ni)){var n=[];Jc(n,Ni,e,fr(e)),Dc(jy,n)}}function Ky(e,n,a){e==="focusin"?($c(),_i=n,Ni=a,_i.attachEvent("onpropertychange",Xc)):e==="focusout"&&$c()}function $y(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il(Ni)}function Xy(e,n){if(e==="click")return Il(n)}function Qy(e,n){if(e==="input"||e==="change")return Il(n)}function Zy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var St=typeof Object.is=="function"?Object.is:Zy;function wi(e,n){if(St(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),r=Object.keys(n);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var f=a[r];if(!Wa.call(n,f)||!St(e[f],n[f]))return!1}return!0}function Qc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zc(e,n){var a=Qc(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=n&&r>=n)return{node:a,offset:n-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qc(a)}}function Wc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Wc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ed(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Al(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Al(e.document)}return n}function Cr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Wy=on&&"documentMode"in document&&11>=document.documentMode,Io=null,Sr=null,Mi=null,Ar=!1;function td(e,n,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ar||Io==null||Io!==Al(r)||(r=Io,"selectionStart"in r&&Cr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mi&&wi(Mi,r)||(Mi=r,r=xa(Sr,"onSelect"),0<r.length&&(n=new Rl("onSelect","select",null,n,a),e.push({event:n,listeners:r}),n.target=Io)))}function eo(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Do={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionrun:eo("Transition","TransitionRun"),transitionstart:eo("Transition","TransitionStart"),transitioncancel:eo("Transition","TransitionCancel"),transitionend:eo("Transition","TransitionEnd")},_r={},nd={};on&&(nd=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function to(e){if(_r[e])return _r[e];if(!Do[e])return e;var n=Do[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in nd)return _r[e]=n[a];return e}var od=to("animationend"),id=to("animationiteration"),ld=to("animationstart"),ev=to("transitionrun"),tv=to("transitionstart"),nv=to("transitioncancel"),ad=to("transitionend"),rd=new Map,Nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nr.push("scrollEnd");function Ft(e,n){rd.set(e,n),Zn(n,[e])}var Dl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ut=[],Lo=0,wr=0;function Ll(){for(var e=Lo,n=wr=Lo=0;n<e;){var a=Ut[n];Ut[n++]=null;var r=Ut[n];Ut[n++]=null;var f=Ut[n];Ut[n++]=null;var h=Ut[n];if(Ut[n++]=null,r!==null&&f!==null){var T=r.pending;T===null?f.next=f:(f.next=T.next,T.next=f),r.pending=f}h!==0&&sd(a,f,h)}}function Ul(e,n,a,r){Ut[Lo++]=e,Ut[Lo++]=n,Ut[Lo++]=a,Ut[Lo++]=r,wr|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Mr(e,n,a,r){return Ul(e,n,a,r),Pl(e)}function no(e,n){return Ul(e,null,null,n),Pl(e)}function sd(e,n,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var f=!1,h=e.return;h!==null;)h.childLanes|=a,r=h.alternate,r!==null&&(r.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&n!==null&&(f=31-Ct(a),e=h.hiddenUpdates,r=e[f],r===null?e[f]=[n]:r.push(n),n.lane=a|536870912),h):null}function Pl(e){if(50<Qi)throw Qi=0,zs=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Uo={};function ov(e,n,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,n,a,r){return new ov(e,n,a,r)}function Rr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ln(e,n){var a=e.alternate;return a===null?(a=At(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ud(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Gl(e,n,a,r,f,h){var T=0;if(r=e,typeof e=="function")Rr(e)&&(T=1);else if(typeof e=="string")T=s0(e,a,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=At(31,a,n,f),e.elementType=P,e.lanes=h,e;case _:return oo(a.children,f,h,n);case w:T=8,f|=24;break;case k:return e=At(12,a,n,f|2),e.elementType=k,e.lanes=h,e;case j:return e=At(13,a,n,f),e.elementType=j,e.lanes=h,e;case z:return e=At(19,a,n,f),e.elementType=z,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:T=10;break e;case H:T=9;break e;case O:T=11;break e;case X:T=14;break e;case L:T=16,r=null;break e}T=29,a=Error(i(130,e===null?"null":typeof e,"")),r=null}return n=At(T,a,n,f),n.elementType=e,n.type=r,n.lanes=h,n}function oo(e,n,a,r){return e=At(7,e,r,n),e.lanes=a,e}function kr(e,n,a){return e=At(6,e,null,n),e.lanes=a,e}function cd(e){var n=At(18,null,null,0);return n.stateNode=e,n}function Ir(e,n,a){return n=At(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var dd=new WeakMap;function Pt(e,n){if(typeof e=="object"&&e!==null){var a=dd.get(e);return a!==void 0?a:(n={value:e,source:n,stack:cc(n)},dd.set(e,n),n)}return{value:e,source:n,stack:cc(n)}}var Po=[],Go=0,zl=null,Ri=0,Gt=[],zt=0,An=null,$t=1,Xt="";function an(e,n){Po[Go++]=Ri,Po[Go++]=zl,zl=e,Ri=n}function fd(e,n,a){Gt[zt++]=$t,Gt[zt++]=Xt,Gt[zt++]=An,An=e;var r=$t;e=Xt;var f=32-Ct(r)-1;r&=~(1<<f),a+=1;var h=32-Ct(n)+f;if(30<h){var T=f-f%5;h=(r&(1<<T)-1).toString(32),r>>=T,f-=T,$t=1<<32-Ct(n)+f|a<<f|r,Xt=h+e}else $t=1<<h|a<<f|r,Xt=e}function Dr(e){e.return!==null&&(an(e,1),fd(e,1,0))}function Lr(e){for(;e===zl;)zl=Po[--Go],Po[Go]=null,Ri=Po[--Go],Po[Go]=null;for(;e===An;)An=Gt[--zt],Gt[zt]=null,Xt=Gt[--zt],Gt[zt]=null,$t=Gt[--zt],Gt[zt]=null}function pd(e,n){Gt[zt++]=$t,Gt[zt++]=Xt,Gt[zt++]=An,$t=n.id,Xt=n.overflow,An=e}var it=null,Ge=null,Se=!1,_n=null,qt=!1,Ur=Error(i(519));function Nn(e){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ki(Pt(n,e)),Ur}function md(e){var n=e.stateNode,a=e.type,r=e.memoizedProps;switch(n[ot]=e,n[mt]=r,a){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(a=0;a<Wi.length;a++)Te(Wi[a],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":Te("invalid",n),Nc(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Te("invalid",n);break;case"textarea":Te("invalid",n),Mc(n,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||r.suppressHydrationWarning===!0||Ip(n.textContent,a)?(r.popover!=null&&(Te("beforetoggle",n),Te("toggle",n)),r.onScroll!=null&&Te("scroll",n),r.onScrollEnd!=null&&Te("scrollend",n),r.onClick!=null&&(n.onclick=nn),n=!0):n=!1,n||Nn(e,!0)}function hd(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:it=it.return}}function zo(e){if(e!==it)return!1;if(!Se)return hd(e),Se=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ws(e.type,e.memoizedProps)),a=!a),a&&Ge&&Nn(e),hd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ge=Vp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ge=Vp(e)}else n===27?(n=Ge,Vn(e.type)?(e=iu,iu=null,Ge=e):Ge=n):Ge=it?Vt(e.stateNode.nextSibling):null;return!0}function io(){Ge=it=null,Se=!1}function Pr(){var e=_n;return e!==null&&(bt===null?bt=e:bt.push.apply(bt,e),_n=null),e}function ki(e){_n===null?_n=[e]:_n.push(e)}var Gr=N(null),lo=null,rn=null;function wn(e,n,a){G(Gr,n._currentValue),n._currentValue=a}function sn(e){e._currentValue=Gr.current,J(Gr)}function zr(e,n,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===a)break;e=e.return}}function qr(e,n,a,r){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var T=f.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=f;for(var R=0;R<n.length;R++)if(S.context===n[R]){h.lanes|=a,S=h.alternate,S!==null&&(S.lanes|=a),zr(h.return,a,e),r||(T=null);break e}h=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(i(341));T.lanes|=a,h=T.alternate,h!==null&&(h.lanes|=a),zr(T,a,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function qo(e,n,a,r){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=f.type;St(f.pendingProps.value,T.value)||(e!==null?e.push(S):e=[S])}}else if(f===he.current){if(T=f.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}f=f.return}e!==null&&qr(n,e,a,r),n.flags|=262144}function ql(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ao(e){lo=e,rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return gd(lo,e)}function Hl(e,n){return lo===null&&ao(e),gd(e,n)}function gd(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},rn===null){if(e===null)throw Error(i(308));rn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else rn=rn.next=n;return a}var iv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},lv=o.unstable_scheduleCallback,av=o.unstable_NormalPriority,je={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hr(){return{controller:new iv,data:new Map,refCount:0}}function Ii(e){e.refCount--,e.refCount===0&&lv(av,function(){e.controller.abort()})}var Di=null,Vr=0,Ho=0,Vo=null;function rv(e,n){if(Di===null){var a=Di=[];Vr=0,Ho=Fs(),Vo={status:"pending",value:void 0,then:function(r){a.push(r)}}}return Vr++,n.then(yd,yd),n}function yd(){if(--Vr===0&&Di!==null){Vo!==null&&(Vo.status="fulfilled");var e=Di;Di=null,Ho=0,Vo=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function sv(e,n){var a=[],r={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(r.status="rejected",r.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),r}var vd=D.S;D.S=function(e,n){np=Tt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&rv(e,n),vd!==null&&vd(e,n)};var ro=N(null);function Br(){var e=ro.current;return e!==null?e:Ue.pooledCache}function Vl(e,n){n===null?G(ro,ro.current):G(ro,n.pool)}function bd(){var e=Br();return e===null?null:{parent:je._currentValue,pool:e}}var Bo=Error(i(460)),Or=Error(i(474)),Bl=Error(i(542)),Ol={then:function(){}};function xd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Td(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(nn,nn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cd(e),e;default:if(typeof n.status=="string")n.then(nn,nn);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=r}},function(r){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cd(e),e}throw uo=n,Bo}}function so(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(uo=a,Bo):a}}var uo=null;function Ed(){if(uo===null)throw Error(i(459));var e=uo;return uo=null,e}function Cd(e){if(e===Bo||e===Bl)throw Error(i(483))}var Oo=null,Li=0;function Fl(e){var n=Li;return Li+=1,Oo===null&&(Oo=[]),Td(Oo,e,n)}function Ui(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Jl(e,n){throw n.$$typeof===E?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Sd(e){function n(U,I){if(e){var q=U.deletions;q===null?(U.deletions=[I],U.flags|=16):q.push(I)}}function a(U,I){if(!e)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function r(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function f(U,I){return U=ln(U,I),U.index=0,U.sibling=null,U}function h(U,I,q){return U.index=q,e?(q=U.alternate,q!==null?(q=q.index,q<I?(U.flags|=67108866,I):q):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function T(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function S(U,I,q,Q){return I===null||I.tag!==6?(I=kr(q,U.mode,Q),I.return=U,I):(I=f(I,q),I.return=U,I)}function R(U,I,q,Q){var fe=q.type;return fe===_?$(U,I,q.props.children,Q,q.key):I!==null&&(I.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===L&&so(fe)===I.type)?(I=f(I,q.props),Ui(I,q),I.return=U,I):(I=Gl(q.type,q.key,q.props,null,U.mode,Q),Ui(I,q),I.return=U,I)}function V(U,I,q,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==q.containerInfo||I.stateNode.implementation!==q.implementation?(I=Ir(q,U.mode,Q),I.return=U,I):(I=f(I,q.children||[]),I.return=U,I)}function $(U,I,q,Q,fe){return I===null||I.tag!==7?(I=oo(q,U.mode,Q,fe),I.return=U,I):(I=f(I,q),I.return=U,I)}function W(U,I,q){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=kr(""+I,U.mode,q),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C:return q=Gl(I.type,I.key,I.props,null,U.mode,q),Ui(q,I),q.return=U,q;case A:return I=Ir(I,U.mode,q),I.return=U,I;case L:return I=so(I),W(U,I,q)}if(te(I)||ie(I))return I=oo(I,U.mode,q,null),I.return=U,I;if(typeof I.then=="function")return W(U,Fl(I),q);if(I.$$typeof===M)return W(U,Hl(U,I),q);Jl(U,I)}return null}function F(U,I,q,Q){var fe=I!==null?I.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return fe!==null?null:S(U,I,""+q,Q);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return q.key===fe?R(U,I,q,Q):null;case A:return q.key===fe?V(U,I,q,Q):null;case L:return q=so(q),F(U,I,q,Q)}if(te(q)||ie(q))return fe!==null?null:$(U,I,q,Q,null);if(typeof q.then=="function")return F(U,I,Fl(q),Q);if(q.$$typeof===M)return F(U,I,Hl(U,q),Q);Jl(U,q)}return null}function Y(U,I,q,Q,fe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(q)||null,S(I,U,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case C:return U=U.get(Q.key===null?q:Q.key)||null,R(I,U,Q,fe);case A:return U=U.get(Q.key===null?q:Q.key)||null,V(I,U,Q,fe);case L:return Q=so(Q),Y(U,I,q,Q,fe)}if(te(Q)||ie(Q))return U=U.get(q)||null,$(I,U,Q,fe,null);if(typeof Q.then=="function")return Y(U,I,q,Fl(Q),fe);if(Q.$$typeof===M)return Y(U,I,q,Hl(I,Q),fe);Jl(I,Q)}return null}function ae(U,I,q,Q){for(var fe=null,Ae=null,ue=I,ve=I=0,Ce=null;ue!==null&&ve<q.length;ve++){ue.index>ve?(Ce=ue,ue=null):Ce=ue.sibling;var _e=F(U,ue,q[ve],Q);if(_e===null){ue===null&&(ue=Ce);break}e&&ue&&_e.alternate===null&&n(U,ue),I=h(_e,I,ve),Ae===null?fe=_e:Ae.sibling=_e,Ae=_e,ue=Ce}if(ve===q.length)return a(U,ue),Se&&an(U,ve),fe;if(ue===null){for(;ve<q.length;ve++)ue=W(U,q[ve],Q),ue!==null&&(I=h(ue,I,ve),Ae===null?fe=ue:Ae.sibling=ue,Ae=ue);return Se&&an(U,ve),fe}for(ue=r(ue);ve<q.length;ve++)Ce=Y(ue,U,ve,q[ve],Q),Ce!==null&&(e&&Ce.alternate!==null&&ue.delete(Ce.key===null?ve:Ce.key),I=h(Ce,I,ve),Ae===null?fe=Ce:Ae.sibling=Ce,Ae=Ce);return e&&ue.forEach(function(Yn){return n(U,Yn)}),Se&&an(U,ve),fe}function pe(U,I,q,Q){if(q==null)throw Error(i(151));for(var fe=null,Ae=null,ue=I,ve=I=0,Ce=null,_e=q.next();ue!==null&&!_e.done;ve++,_e=q.next()){ue.index>ve?(Ce=ue,ue=null):Ce=ue.sibling;var Yn=F(U,ue,_e.value,Q);if(Yn===null){ue===null&&(ue=Ce);break}e&&ue&&Yn.alternate===null&&n(U,ue),I=h(Yn,I,ve),Ae===null?fe=Yn:Ae.sibling=Yn,Ae=Yn,ue=Ce}if(_e.done)return a(U,ue),Se&&an(U,ve),fe;if(ue===null){for(;!_e.done;ve++,_e=q.next())_e=W(U,_e.value,Q),_e!==null&&(I=h(_e,I,ve),Ae===null?fe=_e:Ae.sibling=_e,Ae=_e);return Se&&an(U,ve),fe}for(ue=r(ue);!_e.done;ve++,_e=q.next())_e=Y(ue,U,ve,_e.value,Q),_e!==null&&(e&&_e.alternate!==null&&ue.delete(_e.key===null?ve:_e.key),I=h(_e,I,ve),Ae===null?fe=_e:Ae.sibling=_e,Ae=_e);return e&&ue.forEach(function(b0){return n(U,b0)}),Se&&an(U,ve),fe}function Le(U,I,q,Q){if(typeof q=="object"&&q!==null&&q.type===_&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case C:e:{for(var fe=q.key;I!==null;){if(I.key===fe){if(fe=q.type,fe===_){if(I.tag===7){a(U,I.sibling),Q=f(I,q.props.children),Q.return=U,U=Q;break e}}else if(I.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===L&&so(fe)===I.type){a(U,I.sibling),Q=f(I,q.props),Ui(Q,q),Q.return=U,U=Q;break e}a(U,I);break}else n(U,I);I=I.sibling}q.type===_?(Q=oo(q.props.children,U.mode,Q,q.key),Q.return=U,U=Q):(Q=Gl(q.type,q.key,q.props,null,U.mode,Q),Ui(Q,q),Q.return=U,U=Q)}return T(U);case A:e:{for(fe=q.key;I!==null;){if(I.key===fe)if(I.tag===4&&I.stateNode.containerInfo===q.containerInfo&&I.stateNode.implementation===q.implementation){a(U,I.sibling),Q=f(I,q.children||[]),Q.return=U,U=Q;break e}else{a(U,I);break}else n(U,I);I=I.sibling}Q=Ir(q,U.mode,Q),Q.return=U,U=Q}return T(U);case L:return q=so(q),Le(U,I,q,Q)}if(te(q))return ae(U,I,q,Q);if(ie(q)){if(fe=ie(q),typeof fe!="function")throw Error(i(150));return q=fe.call(q),pe(U,I,q,Q)}if(typeof q.then=="function")return Le(U,I,Fl(q),Q);if(q.$$typeof===M)return Le(U,I,Hl(U,q),Q);Jl(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,I!==null&&I.tag===6?(a(U,I.sibling),Q=f(I,q),Q.return=U,U=Q):(a(U,I),Q=kr(q,U.mode,Q),Q.return=U,U=Q),T(U)):a(U,I)}return function(U,I,q,Q){try{Li=0;var fe=Le(U,I,q,Q);return Oo=null,fe}catch(ue){if(ue===Bo||ue===Bl)throw ue;var Ae=At(29,ue,null,U.mode);return Ae.lanes=Q,Ae.return=U,Ae}finally{}}}var co=Sd(!0),Ad=Sd(!1),Mn=!1;function Fr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kn(e,n,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Me&2)!==0){var f=r.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),r.pending=n,n=Pl(e),sd(e,null,a),n}return Ul(e,r,n,a),Pl(e)}function Pi(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,a|=r,n.lanes=a,gc(e,a)}}function Yr(e,n){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?f=h=T:h=h.next=T,a=a.next}while(a!==null);h===null?f=h=n:h=h.next=n}else f=h=n;a={baseState:r.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var jr=!1;function Gi(){if(jr){var e=Vo;if(e!==null)throw e}}function zi(e,n,a,r){jr=!1;var f=e.updateQueue;Mn=!1;var h=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var R=S,V=R.next;R.next=null,T===null?h=V:T.next=V,T=R;var $=e.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==T&&(S===null?$.firstBaseUpdate=V:S.next=V,$.lastBaseUpdate=R))}if(h!==null){var W=f.baseState;T=0,$=V=R=null,S=h;do{var F=S.lane&-536870913,Y=F!==S.lane;if(Y?(Ee&F)===F:(r&F)===F){F!==0&&F===Ho&&(jr=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ae=e,pe=S;F=n;var Le=a;switch(pe.tag){case 1:if(ae=pe.payload,typeof ae=="function"){W=ae.call(Le,W,F);break e}W=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=pe.payload,F=typeof ae=="function"?ae.call(Le,W,F):ae,F==null)break e;W=x({},W,F);break e;case 2:Mn=!0}}F=S.callback,F!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(V=$=Y,R=W):$=$.next=Y,T|=F;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);$===null&&(R=W),f.baseState=R,f.firstBaseUpdate=V,f.lastBaseUpdate=$,h===null&&(f.shared.lanes=0),Pn|=T,e.lanes=T,e.memoizedState=W}}function _d(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function Nd(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)_d(a[e],n)}var Fo=N(null),Yl=N(0);function wd(e,n){e=yn,G(Yl,e),G(Fo,n),yn=e|n.baseLanes}function Kr(){G(Yl,yn),G(Fo,Fo.current)}function $r(){yn=Yl.current,J(Fo),J(Yl)}var _t=N(null),Ht=null;function In(e){var n=e.alternate;G(Fe,Fe.current&1),G(_t,e),Ht===null&&(n===null||Fo.current!==null||n.memoizedState!==null)&&(Ht=e)}function Xr(e){G(Fe,Fe.current),G(_t,e),Ht===null&&(Ht=e)}function Md(e){e.tag===22?(G(Fe,Fe.current),G(_t,e),Ht===null&&(Ht=e)):Dn()}function Dn(){G(Fe,Fe.current),G(_t,_t.current)}function Nt(e){J(_t),Ht===e&&(Ht=null),J(Fe)}var Fe=N(0);function jl(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||nu(a)||ou(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var un=0,ye=null,Ie=null,Ke=null,Kl=!1,Jo=!1,fo=!1,$l=0,qi=0,Yo=null,uv=0;function Ve(){throw Error(i(321))}function Qr(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!St(e[a],n[a]))return!1;return!0}function Zr(e,n,a,r,f,h){return un=h,ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=e===null||e.memoizedState===null?pf:ps,fo=!1,h=a(r,f),fo=!1,Jo&&(h=kd(n,a,r,f)),Rd(e),h}function Rd(e){D.H=Bi;var n=Ie!==null&&Ie.next!==null;if(un=0,Ke=Ie=ye=null,Kl=!1,qi=0,Yo=null,n)throw Error(i(300));e===null||$e||(e=e.dependencies,e!==null&&ql(e)&&($e=!0))}function kd(e,n,a,r){ye=e;var f=0;do{if(Jo&&(Yo=null),qi=0,Jo=!1,25<=f)throw Error(i(301));if(f+=1,Ke=Ie=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}D.H=mf,h=n(a,r)}while(Jo);return h}function cv(){var e=D.H,n=e.useState()[0];return n=typeof n.then=="function"?Hi(n):n,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(ye.flags|=1024),n}function Wr(){var e=$l!==0;return $l=0,e}function es(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function ts(e){if(Kl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Kl=!1}un=0,Ke=Ie=ye=null,Jo=!1,qi=$l=0,Yo=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ye.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Je(){if(Ie===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var n=Ke===null?ye.memoizedState:Ke.next;if(n!==null)Ke=n,Ie=e;else{if(e===null)throw ye.alternate===null?Error(i(467)):Error(i(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Ke===null?ye.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Xl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hi(e){var n=qi;return qi+=1,Yo===null&&(Yo=[]),e=Td(Yo,e,n),n=ye,(Ke===null?n.memoizedState:Ke.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?pf:ps),e}function Ql(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hi(e);if(e.$$typeof===M)return lt(e)}throw Error(i(438,String(e)))}function ns(e){var n=null,a=ye.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var r=ye.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Xl(),ye.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),r=0;r<e;r++)a[r]=B;return n.index++,a}function cn(e,n){return typeof n=="function"?n(e):n}function Zl(e){var n=Je();return os(n,Ie,e)}function os(e,n,a){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=a;var f=e.baseQueue,h=r.pending;if(h!==null){if(f!==null){var T=f.next;f.next=h.next,h.next=T}n.baseQueue=f=h,r.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var S=T=null,R=null,V=n,$=!1;do{var W=V.lane&-536870913;if(W!==V.lane?(Ee&W)===W:(un&W)===W){var F=V.revertLane;if(F===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),W===Ho&&($=!0);else if((un&F)===F){V=V.next,F===Ho&&($=!0);continue}else W={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(S=R=W,T=h):R=R.next=W,ye.lanes|=F,Pn|=F;W=V.action,fo&&a(h,W),h=V.hasEagerState?V.eagerState:a(h,W)}else F={lane:W,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(S=R=F,T=h):R=R.next=F,ye.lanes|=W,Pn|=W;V=V.next}while(V!==null&&V!==n);if(R===null?T=h:R.next=S,!St(h,e.memoizedState)&&($e=!0,$&&(a=Vo,a!==null)))throw a;e.memoizedState=h,e.baseState=T,e.baseQueue=R,r.lastRenderedState=h}return f===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function is(e){var n=Je(),a=n.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var r=a.dispatch,f=a.pending,h=n.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do h=e(h,T.action),T=T.next;while(T!==f);St(h,n.memoizedState)||($e=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,r]}function Id(e,n,a){var r=ye,f=Je(),h=Se;if(h){if(a===void 0)throw Error(i(407));a=a()}else a=n();var T=!St((Ie||f).memoizedState,a);if(T&&(f.memoizedState=a,$e=!0),f=f.queue,rs(Ud.bind(null,r,f,e),[e]),f.getSnapshot!==n||T||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,jo(9,{destroy:void 0},Ld.bind(null,r,f,a,n),null),Ue===null)throw Error(i(349));h||(un&127)!==0||Dd(r,n,a)}return a}function Dd(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=ye.updateQueue,n===null?(n=Xl(),ye.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Ld(e,n,a,r){n.value=a,n.getSnapshot=r,Pd(n)&&Gd(e)}function Ud(e,n,a){return a(function(){Pd(n)&&Gd(e)})}function Pd(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!St(e,a)}catch{return!0}}function Gd(e){var n=no(e,2);n!==null&&xt(n,e,2)}function ls(e){var n=dt();if(typeof e=="function"){var a=e;if(e=a(),fo){En(!0);try{a()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:e},n}function zd(e,n,a,r){return e.baseState=a,os(e,Ie,typeof r=="function"?r:cn)}function dv(e,n,a,r,f){if(ta(e))throw Error(i(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};D.T!==null?a(!0):h.isTransition=!1,r(h),a=n.pending,a===null?(h.next=n.pending=h,qd(n,h)):(h.next=a.next,n.pending=a.next=h)}}function qd(e,n){var a=n.action,r=n.payload,f=e.state;if(n.isTransition){var h=D.T,T={};D.T=T;try{var S=a(f,r),R=D.S;R!==null&&R(T,S),Hd(e,n,S)}catch(V){as(e,n,V)}finally{h!==null&&T.types!==null&&(h.types=T.types),D.T=h}}else try{h=a(f,r),Hd(e,n,h)}catch(V){as(e,n,V)}}function Hd(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Vd(e,n,r)},function(r){return as(e,n,r)}):Vd(e,n,a)}function Vd(e,n,a){n.status="fulfilled",n.value=a,Bd(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,qd(e,a)))}function as(e,n,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=a,Bd(n),n=n.next;while(n!==r)}e.action=null}function Bd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Od(e,n){return n}function Fd(e,n){if(Se){var a=Ue.formState;if(a!==null){e:{var r=ye;if(Se){if(Ge){t:{for(var f=Ge,h=qt;f.nodeType!==8;){if(!h){f=null;break t}if(f=Vt(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Ge=Vt(f.nextSibling),r=f.data==="F!";break e}}Nn(r)}r=!1}r&&(n=a[0])}}return a=dt(),a.memoizedState=a.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:n},a.queue=r,a=cf.bind(null,ye,r),r.dispatch=a,r=ls(!1),h=fs.bind(null,ye,!1,r.queue),r=dt(),f={state:n,dispatch:null,action:e,pending:null},r.queue=f,a=dv.bind(null,ye,f,h,a),f.dispatch=a,r.memoizedState=e,[n,a,!1]}function Jd(e){var n=Je();return Yd(n,Ie,e)}function Yd(e,n,a){if(n=os(e,n,Od)[0],e=Zl(cn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Hi(n)}catch(T){throw T===Bo?Bl:T}else r=n;n=Je();var f=n.queue,h=f.dispatch;return a!==n.memoizedState&&(ye.flags|=2048,jo(9,{destroy:void 0},fv.bind(null,f,a),null)),[r,h,e]}function fv(e,n){e.action=n}function jd(e){var n=Je(),a=Ie;if(a!==null)return Yd(n,a,e);Je(),n=n.memoizedState,a=Je();var r=a.queue.dispatch;return a.memoizedState=e,[n,r,!1]}function jo(e,n,a,r){return e={tag:e,create:a,deps:r,inst:n,next:null},n=ye.updateQueue,n===null&&(n=Xl(),ye.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,n.lastEffect=e),e}function Kd(){return Je().memoizedState}function Wl(e,n,a,r){var f=dt();ye.flags|=e,f.memoizedState=jo(1|n,{destroy:void 0},a,r===void 0?null:r)}function ea(e,n,a,r){var f=Je();r=r===void 0?null:r;var h=f.memoizedState.inst;Ie!==null&&r!==null&&Qr(r,Ie.memoizedState.deps)?f.memoizedState=jo(n,h,a,r):(ye.flags|=e,f.memoizedState=jo(1|n,h,a,r))}function $d(e,n){Wl(8390656,8,e,n)}function rs(e,n){ea(2048,8,e,n)}function pv(e){ye.flags|=4;var n=ye.updateQueue;if(n===null)n=Xl(),ye.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Xd(e){var n=Je().memoizedState;return pv({ref:n,nextImpl:e}),function(){if((Me&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function Qd(e,n){return ea(4,2,e,n)}function Zd(e,n){return ea(4,4,e,n)}function Wd(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ef(e,n,a){a=a!=null?a.concat([e]):null,ea(4,4,Wd.bind(null,n,e),a)}function ss(){}function tf(e,n){var a=Je();n=n===void 0?null:n;var r=a.memoizedState;return n!==null&&Qr(n,r[1])?r[0]:(a.memoizedState=[e,n],e)}function nf(e,n){var a=Je();n=n===void 0?null:n;var r=a.memoizedState;if(n!==null&&Qr(n,r[1]))return r[0];if(r=e(),fo){En(!0);try{e()}finally{En(!1)}}return a.memoizedState=[r,n],r}function us(e,n,a){return a===void 0||(un&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=ip(),ye.lanes|=e,Pn|=e,a)}function of(e,n,a,r){return St(a,n)?a:Fo.current!==null?(e=us(e,a,r),St(e,n)||($e=!0),e):(un&42)===0||(un&1073741824)!==0&&(Ee&261930)===0?($e=!0,e.memoizedState=a):(e=ip(),ye.lanes|=e,Pn|=e,n)}function lf(e,n,a,r,f){var h=Z.p;Z.p=h!==0&&8>h?h:8;var T=D.T,S={};D.T=S,fs(e,!1,n,a);try{var R=f(),V=D.S;if(V!==null&&V(S,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var $=sv(R,r);Vi(e,n,$,Rt(e))}else Vi(e,n,r,Rt(e))}catch(W){Vi(e,n,{then:function(){},status:"rejected",reason:W},Rt())}finally{Z.p=h,T!==null&&S.types!==null&&(T.types=S.types),D.T=T}}function mv(){}function cs(e,n,a,r){if(e.tag!==5)throw Error(i(476));var f=af(e).queue;lf(e,f,n,oe,a===null?mv:function(){return rf(e),a(r)})}function af(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:oe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function rf(e){var n=af(e);n.next===null&&(n=e.alternate.memoizedState),Vi(e,n.next.queue,{},Rt())}function ds(){return lt(il)}function sf(){return Je().memoizedState}function uf(){return Je().memoizedState}function hv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Rt();e=Rn(a);var r=kn(n,e,a);r!==null&&(xt(r,n,a),Pi(r,n,a)),n={cache:Hr()},e.payload=n;return}n=n.return}}function gv(e,n,a){var r=Rt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ta(e)?df(n,a):(a=Mr(e,n,a,r),a!==null&&(xt(a,e,r),ff(a,n,r)))}function cf(e,n,a){var r=Rt();Vi(e,n,a,r)}function Vi(e,n,a,r){var f={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ta(e))df(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var T=n.lastRenderedState,S=h(T,a);if(f.hasEagerState=!0,f.eagerState=S,St(S,T))return Ul(e,n,f,0),Ue===null&&Ll(),!1}catch{}finally{}if(a=Mr(e,n,f,r),a!==null)return xt(a,e,r),ff(a,n,r),!0}return!1}function fs(e,n,a,r){if(r={lane:2,revertLane:Fs(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ta(e)){if(n)throw Error(i(479))}else n=Mr(e,a,r,2),n!==null&&xt(n,e,2)}function ta(e){var n=e.alternate;return e===ye||n!==null&&n===ye}function df(e,n){Jo=Kl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function ff(e,n,a){if((a&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,a|=r,n.lanes=a,gc(e,a)}}var Bi={readContext:lt,use:Ql,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Bi.useEffectEvent=Ve;var pf={readContext:lt,use:Ql,useCallback:function(e,n){return dt().memoizedState=[e,n===void 0?null:n],e},useContext:lt,useEffect:$d,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Wl(4194308,4,Wd.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Wl(4194308,4,e,n)},useInsertionEffect:function(e,n){Wl(4,2,e,n)},useMemo:function(e,n){var a=dt();n=n===void 0?null:n;var r=e();if(fo){En(!0);try{e()}finally{En(!1)}}return a.memoizedState=[r,n],r},useReducer:function(e,n,a){var r=dt();if(a!==void 0){var f=a(n);if(fo){En(!0);try{a(n)}finally{En(!1)}}}else f=n;return r.memoizedState=r.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},r.queue=e,e=e.dispatch=gv.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var n=dt();return e={current:e},n.memoizedState=e},useState:function(e){e=ls(e);var n=e.queue,a=cf.bind(null,ye,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:ss,useDeferredValue:function(e,n){var a=dt();return us(a,e,n)},useTransition:function(){var e=ls(!1);return e=lf.bind(null,ye,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var r=ye,f=dt();if(Se){if(a===void 0)throw Error(i(407));a=a()}else{if(a=n(),Ue===null)throw Error(i(349));(Ee&127)!==0||Dd(r,n,a)}f.memoizedState=a;var h={value:a,getSnapshot:n};return f.queue=h,$d(Ud.bind(null,r,h,e),[e]),r.flags|=2048,jo(9,{destroy:void 0},Ld.bind(null,r,h,a,n),null),a},useId:function(){var e=dt(),n=Ue.identifierPrefix;if(Se){var a=Xt,r=$t;a=(r&~(1<<32-Ct(r)-1)).toString(32)+a,n="_"+n+"R_"+a,a=$l++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=uv++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ds,useFormState:Fd,useActionState:Fd,useOptimistic:function(e){var n=dt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=fs.bind(null,ye,!0,a),a.dispatch=n,[e,n]},useMemoCache:ns,useCacheRefresh:function(){return dt().memoizedState=hv.bind(null,ye)},useEffectEvent:function(e){var n=dt(),a={impl:e};return n.memoizedState=a,function(){if((Me&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},ps={readContext:lt,use:Ql,useCallback:tf,useContext:lt,useEffect:rs,useImperativeHandle:ef,useInsertionEffect:Qd,useLayoutEffect:Zd,useMemo:nf,useReducer:Zl,useRef:Kd,useState:function(){return Zl(cn)},useDebugValue:ss,useDeferredValue:function(e,n){var a=Je();return of(a,Ie.memoizedState,e,n)},useTransition:function(){var e=Zl(cn)[0],n=Je().memoizedState;return[typeof e=="boolean"?e:Hi(e),n]},useSyncExternalStore:Id,useId:sf,useHostTransitionStatus:ds,useFormState:Jd,useActionState:Jd,useOptimistic:function(e,n){var a=Je();return zd(a,Ie,e,n)},useMemoCache:ns,useCacheRefresh:uf};ps.useEffectEvent=Xd;var mf={readContext:lt,use:Ql,useCallback:tf,useContext:lt,useEffect:rs,useImperativeHandle:ef,useInsertionEffect:Qd,useLayoutEffect:Zd,useMemo:nf,useReducer:is,useRef:Kd,useState:function(){return is(cn)},useDebugValue:ss,useDeferredValue:function(e,n){var a=Je();return Ie===null?us(a,e,n):of(a,Ie.memoizedState,e,n)},useTransition:function(){var e=is(cn)[0],n=Je().memoizedState;return[typeof e=="boolean"?e:Hi(e),n]},useSyncExternalStore:Id,useId:sf,useHostTransitionStatus:ds,useFormState:jd,useActionState:jd,useOptimistic:function(e,n){var a=Je();return Ie!==null?zd(a,Ie,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ns,useCacheRefresh:uf};mf.useEffectEvent=Xd;function ms(e,n,a,r){n=e.memoizedState,a=a(r,n),a=a==null?n:x({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var hs={enqueueSetState:function(e,n,a){e=e._reactInternals;var r=Rt(),f=Rn(r);f.payload=n,a!=null&&(f.callback=a),n=kn(e,f,r),n!==null&&(xt(n,e,r),Pi(n,e,r))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var r=Rt(),f=Rn(r);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=kn(e,f,r),n!==null&&(xt(n,e,r),Pi(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Rt(),r=Rn(a);r.tag=2,n!=null&&(r.callback=n),n=kn(e,r,a),n!==null&&(xt(n,e,a),Pi(n,e,a))}};function hf(e,n,a,r,f,h,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,h,T):n.prototype&&n.prototype.isPureReactComponent?!wi(a,r)||!wi(f,h):!0}function gf(e,n,a,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,r),n.state!==e&&hs.enqueueReplaceState(n,n.state,null)}function po(e,n){var a=n;if("ref"in n){a={};for(var r in n)r!=="ref"&&(a[r]=n[r])}if(e=e.defaultProps){a===n&&(a=x({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function yf(e){Dl(e)}function vf(e){console.error(e)}function bf(e){Dl(e)}function na(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function xf(e,n,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function gs(e,n,a){return a=Rn(a),a.tag=3,a.payload={element:null},a.callback=function(){na(e,n)},a}function Tf(e){return e=Rn(e),e.tag=3,e}function Ef(e,n,a,r){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var h=r.value;e.payload=function(){return f(h)},e.callback=function(){xf(n,a,r)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){xf(n,a,r),typeof f!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var S=r.stack;this.componentDidCatch(r.value,{componentStack:S!==null?S:""})})}function yv(e,n,a,r,f){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=a.alternate,n!==null&&qo(n,a,f,!0),a=_t.current,a!==null){switch(a.tag){case 31:case 13:return Ht===null?ma():a.alternate===null&&Be===0&&(Be=3),a.flags&=-257,a.flags|=65536,a.lanes=f,r===Ol?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([r]):n.add(r),Vs(e,r,f)),!1;case 22:return a.flags|=65536,r===Ol?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([r]):a.add(r)),Vs(e,r,f)),!1}throw Error(i(435,a.tag))}return Vs(e,r,f),ma(),!1}if(Se)return n=_t.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,r!==Ur&&(e=Error(i(422),{cause:r}),ki(Pt(e,a)))):(r!==Ur&&(n=Error(i(423),{cause:r}),ki(Pt(n,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,r=Pt(r,a),f=gs(e.stateNode,r,f),Yr(e,f),Be!==4&&(Be=2)),!1;var h=Error(i(520),{cause:r});if(h=Pt(h,a),Xi===null?Xi=[h]:Xi.push(h),Be!==4&&(Be=2),n===null)return!0;r=Pt(r,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=gs(a.stateNode,r,e),Yr(a,e),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Gn===null||!Gn.has(h))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Tf(f),Ef(f,e,a,r),Yr(a,f),!1}a=a.return}while(a!==null);return!1}var ys=Error(i(461)),$e=!1;function at(e,n,a,r){n.child=e===null?Ad(n,null,a,r):co(n,e.child,a,r)}function Cf(e,n,a,r,f){a=a.render;var h=n.ref;if("ref"in r){var T={};for(var S in r)S!=="ref"&&(T[S]=r[S])}else T=r;return ao(n),r=Zr(e,n,a,T,h,f),S=Wr(),e!==null&&!$e?(es(e,n,f),dn(e,n,f)):(Se&&S&&Dr(n),n.flags|=1,at(e,n,r,f),n.child)}function Sf(e,n,a,r,f){if(e===null){var h=a.type;return typeof h=="function"&&!Rr(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Af(e,n,h,r,f)):(e=Gl(a.type,null,r,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!As(e,f)){var T=h.memoizedProps;if(a=a.compare,a=a!==null?a:wi,a(T,r)&&e.ref===n.ref)return dn(e,n,f)}return n.flags|=1,e=ln(h,r),e.ref=n.ref,e.return=n,n.child=e}function Af(e,n,a,r,f){if(e!==null){var h=e.memoizedProps;if(wi(h,r)&&e.ref===n.ref)if($e=!1,n.pendingProps=r=h,As(e,f))(e.flags&131072)!==0&&($e=!0);else return n.lanes=e.lanes,dn(e,n,f)}return vs(e,n,a,r,f)}function _f(e,n,a,r){var f=r.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,e!==null){for(r=n.child=e.child,f=0;r!==null;)f=f|r.lanes|r.childLanes,r=r.sibling;r=f&~h}else r=0,n.child=null;return Nf(e,n,h,a,r)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vl(n,h!==null?h.cachePool:null),h!==null?wd(n,h):Kr(),Md(n);else return r=n.lanes=536870912,Nf(e,n,h!==null?h.baseLanes|a:a,a,r)}else h!==null?(Vl(n,h.cachePool),wd(n,h),Dn(),n.memoizedState=null):(e!==null&&Vl(n,null),Kr(),Dn());return at(e,n,f,a),n.child}function Oi(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Nf(e,n,a,r,f){var h=Br();return h=h===null?null:{parent:je._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&Vl(n,null),Kr(),Md(n),e!==null&&qo(e,n,r,!0),n.childLanes=f,null}function oa(e,n){return n=la({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function wf(e,n,a){return co(n,e.child,null,a),e=oa(n,n.pendingProps),e.flags|=2,Nt(n),n.memoizedState=null,e}function vv(e,n,a){var r=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Se){if(r.mode==="hidden")return e=oa(n,r),n.lanes=536870912,Oi(null,e);if(Xr(n),(e=Ge)?(e=Hp(e,qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:An!==null?{id:$t,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},a=cd(e),a.return=n,n.child=a,it=n,Ge=null)):e=null,e===null)throw Nn(n);return n.lanes=536870912,null}return oa(n,r)}var h=e.memoizedState;if(h!==null){var T=h.dehydrated;if(Xr(n),f)if(n.flags&256)n.flags&=-257,n=wf(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(i(558));else if($e||qo(e,n,a,!1),f=(a&e.childLanes)!==0,$e||f){if(r=Ue,r!==null&&(T=yc(r,a),T!==0&&T!==h.retryLane))throw h.retryLane=T,no(e,T),xt(r,e,T),ys;ma(),n=wf(e,n,a)}else e=h.treeContext,Ge=Vt(T.nextSibling),it=n,Se=!0,_n=null,qt=!1,e!==null&&pd(n,e),n=oa(n,r),n.flags|=4096;return n}return e=ln(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ia(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function vs(e,n,a,r,f){return ao(n),a=Zr(e,n,a,r,void 0,f),r=Wr(),e!==null&&!$e?(es(e,n,f),dn(e,n,f)):(Se&&r&&Dr(n),n.flags|=1,at(e,n,a,f),n.child)}function Mf(e,n,a,r,f,h){return ao(n),n.updateQueue=null,a=kd(n,r,a,f),Rd(e),r=Wr(),e!==null&&!$e?(es(e,n,h),dn(e,n,h)):(Se&&r&&Dr(n),n.flags|=1,at(e,n,a,h),n.child)}function Rf(e,n,a,r,f){if(ao(n),n.stateNode===null){var h=Uo,T=a.contextType;typeof T=="object"&&T!==null&&(h=lt(T)),h=new a(r,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=hs,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=r,h.state=n.memoizedState,h.refs={},Fr(n),T=a.contextType,h.context=typeof T=="object"&&T!==null?lt(T):Uo,h.state=n.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(ms(n,a,T,r),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&hs.enqueueReplaceState(h,h.state,null),zi(n,r,h,f),Gi(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){h=n.stateNode;var S=n.memoizedProps,R=po(a,S);h.props=R;var V=h.context,$=a.contextType;T=Uo,typeof $=="object"&&$!==null&&(T=lt($));var W=a.getDerivedStateFromProps;$=typeof W=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,$||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||V!==T)&&gf(n,h,r,T),Mn=!1;var F=n.memoizedState;h.state=F,zi(n,r,h,f),Gi(),V=n.memoizedState,S||F!==V||Mn?(typeof W=="function"&&(ms(n,a,W,r),V=n.memoizedState),(R=Mn||hf(n,a,R,r,F,V,T))?($||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=V),h.props=r,h.state=V,h.context=T,r=R):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{h=n.stateNode,Jr(e,n),T=n.memoizedProps,$=po(a,T),h.props=$,W=n.pendingProps,F=h.context,V=a.contextType,R=Uo,typeof V=="object"&&V!==null&&(R=lt(V)),S=a.getDerivedStateFromProps,(V=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==W||F!==R)&&gf(n,h,r,R),Mn=!1,F=n.memoizedState,h.state=F,zi(n,r,h,f),Gi();var Y=n.memoizedState;T!==W||F!==Y||Mn||e!==null&&e.dependencies!==null&&ql(e.dependencies)?(typeof S=="function"&&(ms(n,a,S,r),Y=n.memoizedState),($=Mn||hf(n,a,$,r,F,Y,R)||e!==null&&e.dependencies!==null&&ql(e.dependencies))?(V||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,Y,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,Y,R)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=Y),h.props=r,h.state=Y,h.context=R,r=$):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),r=!1)}return h=r,ia(e,n),r=(n.flags&128)!==0,h||r?(h=n.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&r?(n.child=co(n,e.child,null,f),n.child=co(n,null,a,f)):at(e,n,a,f),n.memoizedState=h.state,e=n.child):e=dn(e,n,f),e}function kf(e,n,a,r){return io(),n.flags|=256,at(e,n,a,r),n.child}var bs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xs(e){return{baseLanes:e,cachePool:bd()}}function Ts(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Mt),e}function If(e,n,a){var r=n.pendingProps,f=!1,h=(n.flags&128)!==0,T;if((T=h)||(T=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),T&&(f=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(Se){if(f?In(n):Dn(),(e=Ge)?(e=Hp(e,qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:An!==null?{id:$t,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},a=cd(e),a.return=n,n.child=a,it=n,Ge=null)):e=null,e===null)throw Nn(n);return ou(e)?n.lanes=32:n.lanes=536870912,null}var S=r.children;return r=r.fallback,f?(Dn(),f=n.mode,S=la({mode:"hidden",children:S},f),r=oo(r,f,a,null),S.return=n,r.return=n,S.sibling=r,n.child=S,r=n.child,r.memoizedState=xs(a),r.childLanes=Ts(e,T,a),n.memoizedState=bs,Oi(null,r)):(In(n),Es(n,S))}var R=e.memoizedState;if(R!==null&&(S=R.dehydrated,S!==null)){if(h)n.flags&256?(In(n),n.flags&=-257,n=Cs(e,n,a)):n.memoizedState!==null?(Dn(),n.child=e.child,n.flags|=128,n=null):(Dn(),S=r.fallback,f=n.mode,r=la({mode:"visible",children:r.children},f),S=oo(S,f,a,null),S.flags|=2,r.return=n,S.return=n,r.sibling=S,n.child=r,co(n,e.child,null,a),r=n.child,r.memoizedState=xs(a),r.childLanes=Ts(e,T,a),n.memoizedState=bs,n=Oi(null,r));else if(In(n),ou(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var V=T.dgst;T=V,r=Error(i(419)),r.stack="",r.digest=T,ki({value:r,source:null,stack:null}),n=Cs(e,n,a)}else if($e||qo(e,n,a,!1),T=(a&e.childLanes)!==0,$e||T){if(T=Ue,T!==null&&(r=yc(T,a),r!==0&&r!==R.retryLane))throw R.retryLane=r,no(e,r),xt(T,e,r),ys;nu(S)||ma(),n=Cs(e,n,a)}else nu(S)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,Ge=Vt(S.nextSibling),it=n,Se=!0,_n=null,qt=!1,e!==null&&pd(n,e),n=Es(n,r.children),n.flags|=4096);return n}return f?(Dn(),S=r.fallback,f=n.mode,R=e.child,V=R.sibling,r=ln(R,{mode:"hidden",children:r.children}),r.subtreeFlags=R.subtreeFlags&65011712,V!==null?S=ln(V,S):(S=oo(S,f,a,null),S.flags|=2),S.return=n,r.return=n,r.sibling=S,n.child=r,Oi(null,r),r=n.child,S=e.child.memoizedState,S===null?S=xs(a):(f=S.cachePool,f!==null?(R=je._currentValue,f=f.parent!==R?{parent:R,pool:R}:f):f=bd(),S={baseLanes:S.baseLanes|a,cachePool:f}),r.memoizedState=S,r.childLanes=Ts(e,T,a),n.memoizedState=bs,Oi(e.child,r)):(In(n),a=e.child,e=a.sibling,a=ln(a,{mode:"visible",children:r.children}),a.return=n,a.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=a,n.memoizedState=null,a)}function Es(e,n){return n=la({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function la(e,n){return e=At(22,e,null,n),e.lanes=0,e}function Cs(e,n,a){return co(n,e.child,null,a),e=Es(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Df(e,n,a){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),zr(e.return,n,a)}function Ss(e,n,a,r,f,h){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:f,treeForkCount:h}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=r,T.tail=a,T.tailMode=f,T.treeForkCount=h)}function Lf(e,n,a){var r=n.pendingProps,f=r.revealOrder,h=r.tail;r=r.children;var T=Fe.current,S=(T&2)!==0;if(S?(T=T&1|2,n.flags|=128):T&=1,G(Fe,T),at(e,n,r,a),r=Se?Ri:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Df(e,a,n);else if(e.tag===19)Df(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&jl(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),Ss(n,!1,f,a,h,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&jl(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Ss(n,!0,a,null,h,r);break;case"together":Ss(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function dn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Pn|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(qo(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,a=ln(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=ln(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function As(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ql(e)))}function bv(e,n,a){switch(n.tag){case 3:Oe(n,n.stateNode.containerInfo),wn(n,je,e.memoizedState.cache),io();break;case 27:case 5:st(n);break;case 4:Oe(n,n.stateNode.containerInfo);break;case 10:wn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xr(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(In(n),n.flags|=128,null):(a&n.child.childLanes)!==0?If(e,n,a):(In(n),e=dn(e,n,a),e!==null?e.sibling:null);In(n);break;case 19:var f=(e.flags&128)!==0;if(r=(a&n.childLanes)!==0,r||(qo(e,n,a,!1),r=(a&n.childLanes)!==0),f){if(r)return Lf(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),G(Fe,Fe.current),r)break;return null;case 22:return n.lanes=0,_f(e,n,a,n.pendingProps);case 24:wn(n,je,e.memoizedState.cache)}return dn(e,n,a)}function Uf(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)$e=!0;else{if(!As(e,a)&&(n.flags&128)===0)return $e=!1,bv(e,n,a);$e=(e.flags&131072)!==0}else $e=!1,Se&&(n.flags&1048576)!==0&&fd(n,Ri,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=so(n.elementType),n.type=e,typeof e=="function")Rr(e)?(r=po(e,r),n.tag=1,n=Rf(null,n,e,r,a)):(n.tag=0,n=vs(null,n,e,r,a));else{if(e!=null){var f=e.$$typeof;if(f===O){n.tag=11,n=Cf(null,n,e,r,a);break e}else if(f===X){n.tag=14,n=Sf(null,n,e,r,a);break e}}throw n=be(e)||e,Error(i(306,n,""))}}return n;case 0:return vs(e,n,n.type,n.pendingProps,a);case 1:return r=n.type,f=po(r,n.pendingProps),Rf(e,n,r,f,a);case 3:e:{if(Oe(n,n.stateNode.containerInfo),e===null)throw Error(i(387));r=n.pendingProps;var h=n.memoizedState;f=h.element,Jr(e,n),zi(n,r,null,a);var T=n.memoizedState;if(r=T.cache,wn(n,je,r),r!==h.cache&&qr(n,[je],a,!0),Gi(),r=T.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=kf(e,n,r,a);break e}else if(r!==f){f=Pt(Error(i(424)),n),ki(f),n=kf(e,n,r,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ge=Vt(e.firstChild),it=n,Se=!0,_n=null,qt=!0,a=Ad(n,null,r,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(io(),r===f){n=dn(e,n,a);break e}at(e,n,r,a)}n=n.child}return n;case 26:return ia(e,n),e===null?(a=Yp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Se||(a=n.type,e=n.pendingProps,r=Ta(de.current).createElement(a),r[ot]=n,r[mt]=e,rt(r,a,e),et(r),n.stateNode=r):n.memoizedState=Yp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return st(n),e===null&&Se&&(r=n.stateNode=Op(n.type,n.pendingProps,de.current),it=n,qt=!0,f=Ge,Vn(n.type)?(iu=f,Ge=Vt(r.firstChild)):Ge=f),at(e,n,n.pendingProps.children,a),ia(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Se&&((f=r=Ge)&&(r=$v(r,n.type,n.pendingProps,qt),r!==null?(n.stateNode=r,it=n,Ge=Vt(r.firstChild),qt=!1,f=!0):f=!1),f||Nn(n)),st(n),f=n.type,h=n.pendingProps,T=e!==null?e.memoizedProps:null,r=h.children,Ws(f,h)?r=null:T!==null&&Ws(f,T)&&(n.flags|=32),n.memoizedState!==null&&(f=Zr(e,n,cv,null,null,a),il._currentValue=f),ia(e,n),at(e,n,r,a),n.child;case 6:return e===null&&Se&&((e=a=Ge)&&(a=Xv(a,n.pendingProps,qt),a!==null?(n.stateNode=a,it=n,Ge=null,e=!0):e=!1),e||Nn(n)),null;case 13:return If(e,n,a);case 4:return Oe(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=co(n,null,r,a):at(e,n,r,a),n.child;case 11:return Cf(e,n,n.type,n.pendingProps,a);case 7:return at(e,n,n.pendingProps,a),n.child;case 8:return at(e,n,n.pendingProps.children,a),n.child;case 12:return at(e,n,n.pendingProps.children,a),n.child;case 10:return r=n.pendingProps,wn(n,n.type,r.value),at(e,n,r.children,a),n.child;case 9:return f=n.type._context,r=n.pendingProps.children,ao(n),f=lt(f),r=r(f),n.flags|=1,at(e,n,r,a),n.child;case 14:return Sf(e,n,n.type,n.pendingProps,a);case 15:return Af(e,n,n.type,n.pendingProps,a);case 19:return Lf(e,n,a);case 31:return vv(e,n,a);case 22:return _f(e,n,a,n.pendingProps);case 24:return ao(n),r=lt(je),e===null?(f=Br(),f===null&&(f=Ue,h=Hr(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=a),f=h),n.memoizedState={parent:r,cache:f},Fr(n),wn(n,je,f)):((e.lanes&a)!==0&&(Jr(e,n),zi(n,null,null,a),Gi()),f=e.memoizedState,h=n.memoizedState,f.parent!==r?(f={parent:r,cache:r},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),wn(n,je,r)):(r=h.cache,wn(n,je,r),r!==f.cache&&qr(n,[je],a,!0))),at(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function fn(e){e.flags|=4}function _s(e,n,a,r,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(sp())e.flags|=8192;else throw uo=Ol,Or}else e.flags&=-16777217}function Pf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qp(n))if(sp())e.flags|=8192;else throw uo=Ol,Or}function aa(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?mc():536870912,e.lanes|=n,Qo|=n)}function Fi(e,n){if(!Se)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,r|=f.subtreeFlags&65011712,r|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,r|=f.subtreeFlags,r|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=r,e.childLanes=a,n}function xv(e,n,a){var r=n.pendingProps;switch(Lr(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(n),null;case 1:return ze(n),null;case 3:return a=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),sn(je),we(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(zo(n)?fn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Pr())),ze(n),null;case 26:var f=n.type,h=n.memoizedState;return e===null?(fn(n),h!==null?(ze(n),Pf(n,h)):(ze(n),_s(n,f,null,r,a))):h?h!==e.memoizedState?(fn(n),ze(n),Pf(n,h)):(ze(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&fn(n),ze(n),_s(n,f,e,r,a)),null;case 27:if(pt(n),a=de.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&fn(n);else{if(!r){if(n.stateNode===null)throw Error(i(166));return ze(n),null}e=ne.current,zo(n)?md(n):(e=Op(f,r,a),n.stateNode=e,fn(n))}return ze(n),null;case 5:if(pt(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&fn(n);else{if(!r){if(n.stateNode===null)throw Error(i(166));return ze(n),null}if(h=ne.current,zo(n))md(n);else{var T=Ta(de.current);switch(h){case 1:h=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=T.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof r.is=="string"?T.createElement("select",{is:r.is}):T.createElement("select"),r.multiple?h.multiple=!0:r.size&&(h.size=r.size);break;default:h=typeof r.is=="string"?T.createElement(f,{is:r.is}):T.createElement(f)}}h[ot]=n,h[mt]=r;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)h.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=h;e:switch(rt(h,f,r),f){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&fn(n)}}return ze(n),_s(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&fn(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(i(166));if(e=de.current,zo(n)){if(e=n.stateNode,a=n.memoizedProps,r=null,f=it,f!==null)switch(f.tag){case 27:case 5:r=f.memoizedProps}e[ot]=n,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||Ip(e.nodeValue,a)),e||Nn(n,!0)}else e=Ta(e).createTextNode(r),e[ot]=n,n.stateNode=e}return ze(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(r=zo(n),a!==null){if(e===null){if(!r)throw Error(i(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ot]=n}else io(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),e=!1}else a=Pr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Nt(n),n):(Nt(n),null);if((n.flags&128)!==0)throw Error(i(558))}return ze(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=zo(n),r!==null&&r.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[ot]=n}else io(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),f=!1}else f=Pr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Nt(n),n):(Nt(n),null)}return Nt(n),(n.flags&128)!==0?(n.lanes=a,n):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=n.child,f=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(f=r.alternate.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==f&&(r.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),aa(n,n.updateQueue),ze(n),null);case 4:return we(),e===null&&Ks(n.stateNode.containerInfo),ze(n),null;case 10:return sn(n.type),ze(n),null;case 19:if(J(Fe),r=n.memoizedState,r===null)return ze(n),null;if(f=(n.flags&128)!==0,h=r.rendering,h===null)if(f)Fi(r,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=jl(e),h!==null){for(n.flags|=128,Fi(r,!1),e=h.updateQueue,n.updateQueue=e,aa(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)ud(a,e),a=a.sibling;return G(Fe,Fe.current&1|2),Se&&an(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&Tt()>da&&(n.flags|=128,f=!0,Fi(r,!1),n.lanes=4194304)}else{if(!f)if(e=jl(h),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,aa(n,e),Fi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!h.alternate&&!Se)return ze(n),null}else 2*Tt()-r.renderingStartTime>da&&a!==536870912&&(n.flags|=128,f=!0,Fi(r,!1),n.lanes=4194304);r.isBackwards?(h.sibling=n.child,n.child=h):(e=r.last,e!==null?e.sibling=h:n.child=h,r.last=h)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Tt(),e.sibling=null,a=Fe.current,G(Fe,f?a&1|2:a&1),Se&&an(n,r.treeForkCount),e):(ze(n),null);case 22:case 23:return Nt(n),$r(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(a&536870912)!==0&&(n.flags&128)===0&&(ze(n),n.subtreeFlags&6&&(n.flags|=8192)):ze(n),a=n.updateQueue,a!==null&&aa(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==a&&(n.flags|=2048),e!==null&&J(ro),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),sn(je),ze(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function Tv(e,n){switch(Lr(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return sn(je),we(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return pt(n),null;case 31:if(n.memoizedState!==null){if(Nt(n),n.alternate===null)throw Error(i(340));io()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Nt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));io()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return J(Fe),null;case 4:return we(),null;case 10:return sn(n.type),null;case 22:case 23:return Nt(n),$r(),e!==null&&J(ro),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return sn(je),null;case 25:return null;default:return null}}function Gf(e,n){switch(Lr(n),n.tag){case 3:sn(je),we();break;case 26:case 27:case 5:pt(n);break;case 4:we();break;case 31:n.memoizedState!==null&&Nt(n);break;case 13:Nt(n);break;case 19:J(Fe);break;case 10:sn(n.type);break;case 22:case 23:Nt(n),$r(),e!==null&&J(ro);break;case 24:sn(je)}}function Ji(e,n){try{var a=n.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var f=r.next;a=f;do{if((a.tag&e)===e){r=void 0;var h=a.create,T=a.inst;r=h(),T.destroy=r}a=a.next}while(a!==f)}}catch(S){ke(n,n.return,S)}}function Ln(e,n,a){try{var r=n.updateQueue,f=r!==null?r.lastEffect:null;if(f!==null){var h=f.next;r=h;do{if((r.tag&e)===e){var T=r.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=n;var R=a,V=S;try{V()}catch($){ke(f,R,$)}}}r=r.next}while(r!==h)}}catch($){ke(n,n.return,$)}}function zf(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Nd(n,a)}catch(r){ke(e,e.return,r)}}}function qf(e,n,a){a.props=po(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){ke(e,n,r)}}function Yi(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(f){ke(e,n,f)}}function Qt(e,n){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(f){ke(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ke(e,n,f)}else a.current=null}function Hf(e){var n=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(f){ke(e,e.return,f)}}function Ns(e,n,a){try{var r=e.stateNode;Ov(r,e.type,a,n),r[mt]=n}catch(f){ke(e,e.return,f)}}function Vf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vn(e.type)||e.tag===4}function ws(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ms(e,n,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=nn));else if(r!==4&&(r===27&&Vn(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Ms(e,n,a),e=e.sibling;e!==null;)Ms(e,n,a),e=e.sibling}function ra(e,n,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(r!==4&&(r===27&&Vn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ra(e,n,a),e=e.sibling;e!==null;)ra(e,n,a),e=e.sibling}function Bf(e){var n=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);rt(n,r,a),n[ot]=e,n[mt]=a}catch(h){ke(e,e.return,h)}}var pn=!1,Xe=!1,Rs=!1,Of=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Ev(e,n){if(e=e.containerInfo,Qs=wa,e=ed(e),Cr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var f=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var T=0,S=-1,R=-1,V=0,$=0,W=e,F=null;t:for(;;){for(var Y;W!==a||f!==0&&W.nodeType!==3||(S=T+f),W!==h||r!==0&&W.nodeType!==3||(R=T+r),W.nodeType===3&&(T+=W.nodeValue.length),(Y=W.firstChild)!==null;)F=W,W=Y;for(;;){if(W===e)break t;if(F===a&&++V===f&&(S=T),F===h&&++$===r&&(R=T),(Y=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=Y}a=S===-1||R===-1?null:{start:S,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zs={focusedElem:e,selectionRange:a},wa=!1,tt=n;tt!==null;)if(n=tt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,tt=e;else for(;tt!==null;){switch(n=tt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=n,f=h.memoizedProps,h=h.memoizedState,r=a.stateNode;try{var ae=po(a.type,f);e=r.getSnapshotBeforeUpdate(ae,h),r.__reactInternalSnapshotBeforeUpdate=e}catch(pe){ke(a,a.return,pe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)tu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":tu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,tt=e;break}tt=n.return}}function Ff(e,n,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:hn(e,a),r&4&&Ji(5,a);break;case 1:if(hn(e,a),r&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(T){ke(a,a.return,T)}else{var f=po(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){ke(a,a.return,T)}}r&64&&zf(a),r&512&&Yi(a,a.return);break;case 3:if(hn(e,a),r&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Nd(e,n)}catch(T){ke(a,a.return,T)}}break;case 27:n===null&&r&4&&Bf(a);case 26:case 5:hn(e,a),n===null&&r&4&&Hf(a),r&512&&Yi(a,a.return);break;case 12:hn(e,a);break;case 31:hn(e,a),r&4&&jf(e,a);break;case 13:hn(e,a),r&4&&Kf(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=kv.bind(null,a),Qv(e,a))));break;case 22:if(r=a.memoizedState!==null||pn,!r){n=n!==null&&n.memoizedState!==null||Xe,f=pn;var h=Xe;pn=r,(Xe=n)&&!h?gn(e,a,(a.subtreeFlags&8772)!==0):hn(e,a),pn=f,Xe=h}break;case 30:break;default:hn(e,a)}}function Jf(e){var n=e.alternate;n!==null&&(e.alternate=null,Jf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ar(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,gt=!1;function mn(e,n,a){for(a=a.child;a!==null;)Yf(e,n,a),a=a.sibling}function Yf(e,n,a){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(gi,a)}catch{}switch(a.tag){case 26:Xe||Qt(a,n),mn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xe||Qt(a,n);var r=He,f=gt;Vn(a.type)&&(He=a.stateNode,gt=!1),mn(e,n,a),tl(a.stateNode),He=r,gt=f;break;case 5:Xe||Qt(a,n);case 6:if(r=He,f=gt,He=null,mn(e,n,a),He=r,gt=f,He!==null)if(gt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(h){ke(a,n,h)}else try{He.removeChild(a.stateNode)}catch(h){ke(a,n,h)}break;case 18:He!==null&&(gt?(e=He,zp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),li(e)):zp(He,a.stateNode));break;case 4:r=He,f=gt,He=a.stateNode.containerInfo,gt=!0,mn(e,n,a),He=r,gt=f;break;case 0:case 11:case 14:case 15:Ln(2,a,n),Xe||Ln(4,a,n),mn(e,n,a);break;case 1:Xe||(Qt(a,n),r=a.stateNode,typeof r.componentWillUnmount=="function"&&qf(a,n,r)),mn(e,n,a);break;case 21:mn(e,n,a);break;case 22:Xe=(r=Xe)||a.memoizedState!==null,mn(e,n,a),Xe=r;break;default:mn(e,n,a)}}function jf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{li(e)}catch(a){ke(n,n.return,a)}}}function Kf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{li(e)}catch(a){ke(n,n.return,a)}}function Cv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Of),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Of),n;default:throw Error(i(435,e.tag))}}function sa(e,n){var a=Cv(e);n.forEach(function(r){if(!a.has(r)){a.add(r);var f=Iv.bind(null,e,r);r.then(f,f)}})}function yt(e,n){var a=n.deletions;if(a!==null)for(var r=0;r<a.length;r++){var f=a[r],h=e,T=n,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(Vn(S.type)){He=S.stateNode,gt=!1;break e}break;case 5:He=S.stateNode,gt=!1;break e;case 3:case 4:He=S.stateNode.containerInfo,gt=!0;break e}S=S.return}if(He===null)throw Error(i(160));Yf(h,T,f),He=null,gt=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)$f(n,e),n=n.sibling}var Jt=null;function $f(e,n){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(n,e),vt(e),r&4&&(Ln(3,e,e.return),Ji(3,e),Ln(5,e,e.return));break;case 1:yt(n,e),vt(e),r&512&&(Xe||a===null||Qt(a,a.return)),r&64&&pn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var f=Jt;if(yt(n,e),vt(e),r&512&&(Xe||a===null||Qt(a,a.return)),r&4){var h=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,f=f.ownerDocument||f;t:switch(r){case"title":h=f.getElementsByTagName("title")[0],(!h||h[bi]||h[ot]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(r),f.head.insertBefore(h,f.querySelector("head > title"))),rt(h,r,a),h[ot]=e,et(h),r=h;break e;case"link":var T=$p("link","href",f).get(r+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(h=T[S],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break t}}h=f.createElement(r),rt(h,r,a),f.head.appendChild(h);break;case"meta":if(T=$p("meta","content",f).get(r+(a.content||""))){for(S=0;S<T.length;S++)if(h=T[S],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break t}}h=f.createElement(r),rt(h,r,a),f.head.appendChild(h);break;default:throw Error(i(468,r))}h[ot]=e,et(h),r=h}e.stateNode=r}else Xp(f,e.type,e.stateNode);else e.stateNode=Kp(f,r,e.memoizedProps);else h!==r?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,r===null?Xp(f,e.type,e.stateNode):Kp(f,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Ns(e,e.memoizedProps,a.memoizedProps)}break;case 27:yt(n,e),vt(e),r&512&&(Xe||a===null||Qt(a,a.return)),a!==null&&r&4&&Ns(e,e.memoizedProps,a.memoizedProps);break;case 5:if(yt(n,e),vt(e),r&512&&(Xe||a===null||Qt(a,a.return)),e.flags&32){f=e.stateNode;try{wo(f,"")}catch(ae){ke(e,e.return,ae)}}r&4&&e.stateNode!=null&&(f=e.memoizedProps,Ns(e,f,a!==null?a.memoizedProps:f)),r&1024&&(Rs=!0);break;case 6:if(yt(n,e),vt(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(ae){ke(e,e.return,ae)}}break;case 3:if(Sa=null,f=Jt,Jt=Ea(n.containerInfo),yt(n,e),Jt=f,vt(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{li(n.containerInfo)}catch(ae){ke(e,e.return,ae)}Rs&&(Rs=!1,Xf(e));break;case 4:r=Jt,Jt=Ea(e.stateNode.containerInfo),yt(n,e),vt(e),Jt=r;break;case 12:yt(n,e),vt(e);break;case 31:yt(n,e),vt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,sa(e,r)));break;case 13:yt(n,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ca=Tt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,sa(e,r)));break;case 22:f=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,V=pn,$=Xe;if(pn=V||f,Xe=$||R,yt(n,e),Xe=$,pn=V,vt(e),r&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||R||pn||Xe||mo(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(h=R.stateNode,f)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=R.stateNode;var W=R.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ae){ke(R,R.return,ae)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=f?"":R.memoizedProps}catch(ae){ke(R,R.return,ae)}}}else if(n.tag===18){if(a===null){R=n;try{var Y=R.stateNode;f?qp(Y,!0):qp(R.stateNode,!1)}catch(ae){ke(R,R.return,ae)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,sa(e,a))));break;case 19:yt(n,e),vt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,sa(e,r)));break;case 30:break;case 21:break;default:yt(n,e),vt(e)}}function vt(e){var n=e.flags;if(n&2){try{for(var a,r=e.return;r!==null;){if(Vf(r)){a=r;break}r=r.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,h=ws(e);ra(e,h,f);break;case 5:var T=a.stateNode;a.flags&32&&(wo(T,""),a.flags&=-33);var S=ws(e);ra(e,S,T);break;case 3:case 4:var R=a.stateNode.containerInfo,V=ws(e);Ms(e,V,R);break;default:throw Error(i(161))}}catch($){ke(e,e.return,$)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Xf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Xf(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function hn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ff(e,n.alternate,n),n=n.sibling}function mo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ln(4,n,n.return),mo(n);break;case 1:Qt(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&qf(n,n.return,a),mo(n);break;case 27:tl(n.stateNode);case 26:case 5:Qt(n,n.return),mo(n);break;case 22:n.memoizedState===null&&mo(n);break;case 30:mo(n);break;default:mo(n)}e=e.sibling}}function gn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,f=e,h=n,T=h.flags;switch(h.tag){case 0:case 11:case 15:gn(f,h,a),Ji(4,h);break;case 1:if(gn(f,h,a),r=h,f=r.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(V){ke(r,r.return,V)}if(r=h,f=r.updateQueue,f!==null){var S=r.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)_d(R[f],S)}catch(V){ke(r,r.return,V)}}a&&T&64&&zf(h),Yi(h,h.return);break;case 27:Bf(h);case 26:case 5:gn(f,h,a),a&&r===null&&T&4&&Hf(h),Yi(h,h.return);break;case 12:gn(f,h,a);break;case 31:gn(f,h,a),a&&T&4&&jf(f,h);break;case 13:gn(f,h,a),a&&T&4&&Kf(f,h);break;case 22:h.memoizedState===null&&gn(f,h,a),Yi(h,h.return);break;case 30:break;default:gn(f,h,a)}n=n.sibling}}function ks(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ii(a))}function Is(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ii(e))}function Yt(e,n,a,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qf(e,n,a,r),n=n.sibling}function Qf(e,n,a,r){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Yt(e,n,a,r),f&2048&&Ji(9,n);break;case 1:Yt(e,n,a,r);break;case 3:Yt(e,n,a,r),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ii(e)));break;case 12:if(f&2048){Yt(e,n,a,r),e=n.stateNode;try{var h=n.memoizedProps,T=h.id,S=h.onPostCommit;typeof S=="function"&&S(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){ke(n,n.return,R)}}else Yt(e,n,a,r);break;case 31:Yt(e,n,a,r);break;case 13:Yt(e,n,a,r);break;case 23:break;case 22:h=n.stateNode,T=n.alternate,n.memoizedState!==null?h._visibility&2?Yt(e,n,a,r):ji(e,n):h._visibility&2?Yt(e,n,a,r):(h._visibility|=2,Ko(e,n,a,r,(n.subtreeFlags&10256)!==0||!1)),f&2048&&ks(T,n);break;case 24:Yt(e,n,a,r),f&2048&&Is(n.alternate,n);break;default:Yt(e,n,a,r)}}function Ko(e,n,a,r,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,T=n,S=a,R=r,V=T.flags;switch(T.tag){case 0:case 11:case 15:Ko(h,T,S,R,f),Ji(8,T);break;case 23:break;case 22:var $=T.stateNode;T.memoizedState!==null?$._visibility&2?Ko(h,T,S,R,f):ji(h,T):($._visibility|=2,Ko(h,T,S,R,f)),f&&V&2048&&ks(T.alternate,T);break;case 24:Ko(h,T,S,R,f),f&&V&2048&&Is(T.alternate,T);break;default:Ko(h,T,S,R,f)}n=n.sibling}}function ji(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,r=n,f=r.flags;switch(r.tag){case 22:ji(a,r),f&2048&&ks(r.alternate,r);break;case 24:ji(a,r),f&2048&&Is(r.alternate,r);break;default:ji(a,r)}n=n.sibling}}var Ki=8192;function $o(e,n,a){if(e.subtreeFlags&Ki)for(e=e.child;e!==null;)Zf(e,n,a),e=e.sibling}function Zf(e,n,a){switch(e.tag){case 26:$o(e,n,a),e.flags&Ki&&e.memoizedState!==null&&u0(a,Jt,e.memoizedState,e.memoizedProps);break;case 5:$o(e,n,a);break;case 3:case 4:var r=Jt;Jt=Ea(e.stateNode.containerInfo),$o(e,n,a),Jt=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Ki,Ki=16777216,$o(e,n,a),Ki=r):$o(e,n,a));break;default:$o(e,n,a)}}function Wf(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $i(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];tt=r,tp(r,e)}Wf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ep(e),e=e.sibling}function ep(e){switch(e.tag){case 0:case 11:case 15:$i(e),e.flags&2048&&Ln(9,e,e.return);break;case 3:$i(e);break;case 12:$i(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ua(e)):$i(e);break;default:$i(e)}}function ua(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];tt=r,tp(r,e)}Wf(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ln(8,n,n.return),ua(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ua(n));break;default:ua(n)}e=e.sibling}}function tp(e,n){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:Ln(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ii(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,tt=r;else e:for(a=e;tt!==null;){r=tt;var f=r.sibling,h=r.return;if(Jf(r),r===a){tt=null;break e}if(f!==null){f.return=h,tt=f;break e}tt=h}}}var Sv={getCacheForType:function(e){var n=lt(je),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return lt(je).controller.signal}},Av=typeof WeakMap=="function"?WeakMap:Map,Me=0,Ue=null,xe=null,Ee=0,Re=0,wt=null,Un=!1,Xo=!1,Ds=!1,yn=0,Be=0,Pn=0,ho=0,Ls=0,Mt=0,Qo=0,Xi=null,bt=null,Us=!1,ca=0,np=0,da=1/0,fa=null,Gn=null,We=0,zn=null,Zo=null,vn=0,Ps=0,Gs=null,op=null,Qi=0,zs=null;function Rt(){return(Me&2)!==0&&Ee!==0?Ee&-Ee:D.T!==null?Fs():vc()}function ip(){if(Mt===0)if((Ee&536870912)===0||Se){var e=xl;xl<<=1,(xl&3932160)===0&&(xl=262144),Mt=e}else Mt=536870912;return e=_t.current,e!==null&&(e.flags|=32),Mt}function xt(e,n,a){(e===Ue&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(Wo(e,0),qn(e,Ee,Mt,!1)),vi(e,a),((Me&2)===0||e!==Ue)&&(e===Ue&&((Me&2)===0&&(ho|=a),Be===4&&qn(e,Ee,Mt,!1)),Zt(e))}function lp(e,n,a){if((Me&6)!==0)throw Error(i(327));var r=!a&&(n&127)===0&&(n&e.expiredLanes)===0||yi(e,n),f=r?wv(e,n):Hs(e,n,!0),h=r;do{if(f===0){Xo&&!r&&qn(e,n,0,!1);break}else{if(a=e.current.alternate,h&&!_v(a)){f=Hs(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var S=e;f=Xi;var R=S.current.memoizedState.isDehydrated;if(R&&(Wo(S,T).flags|=256),T=Hs(S,T,!1),T!==2){if(Ds&&!R){S.errorRecoveryDisabledLanes|=h,ho|=h,f=4;break e}h=bt,bt=f,h!==null&&(bt===null?bt=h:bt.push.apply(bt,h))}f=T}if(h=!1,f!==2)continue}}if(f===1){Wo(e,0),qn(e,n,0,!0);break}e:{switch(r=e,h=f,h){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:qn(r,n,Mt,!Un);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(f=ca+300-Tt(),10<f)){if(qn(r,n,Mt,!Un),El(r,0,!0)!==0)break e;vn=n,r.timeoutHandle=Pp(ap.bind(null,r,a,bt,fa,Us,n,Mt,ho,Qo,Un,h,"Throttled",-0,0),f);break e}ap(r,a,bt,fa,Us,n,Mt,ho,Qo,Un,h,null,-0,0)}}break}while(!0);Zt(e)}function ap(e,n,a,r,f,h,T,S,R,V,$,W,F,Y){if(e.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nn},Zf(n,h,W);var ae=(h&62914560)===h?ca-Tt():(h&4194048)===h?np-Tt():0;if(ae=c0(W,ae),ae!==null){vn=h,e.cancelPendingCommit=ae(mp.bind(null,e,n,h,a,r,f,T,S,R,$,W,null,F,Y)),qn(e,h,T,!V);return}}mp(e,n,h,a,r,f,T,S,R)}function _v(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var f=a[r],h=f.getSnapshot;f=f.value;try{if(!St(h(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qn(e,n,a,r){n&=~Ls,n&=~ho,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var f=n;0<f;){var h=31-Ct(f),T=1<<h;r[h]=-1,f&=~T}a!==0&&hc(e,a,n)}function pa(){return(Me&6)===0?(Zi(0),!1):!0}function qs(){if(xe!==null){if(Re===0)var e=xe.return;else e=xe,rn=lo=null,ts(e),Oo=null,Li=0,e=xe;for(;e!==null;)Gf(e.alternate,e),e=e.return;xe=null}}function Wo(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Yv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),vn=0,qs(),Ue=e,xe=a=ln(e.current,null),Ee=n,Re=0,wt=null,Un=!1,Xo=yi(e,n),Ds=!1,Qo=Mt=Ls=ho=Pn=Be=0,bt=Xi=null,Us=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var f=31-Ct(r),h=1<<f;n|=e[f],r&=~h}return yn=n,Ll(),a}function rp(e,n){ye=null,D.H=Bi,n===Bo||n===Bl?(n=Ed(),Re=3):n===Or?(n=Ed(),Re=4):Re=n===ys?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wt=n,xe===null&&(Be=1,na(e,Pt(n,e.current)))}function sp(){var e=_t.current;return e===null?!0:(Ee&4194048)===Ee?Ht===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Ht:!1}function up(){var e=D.H;return D.H=Bi,e===null?Bi:e}function cp(){var e=D.A;return D.A=Sv,e}function ma(){Be=4,Un||(Ee&4194048)!==Ee&&_t.current!==null||(Xo=!0),(Pn&134217727)===0&&(ho&134217727)===0||Ue===null||qn(Ue,Ee,Mt,!1)}function Hs(e,n,a){var r=Me;Me|=2;var f=up(),h=cp();(Ue!==e||Ee!==n)&&(fa=null,Wo(e,n)),n=!1;var T=Be;e:do try{if(Re!==0&&xe!==null){var S=xe,R=wt;switch(Re){case 8:qs(),T=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(n=!0);var V=Re;if(Re=0,wt=null,ei(e,S,R,V),a&&Xo){T=0;break e}break;default:V=Re,Re=0,wt=null,ei(e,S,R,V)}}Nv(),T=Be;break}catch($){rp(e,$)}while(!0);return n&&e.shellSuspendCounter++,rn=lo=null,Me=r,D.H=f,D.A=h,xe===null&&(Ue=null,Ee=0,Ll()),T}function Nv(){for(;xe!==null;)dp(xe)}function wv(e,n){var a=Me;Me|=2;var r=up(),f=cp();Ue!==e||Ee!==n?(fa=null,da=Tt()+500,Wo(e,n)):Xo=yi(e,n);e:do try{if(Re!==0&&xe!==null){n=xe;var h=wt;t:switch(Re){case 1:Re=0,wt=null,ei(e,n,h,1);break;case 2:case 9:if(xd(h)){Re=0,wt=null,fp(n);break}n=function(){Re!==2&&Re!==9||Ue!==e||(Re=7),Zt(e)},h.then(n,n);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:xd(h)?(Re=0,wt=null,fp(n)):(Re=0,wt=null,ei(e,n,h,7));break;case 5:var T=null;switch(xe.tag){case 26:T=xe.memoizedState;case 5:case 27:var S=xe;if(T?Qp(T):S.stateNode.complete){Re=0,wt=null;var R=S.sibling;if(R!==null)xe=R;else{var V=S.return;V!==null?(xe=V,ha(V)):xe=null}break t}}Re=0,wt=null,ei(e,n,h,5);break;case 6:Re=0,wt=null,ei(e,n,h,6);break;case 8:qs(),Be=6;break e;default:throw Error(i(462))}}Mv();break}catch($){rp(e,$)}while(!0);return rn=lo=null,D.H=r,D.A=f,Me=a,xe!==null?0:(Ue=null,Ee=0,Ll(),Be)}function Mv(){for(;xe!==null&&!Zg();)dp(xe)}function dp(e){var n=Uf(e.alternate,e,yn);e.memoizedProps=e.pendingProps,n===null?ha(e):xe=n}function fp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Mf(a,n,n.pendingProps,n.type,void 0,Ee);break;case 11:n=Mf(a,n,n.pendingProps,n.type.render,n.ref,Ee);break;case 5:ts(n);default:Gf(a,n),n=xe=ud(n,yn),n=Uf(a,n,yn)}e.memoizedProps=e.pendingProps,n===null?ha(e):xe=n}function ei(e,n,a,r){rn=lo=null,ts(n),Oo=null,Li=0;var f=n.return;try{if(yv(e,f,n,a,Ee)){Be=1,na(e,Pt(a,e.current)),xe=null;return}}catch(h){if(f!==null)throw xe=f,h;Be=1,na(e,Pt(a,e.current)),xe=null;return}n.flags&32768?(Se||r===1?e=!0:Xo||(Ee&536870912)!==0?e=!1:(Un=e=!0,(r===2||r===9||r===3||r===6)&&(r=_t.current,r!==null&&r.tag===13&&(r.flags|=16384))),pp(n,e)):ha(n)}function ha(e){var n=e;do{if((n.flags&32768)!==0){pp(n,Un);return}e=n.return;var a=xv(n.alternate,n,yn);if(a!==null){xe=a;return}if(n=n.sibling,n!==null){xe=n;return}xe=n=e}while(n!==null);Be===0&&(Be=5)}function pp(e,n){do{var a=Tv(e.alternate,e);if(a!==null){a.flags&=32767,xe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){xe=e;return}xe=e=a}while(e!==null);Be=6,xe=null}function mp(e,n,a,r,f,h,T,S,R){e.cancelPendingCommit=null;do ga();while(We!==0);if((Me&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(h=n.lanes|n.childLanes,h|=wr,sy(e,a,h,T,S,R),e===Ue&&(xe=Ue=null,Ee=0),Zo=n,zn=e,vn=a,Ps=h,Gs=f,op=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Dv(vl,function(){return bp(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=D.T,D.T=null,f=Z.p,Z.p=2,T=Me,Me|=4;try{Ev(e,n,a)}finally{Me=T,Z.p=f,D.T=r}}We=1,hp(),gp(),yp()}}function hp(){if(We===1){We=0;var e=zn,n=Zo,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var r=Z.p;Z.p=2;var f=Me;Me|=4;try{$f(n,e);var h=Zs,T=ed(e.containerInfo),S=h.focusedElem,R=h.selectionRange;if(T!==S&&S&&S.ownerDocument&&Wc(S.ownerDocument.documentElement,S)){if(R!==null&&Cr(S)){var V=R.start,$=R.end;if($===void 0&&($=V),"selectionStart"in S)S.selectionStart=V,S.selectionEnd=Math.min($,S.value.length);else{var W=S.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var Y=F.getSelection(),ae=S.textContent.length,pe=Math.min(R.start,ae),Le=R.end===void 0?pe:Math.min(R.end,ae);!Y.extend&&pe>Le&&(T=Le,Le=pe,pe=T);var U=Zc(S,pe),I=Zc(S,Le);if(U&&I&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==I.node||Y.focusOffset!==I.offset)){var q=W.createRange();q.setStart(U.node,U.offset),Y.removeAllRanges(),pe>Le?(Y.addRange(q),Y.extend(I.node,I.offset)):(q.setEnd(I.node,I.offset),Y.addRange(q))}}}}for(W=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<W.length;S++){var Q=W[S];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wa=!!Qs,Zs=Qs=null}finally{Me=f,Z.p=r,D.T=a}}e.current=n,We=2}}function gp(){if(We===2){We=0;var e=zn,n=Zo,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var r=Z.p;Z.p=2;var f=Me;Me|=4;try{Ff(e,n.alternate,n)}finally{Me=f,Z.p=r,D.T=a}}We=3}}function yp(){if(We===4||We===3){We=0,Wg();var e=zn,n=Zo,a=vn,r=op;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?We=5:(We=0,Zo=zn=null,vp(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Gn=null),ir(a),n=n.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(gi,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=D.T,f=Z.p,Z.p=2,D.T=null;try{for(var h=e.onRecoverableError,T=0;T<r.length;T++){var S=r[T];h(S.value,{componentStack:S.stack})}}finally{D.T=n,Z.p=f}}(vn&3)!==0&&ga(),Zt(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===zs?Qi++:(Qi=0,zs=e):Qi=0,Zi(0)}}function vp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ii(n)))}function ga(){return hp(),gp(),yp(),bp()}function bp(){if(We!==5)return!1;var e=zn,n=Ps;Ps=0;var a=ir(vn),r=D.T,f=Z.p;try{Z.p=32>a?32:a,D.T=null,a=Gs,Gs=null;var h=zn,T=vn;if(We=0,Zo=zn=null,vn=0,(Me&6)!==0)throw Error(i(331));var S=Me;if(Me|=4,ep(h.current),Qf(h,h.current,T,a),Me=S,Zi(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(gi,h)}catch{}return!0}finally{Z.p=f,D.T=r,vp(e,n)}}function xp(e,n,a){n=Pt(a,n),n=gs(e.stateNode,n,2),e=kn(e,n,2),e!==null&&(vi(e,2),Zt(e))}function ke(e,n,a){if(e.tag===3)xp(e,e,a);else for(;n!==null;){if(n.tag===3){xp(n,e,a);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gn===null||!Gn.has(r))){e=Pt(a,e),a=Tf(2),r=kn(n,a,2),r!==null&&(Ef(a,r,n,e),vi(r,2),Zt(r));break}}n=n.return}}function Vs(e,n,a){var r=e.pingCache;if(r===null){r=e.pingCache=new Av;var f=new Set;r.set(n,f)}else f=r.get(n),f===void 0&&(f=new Set,r.set(n,f));f.has(a)||(Ds=!0,f.add(a),e=Rv.bind(null,e,n,a),n.then(e,e))}function Rv(e,n,a){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ue===e&&(Ee&a)===a&&(Be===4||Be===3&&(Ee&62914560)===Ee&&300>Tt()-ca?(Me&2)===0&&Wo(e,0):Ls|=a,Qo===Ee&&(Qo=0)),Zt(e)}function Tp(e,n){n===0&&(n=mc()),e=no(e,n),e!==null&&(vi(e,n),Zt(e))}function kv(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Tp(e,a)}function Iv(e,n){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(n),Tp(e,a)}function Dv(e,n){return er(e,n)}var ya=null,ti=null,Bs=!1,va=!1,Os=!1,Hn=0;function Zt(e){e!==ti&&e.next===null&&(ti===null?ya=ti=e:ti=ti.next=e),va=!0,Bs||(Bs=!0,Uv())}function Zi(e,n){if(!Os&&va){Os=!0;do for(var a=!1,r=ya;r!==null;){if(e!==0){var f=r.pendingLanes;if(f===0)var h=0;else{var T=r.suspendedLanes,S=r.pingedLanes;h=(1<<31-Ct(42|e)+1)-1,h&=f&~(T&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Ap(r,h))}else h=Ee,h=El(r,r===Ue?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||yi(r,h)||(a=!0,Ap(r,h));r=r.next}while(a);Os=!1}}function Lv(){Ep()}function Ep(){va=Bs=!1;var e=0;Hn!==0&&Jv()&&(e=Hn);for(var n=Tt(),a=null,r=ya;r!==null;){var f=r.next,h=Cp(r,n);h===0?(r.next=null,a===null?ya=f:a.next=f,f===null&&(ti=a)):(a=r,(e!==0||(h&3)!==0)&&(va=!0)),r=f}We!==0&&We!==5||Zi(e),Hn!==0&&(Hn=0)}function Cp(e,n){for(var a=e.suspendedLanes,r=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var T=31-Ct(h),S=1<<T,R=f[T];R===-1?((S&a)===0||(S&r)!==0)&&(f[T]=ry(S,n)):R<=n&&(e.expiredLanes|=S),h&=~S}if(n=Ue,a=Ee,a=El(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===n&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&tr(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||yi(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(r!==null&&tr(r),ir(a)){case 2:case 8:a=fc;break;case 32:a=vl;break;case 268435456:a=pc;break;default:a=vl}return r=Sp.bind(null,e),a=er(a,r),e.callbackPriority=n,e.callbackNode=a,n}return r!==null&&r!==null&&tr(r),e.callbackPriority=2,e.callbackNode=null,2}function Sp(e,n){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ga()&&e.callbackNode!==a)return null;var r=Ee;return r=El(e,e===Ue?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(lp(e,r,n),Cp(e,Tt()),e.callbackNode!=null&&e.callbackNode===a?Sp.bind(null,e):null)}function Ap(e,n){if(ga())return null;lp(e,n,!0)}function Uv(){jv(function(){(Me&6)!==0?er(dc,Lv):Ep()})}function Fs(){if(Hn===0){var e=Ho;e===0&&(e=bl,bl<<=1,(bl&261888)===0&&(bl=256)),Hn=e}return Hn}function _p(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_l(""+e)}function Np(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Pv(e,n,a,r,f){if(n==="submit"&&a&&a.stateNode===f){var h=_p((f[mt]||null).action),T=r.submitter;T&&(n=(n=T[mt]||null)?_p(n.formAction):T.getAttribute("formAction"),n!==null&&(h=n,T=null));var S=new Rl("action","action",null,r,f);e.push({event:S,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Hn!==0){var R=T?Np(f,T):new FormData(f);cs(a,{pending:!0,data:R,method:f.method,action:h},null,R)}}else typeof h=="function"&&(S.preventDefault(),R=T?Np(f,T):new FormData(f),cs(a,{pending:!0,data:R,method:f.method,action:h},h,R))},currentTarget:f}]})}}for(var Js=0;Js<Nr.length;Js++){var Ys=Nr[Js],Gv=Ys.toLowerCase(),zv=Ys[0].toUpperCase()+Ys.slice(1);Ft(Gv,"on"+zv)}Ft(od,"onAnimationEnd"),Ft(id,"onAnimationIteration"),Ft(ld,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(ev,"onTransitionRun"),Ft(tv,"onTransitionStart"),Ft(nv,"onTransitionCancel"),Ft(ad,"onTransitionEnd"),_o("onMouseEnter",["mouseout","mouseover"]),_o("onMouseLeave",["mouseout","mouseover"]),_o("onPointerEnter",["pointerout","pointerover"]),_o("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wi));function wp(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],f=r.event;r=r.listeners;e:{var h=void 0;if(n)for(var T=r.length-1;0<=T;T--){var S=r[T],R=S.instance,V=S.currentTarget;if(S=S.listener,R!==h&&f.isPropagationStopped())break e;h=S,f.currentTarget=V;try{h(f)}catch($){Dl($)}f.currentTarget=null,h=R}else for(T=0;T<r.length;T++){if(S=r[T],R=S.instance,V=S.currentTarget,S=S.listener,R!==h&&f.isPropagationStopped())break e;h=S,f.currentTarget=V;try{h(f)}catch($){Dl($)}f.currentTarget=null,h=R}}}}function Te(e,n){var a=n[lr];a===void 0&&(a=n[lr]=new Set);var r=e+"__bubble";a.has(r)||(Mp(n,e,2,!1),a.add(r))}function js(e,n,a){var r=0;n&&(r|=4),Mp(a,e,r,n)}var ba="_reactListening"+Math.random().toString(36).slice(2);function Ks(e){if(!e[ba]){e[ba]=!0,Tc.forEach(function(a){a!=="selectionchange"&&(qv.has(a)||js(a,!1,e),js(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ba]||(n[ba]=!0,js("selectionchange",!1,n))}}function Mp(e,n,a,r){switch(im(n)){case 2:var f=p0;break;case 8:f=m0;break;default:f=uu}a=f.bind(null,n,a,e),f=void 0,!mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),r?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function $s(e,n,a,r,f){var h=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var T=r.tag;if(T===3||T===4){var S=r.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=r.return;T!==null;){var R=T.tag;if((R===3||R===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=Co(S),T===null)return;if(R=T.tag,R===5||R===6||R===26||R===27){r=h=T;continue e}S=S.parentNode}}r=r.return}Dc(function(){var V=h,$=fr(a),W=[];e:{var F=rd.get(e);if(F!==void 0){var Y=Rl,ae=e;switch(e){case"keypress":if(wl(a)===0)break e;case"keydown":case"keyup":Y=Iy;break;case"focusin":ae="focus",Y=vr;break;case"focusout":ae="blur",Y=vr;break;case"beforeblur":case"afterblur":Y=vr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=xy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Uy;break;case od:case id:case ld:Y=Cy;break;case ad:Y=Gy;break;case"scroll":case"scrollend":Y=vy;break;case"wheel":Y=qy;break;case"copy":case"cut":case"paste":Y=Ay;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=zc;break;case"toggle":case"beforetoggle":Y=Vy}var pe=(n&4)!==0,Le=!pe&&(e==="scroll"||e==="scrollend"),U=pe?F!==null?F+"Capture":null:F;pe=[];for(var I=V,q;I!==null;){var Q=I;if(q=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||q===null||U===null||(Q=Ti(I,U),Q!=null&&pe.push(el(I,Q,q))),Le)break;I=I.return}0<pe.length&&(F=new Y(F,ae,null,a,$),W.push({event:F,listeners:pe}))}}if((n&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&a!==dr&&(ae=a.relatedTarget||a.fromElement)&&(Co(ae)||ae[Eo]))break e;if((Y||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(ae=a.relatedTarget||a.toElement,Y=V,ae=ae?Co(ae):null,ae!==null&&(Le=u(ae),pe=ae.tag,ae!==Le||pe!==5&&pe!==27&&pe!==6)&&(ae=null)):(Y=null,ae=V),Y!==ae)){if(pe=Pc,Q="onMouseLeave",U="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(pe=zc,Q="onPointerLeave",U="onPointerEnter",I="pointer"),Le=Y==null?F:xi(Y),q=ae==null?F:xi(ae),F=new pe(Q,I+"leave",Y,a,$),F.target=Le,F.relatedTarget=q,Q=null,Co($)===V&&(pe=new pe(U,I+"enter",ae,a,$),pe.target=q,pe.relatedTarget=Le,Q=pe),Le=Q,Y&&ae)t:{for(pe=Hv,U=Y,I=ae,q=0,Q=U;Q;Q=pe(Q))q++;Q=0;for(var fe=I;fe;fe=pe(fe))Q++;for(;0<q-Q;)U=pe(U),q--;for(;0<Q-q;)I=pe(I),Q--;for(;q--;){if(U===I||I!==null&&U===I.alternate){pe=U;break t}U=pe(U),I=pe(I)}pe=null}else pe=null;Y!==null&&Rp(W,F,Y,pe,!1),ae!==null&&Le!==null&&Rp(W,Le,ae,pe,!0)}}e:{if(F=V?xi(V):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Ae=Yc;else if(Fc(F))if(jc)Ae=Qy;else{Ae=$y;var ue=Ky}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?V&&cr(V.elementType)&&(Ae=Yc):Ae=Xy;if(Ae&&(Ae=Ae(e,V))){Jc(W,Ae,a,$);break e}ue&&ue(e,F,V),e==="focusout"&&V&&F.type==="number"&&V.memoizedProps.value!=null&&ur(F,"number",F.value)}switch(ue=V?xi(V):window,e){case"focusin":(Fc(ue)||ue.contentEditable==="true")&&(Io=ue,Sr=V,Mi=null);break;case"focusout":Mi=Sr=Io=null;break;case"mousedown":Ar=!0;break;case"contextmenu":case"mouseup":case"dragend":Ar=!1,td(W,a,$);break;case"selectionchange":if(Wy)break;case"keydown":case"keyup":td(W,a,$)}var ve;if(xr)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else ko?Bc(e,a)&&(Ce="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(qc&&a.locale!=="ko"&&(ko||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&ko&&(ve=Lc()):(Sn=$,hr="value"in Sn?Sn.value:Sn.textContent,ko=!0)),ue=xa(V,Ce),0<ue.length&&(Ce=new Gc(Ce,e,null,a,$),W.push({event:Ce,listeners:ue}),ve?Ce.data=ve:(ve=Oc(a),ve!==null&&(Ce.data=ve)))),(ve=Oy?Fy(e,a):Jy(e,a))&&(Ce=xa(V,"onBeforeInput"),0<Ce.length&&(ue=new Gc("onBeforeInput","beforeinput",null,a,$),W.push({event:ue,listeners:Ce}),ue.data=ve)),Pv(W,e,V,a,$)}wp(W,n)})}function el(e,n,a){return{instance:e,listener:n,currentTarget:a}}function xa(e,n){for(var a=n+"Capture",r=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Ti(e,a),f!=null&&r.unshift(el(e,f,h)),f=Ti(e,n),f!=null&&r.push(el(e,f,h))),e.tag===3)return r;e=e.return}return[]}function Hv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rp(e,n,a,r,f){for(var h=n._reactName,T=[];a!==null&&a!==r;){var S=a,R=S.alternate,V=S.stateNode;if(S=S.tag,R!==null&&R===r)break;S!==5&&S!==26&&S!==27||V===null||(R=V,f?(V=Ti(a,h),V!=null&&T.unshift(el(a,V,R))):f||(V=Ti(a,h),V!=null&&T.push(el(a,V,R)))),a=a.return}T.length!==0&&e.push({event:n,listeners:T})}var Vv=/\r\n?/g,Bv=/\u0000|\uFFFD/g;function kp(e){return(typeof e=="string"?e:""+e).replace(Vv,`
`).replace(Bv,"")}function Ip(e,n){return n=kp(n),kp(e)===n}function De(e,n,a,r,f,h){switch(a){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||wo(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&wo(e,""+r);break;case"className":Sl(e,"class",r);break;case"tabIndex":Sl(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Sl(e,a,r);break;case"style":kc(e,r,h);break;case"data":if(n!=="object"){Sl(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=_l(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&De(e,n,"name",f.name,f,null),De(e,n,"formEncType",f.formEncType,f,null),De(e,n,"formMethod",f.formMethod,f,null),De(e,n,"formTarget",f.formTarget,f,null)):(De(e,n,"encType",f.encType,f,null),De(e,n,"method",f.method,f,null),De(e,n,"target",f.target,f,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=_l(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=nn);break;case"onScroll":r!=null&&Te("scroll",e);break;case"onScrollEnd":r!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(a=r.__html,a!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=_l(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Cl(e,"popover",r);break;case"xlinkActuate":tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":tn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":tn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":tn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":tn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Cl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gy.get(a)||a,Cl(e,a,r))}}function Xs(e,n,a,r,f,h){switch(a){case"style":kc(e,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(a=r.__html,a!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof r=="string"?wo(e,r):(typeof r=="number"||typeof r=="bigint")&&wo(e,""+r);break;case"onScroll":r!=null&&Te("scroll",e);break;case"onScrollEnd":r!=null&&Te("scrollend",e);break;case"onClick":r!=null&&(e.onclick=nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ec.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),h=e[mt]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof r=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,r,f);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):Cl(e,a,r)}}}function rt(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var r=!1,f=!1,h;for(h in a)if(a.hasOwnProperty(h)){var T=a[h];if(T!=null)switch(h){case"src":r=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:De(e,n,h,T,a,null)}}f&&De(e,n,"srcSet",a.srcSet,a,null),r&&De(e,n,"src",a.src,a,null);return;case"input":Te("invalid",e);var S=h=T=f=null,R=null,V=null;for(r in a)if(a.hasOwnProperty(r)){var $=a[r];if($!=null)switch(r){case"name":f=$;break;case"type":T=$;break;case"checked":R=$;break;case"defaultChecked":V=$;break;case"value":h=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,n));break;default:De(e,n,r,$,a,null)}}Nc(e,h,S,R,V,T,f,!1);return;case"select":Te("invalid",e),r=T=h=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":h=S;break;case"defaultValue":T=S;break;case"multiple":r=S;default:De(e,n,f,S,a,null)}n=h,a=T,e.multiple=!!r,n!=null?No(e,!!r,n,!1):a!=null&&No(e,!!r,a,!0);return;case"textarea":Te("invalid",e),h=f=r=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":r=S;break;case"defaultValue":f=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:De(e,n,T,S,a,null)}Mc(e,r,f,h);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(r=a[R],r!=null))switch(R){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:De(e,n,R,r,a,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(r=0;r<Wi.length;r++)Te(Wi[r],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(r=a[V],r!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:De(e,n,V,r,a,null)}return;default:if(cr(n)){for($ in a)a.hasOwnProperty($)&&(r=a[$],r!==void 0&&Xs(e,n,$,r,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(r=a[S],r!=null&&De(e,n,S,r,a,null))}function Ov(e,n,a,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,T=null,S=null,R=null,V=null,$=null;for(Y in a){var W=a[Y];if(a.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":R=W;default:r.hasOwnProperty(Y)||De(e,n,Y,null,r,W)}}for(var F in r){var Y=r[F];if(W=a[F],r.hasOwnProperty(F)&&(Y!=null||W!=null))switch(F){case"type":h=Y;break;case"name":f=Y;break;case"checked":V=Y;break;case"defaultChecked":$=Y;break;case"value":T=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,n));break;default:Y!==W&&De(e,n,F,Y,r,W)}}sr(e,T,S,R,V,$,h,f);return;case"select":Y=T=S=F=null;for(h in a)if(R=a[h],a.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":Y=R;default:r.hasOwnProperty(h)||De(e,n,h,null,r,R)}for(f in r)if(h=r[f],R=a[f],r.hasOwnProperty(f)&&(h!=null||R!=null))switch(f){case"value":F=h;break;case"defaultValue":S=h;break;case"multiple":T=h;default:h!==R&&De(e,n,f,h,r,R)}n=S,a=T,r=Y,F!=null?No(e,!!a,F,!1):!!r!=!!a&&(n!=null?No(e,!!a,n,!0):No(e,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!r.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:De(e,n,S,null,r,f)}for(T in r)if(f=r[T],h=a[T],r.hasOwnProperty(T)&&(f!=null||h!=null))switch(T){case"value":F=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==h&&De(e,n,T,f,r,h)}wc(e,F,Y);return;case"option":for(var ae in a)if(F=a[ae],a.hasOwnProperty(ae)&&F!=null&&!r.hasOwnProperty(ae))switch(ae){case"selected":e.selected=!1;break;default:De(e,n,ae,null,r,F)}for(R in r)if(F=r[R],Y=a[R],r.hasOwnProperty(R)&&F!==Y&&(F!=null||Y!=null))switch(R){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:De(e,n,R,F,r,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)F=a[pe],a.hasOwnProperty(pe)&&F!=null&&!r.hasOwnProperty(pe)&&De(e,n,pe,null,r,F);for(V in r)if(F=r[V],Y=a[V],r.hasOwnProperty(V)&&F!==Y&&(F!=null||Y!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,n));break;default:De(e,n,V,F,r,Y)}return;default:if(cr(n)){for(var Le in a)F=a[Le],a.hasOwnProperty(Le)&&F!==void 0&&!r.hasOwnProperty(Le)&&Xs(e,n,Le,void 0,r,F);for($ in r)F=r[$],Y=a[$],!r.hasOwnProperty($)||F===Y||F===void 0&&Y===void 0||Xs(e,n,$,F,r,Y);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!r.hasOwnProperty(U)&&De(e,n,U,null,r,F);for(W in r)F=r[W],Y=a[W],!r.hasOwnProperty(W)||F===Y||F==null&&Y==null||De(e,n,W,F,r,Y)}function Dp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Fv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var f=a[r],h=f.transferSize,T=f.initiatorType,S=f.duration;if(h&&S&&Dp(T)){for(T=0,S=f.responseEnd,r+=1;r<a.length;r++){var R=a[r],V=R.startTime;if(V>S)break;var $=R.transferSize,W=R.initiatorType;$&&Dp(W)&&(R=R.responseEnd,T+=$*(R<S?1:(S-V)/(R-V)))}if(--r,n+=8*(h+T)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Qs=null,Zs=null;function Ta(e){return e.nodeType===9?e:e.ownerDocument}function Lp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Up(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ws(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var eu=null;function Jv(){var e=window.event;return e&&e.type==="popstate"?e===eu?!1:(eu=e,!0):(eu=null,!1)}var Pp=typeof setTimeout=="function"?setTimeout:void 0,Yv=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,jv=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(e){return Gp.resolve(null).then(e).catch(Kv)}:Pp;function Kv(e){setTimeout(function(){throw e})}function Vn(e){return e==="head"}function zp(e,n){var a=n,r=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(f),li(n);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")tl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,tl(a);for(var h=a.firstChild;h;){var T=h.nextSibling,S=h.nodeName;h[bi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=T}}else a==="body"&&tl(e.ownerDocument.body);a=f}while(a);li(n)}function qp(e,n){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function tu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":tu(a),ar(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function $v(e,n,a,r){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[bi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function Xv(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vt(e.nextSibling),e===null))return null;return e}function Hp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vt(e.nextSibling),e===null))return null;return e}function nu(e){return e.data==="$?"||e.data==="$~"}function ou(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Qv(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var r=function(){n(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Vt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var iu=null;function Vp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Vt(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function Bp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function Op(e,n,a){switch(n=Ta(a),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ar(e)}var Bt=new Map,Fp=new Set;function Ea(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bn=Z.d;Z.d={f:Zv,r:Wv,D:e0,C:t0,L:n0,m:o0,X:l0,S:i0,M:a0};function Zv(){var e=bn.f(),n=pa();return e||n}function Wv(e){var n=So(e);n!==null&&n.tag===5&&n.type==="form"?rf(n):bn.r(e)}var ni=typeof document>"u"?null:document;function Jp(e,n,a){var r=ni;if(r&&typeof n=="string"&&n){var f=Lt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Fp.has(f)||(Fp.add(f),e={rel:e,crossOrigin:a,href:n},r.querySelector(f)===null&&(n=r.createElement("link"),rt(n,"link",e),et(n),r.head.appendChild(n)))}}function e0(e){bn.D(e),Jp("dns-prefetch",e,null)}function t0(e,n){bn.C(e,n),Jp("preconnect",e,n)}function n0(e,n,a){bn.L(e,n,a);var r=ni;if(r&&e&&n){var f='link[rel="preload"][as="'+Lt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Lt(a.imageSizes)+'"]')):f+='[href="'+Lt(e)+'"]';var h=f;switch(n){case"style":h=oi(e);break;case"script":h=ii(e)}Bt.has(h)||(e=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Bt.set(h,e),r.querySelector(f)!==null||n==="style"&&r.querySelector(nl(h))||n==="script"&&r.querySelector(ol(h))||(n=r.createElement("link"),rt(n,"link",e),et(n),r.head.appendChild(n)))}}function o0(e,n){bn.m(e,n);var a=ni;if(a&&e){var r=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Lt(r)+'"][href="'+Lt(e)+'"]',h=f;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ii(e)}if(!Bt.has(h)&&(e=x({rel:"modulepreload",href:e},n),Bt.set(h,e),a.querySelector(f)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ol(h)))return}r=a.createElement("link"),rt(r,"link",e),et(r),a.head.appendChild(r)}}}function i0(e,n,a){bn.S(e,n,a);var r=ni;if(r&&e){var f=Ao(r).hoistableStyles,h=oi(e);n=n||"default";var T=f.get(h);if(!T){var S={loading:0,preload:null};if(T=r.querySelector(nl(h)))S.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Bt.get(h))&&lu(e,a);var R=T=r.createElement("link");et(R),rt(R,"link",e),R._p=new Promise(function(V,$){R.onload=V,R.onerror=$}),R.addEventListener("load",function(){S.loading|=1}),R.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ca(T,n,r)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(h,T)}}}function l0(e,n){bn.X(e,n);var a=ni;if(a&&e){var r=Ao(a).hoistableScripts,f=ii(e),h=r.get(f);h||(h=a.querySelector(ol(f)),h||(e=x({src:e,async:!0},n),(n=Bt.get(f))&&au(e,n),h=a.createElement("script"),et(h),rt(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(f,h))}}function a0(e,n){bn.M(e,n);var a=ni;if(a&&e){var r=Ao(a).hoistableScripts,f=ii(e),h=r.get(f);h||(h=a.querySelector(ol(f)),h||(e=x({src:e,async:!0,type:"module"},n),(n=Bt.get(f))&&au(e,n),h=a.createElement("script"),et(h),rt(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(f,h))}}function Yp(e,n,a,r){var f=(f=de.current)?Ea(f):null;if(!f)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=oi(a.href),a=Ao(f).hoistableStyles,r=a.get(n),r||(r={type:"style",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=oi(a.href);var h=Ao(f).hoistableStyles,T=h.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,T),(h=f.querySelector(nl(e)))&&!h._p&&(T.instance=h,T.state.loading=5),Bt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bt.set(e,a),h||r0(f,e,a,T.state))),n&&r===null)throw Error(i(528,""));return T}if(n&&r!==null)throw Error(i(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ii(a),a=Ao(f).hoistableScripts,r=a.get(n),r||(r={type:"script",instance:null,count:0,state:null},a.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function oi(e){return'href="'+Lt(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function jp(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function r0(e,n,a,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),rt(n,"link",a),et(n),e.head.appendChild(n))}function ii(e){return'[src="'+Lt(e)+'"]'}function ol(e){return"script[async]"+e}function Kp(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+Lt(a.href)+'"]');if(r)return n.instance=r,et(r),r;var f=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),et(r),rt(r,"style",f),Ca(r,a.precedence,e),n.instance=r;case"stylesheet":f=oi(a.href);var h=e.querySelector(nl(f));if(h)return n.state.loading|=4,n.instance=h,et(h),h;r=jp(a),(f=Bt.get(f))&&lu(r,f),h=(e.ownerDocument||e).createElement("link"),et(h);var T=h;return T._p=new Promise(function(S,R){T.onload=S,T.onerror=R}),rt(h,"link",r),n.state.loading|=4,Ca(h,a.precedence,e),n.instance=h;case"script":return h=ii(a.src),(f=e.querySelector(ol(h)))?(n.instance=f,et(f),f):(r=a,(f=Bt.get(h))&&(r=x({},a),au(r,f)),e=e.ownerDocument||e,f=e.createElement("script"),et(f),rt(f,"link",r),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,Ca(r,a.precedence,e));return n.instance}function Ca(e,n,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=r.length?r[r.length-1]:null,h=f,T=0;T<r.length;T++){var S=r[T];if(S.dataset.precedence===n)h=S;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function lu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function au(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Sa=null;function $p(e,n,a){if(Sa===null){var r=new Map,f=Sa=new Map;f.set(a,r)}else f=Sa,r=f.get(a),r||(r=new Map,f.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var h=a[f];if(!(h[bi]||h[ot]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(n)||"";T=e+T;var S=r.get(T);S?S.push(h):r.set(T,[h])}}return r}function Xp(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function s0(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Qp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function u0(e,n,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=oi(r.href),h=n.querySelector(nl(f));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Aa.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=h,et(h);return}h=n.ownerDocument||n,r=jp(r),(f=Bt.get(f))&&lu(r,f),h=h.createElement("link"),et(h);var T=h;T._p=new Promise(function(S,R){T.onload=S,T.onerror=R}),rt(h,"link",r),a.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Aa.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var ru=0;function c0(e,n){return e.stylesheets&&e.count===0&&Na(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&Na(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&ru===0&&(ru=62500*Fv());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Na(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>ru?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(f)}}:null}function Aa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Na(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _a=null;function Na(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_a=new Map,n.forEach(d0,e),_a=null,Aa.call(e))}function d0(e,n){if(!(n.state.loading&4)){var a=_a.get(e);if(a)var r=a.get(null);else{a=new Map,_a.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var T=f[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),r=T)}r&&a.set(null,r)}f=n.instance,T=f.getAttribute("data-precedence"),h=a.get(T)||r,h===r&&a.set(null,f),a.set(T,f),this.count++,r=Aa.bind(this),f.addEventListener("load",r),f.addEventListener("error",r),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var il={$$typeof:M,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function f0(e,n,a,r,f,h,T,S,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nr(0),this.hiddenUpdates=nr(null),this.identifierPrefix=r,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Zp(e,n,a,r,f,h,T,S,R,V,$,W){return e=new f0(e,n,a,T,R,V,$,W,S),n=1,h===!0&&(n|=24),h=At(3,null,null,n),e.current=h,h.stateNode=e,n=Hr(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:r,isDehydrated:a,cache:n},Fr(h),e}function Wp(e){return e?(e=Uo,e):Uo}function em(e,n,a,r,f,h){f=Wp(f),r.context===null?r.context=f:r.pendingContext=f,r=Rn(n),r.payload={element:a},h=h===void 0?null:h,h!==null&&(r.callback=h),a=kn(e,r,n),a!==null&&(xt(a,e,n),Pi(a,e,n))}function tm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function su(e,n){tm(e,n),(e=e.alternate)&&tm(e,n)}function nm(e){if(e.tag===13||e.tag===31){var n=no(e,67108864);n!==null&&xt(n,e,67108864),su(e,67108864)}}function om(e){if(e.tag===13||e.tag===31){var n=Rt();n=or(n);var a=no(e,n);a!==null&&xt(a,e,n),su(e,n)}}var wa=!0;function p0(e,n,a,r){var f=D.T;D.T=null;var h=Z.p;try{Z.p=2,uu(e,n,a,r)}finally{Z.p=h,D.T=f}}function m0(e,n,a,r){var f=D.T;D.T=null;var h=Z.p;try{Z.p=8,uu(e,n,a,r)}finally{Z.p=h,D.T=f}}function uu(e,n,a,r){if(wa){var f=cu(r);if(f===null)$s(e,n,r,Ma,a),lm(e,r);else if(g0(f,e,n,a,r))r.stopPropagation();else if(lm(e,r),n&4&&-1<h0.indexOf(e)){for(;f!==null;){var h=So(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=Qn(h.pendingLanes);if(T!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var R=1<<31-Ct(T);S.entanglements[1]|=R,T&=~R}Zt(h),(Me&6)===0&&(da=Tt()+500,Zi(0))}}break;case 31:case 13:S=no(h,2),S!==null&&xt(S,h,2),pa(),su(h,2)}if(h=cu(r),h===null&&$s(e,n,r,Ma,a),h===f)break;f=h}f!==null&&r.stopPropagation()}else $s(e,n,r,null,a)}}function cu(e){return e=fr(e),du(e)}var Ma=null;function du(e){if(Ma=null,e=Co(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ma=e,null}function im(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ey()){case dc:return 2;case fc:return 8;case vl:case ty:return 32;case pc:return 268435456;default:return 32}default:return 32}}var fu=!1,Bn=null,On=null,Fn=null,ll=new Map,al=new Map,Jn=[],h0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lm(e,n){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(n.pointerId)}}function rl(e,n,a,r,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:a,eventSystemFlags:r,nativeEvent:h,targetContainers:[f]},n!==null&&(n=So(n),n!==null&&nm(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function g0(e,n,a,r,f){switch(n){case"focusin":return Bn=rl(Bn,e,n,a,r,f),!0;case"dragenter":return On=rl(On,e,n,a,r,f),!0;case"mouseover":return Fn=rl(Fn,e,n,a,r,f),!0;case"pointerover":var h=f.pointerId;return ll.set(h,rl(ll.get(h)||null,e,n,a,r,f)),!0;case"gotpointercapture":return h=f.pointerId,al.set(h,rl(al.get(h)||null,e,n,a,r,f)),!0}return!1}function am(e){var n=Co(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,bc(e.priority,function(){om(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,bc(e.priority,function(){om(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ra(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=cu(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);dr=r,a.target.dispatchEvent(r),dr=null}else return n=So(a),n!==null&&nm(n),e.blockedOn=a,!1;n.shift()}return!0}function rm(e,n,a){Ra(e)&&a.delete(n)}function y0(){fu=!1,Bn!==null&&Ra(Bn)&&(Bn=null),On!==null&&Ra(On)&&(On=null),Fn!==null&&Ra(Fn)&&(Fn=null),ll.forEach(rm),al.forEach(rm)}function ka(e,n){e.blockedOn===n&&(e.blockedOn=null,fu||(fu=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,y0)))}var Ia=null;function sm(e){Ia!==e&&(Ia=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Ia===e&&(Ia=null);for(var n=0;n<e.length;n+=3){var a=e[n],r=e[n+1],f=e[n+2];if(typeof r!="function"){if(du(r||a)===null)continue;break}var h=So(a);h!==null&&(e.splice(n,3),n-=3,cs(h,{pending:!0,data:f,method:a.method,action:r},r,f))}}))}function li(e){function n(R){return ka(R,e)}Bn!==null&&ka(Bn,e),On!==null&&ka(On,e),Fn!==null&&ka(Fn,e),ll.forEach(n),al.forEach(n);for(var a=0;a<Jn.length;a++){var r=Jn[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Jn.length&&(a=Jn[0],a.blockedOn===null);)am(a),a.blockedOn===null&&Jn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var f=a[r],h=a[r+1],T=f[mt]||null;if(typeof h=="function")T||sm(a);else if(T){var S=null;if(h&&h.hasAttribute("formAction")){if(f=h,T=h[mt]||null)S=T.formAction;else if(du(f)!==null)continue}else S=T.action;typeof S=="function"?a[r+1]=S:(a.splice(r,3),r-=3),sm(a)}}}function um(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function pu(e){this._internalRoot=e}Da.prototype.render=pu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var a=n.current,r=Rt();em(a,r,e,n,null,null)},Da.prototype.unmount=pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;em(e.current,2,null,e,null,null),pa(),n[Eo]=null}};function Da(e){this._internalRoot=e}Da.prototype.unstable_scheduleHydration=function(e){if(e){var n=vc();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Jn.length&&n!==0&&n<Jn[a].priority;a++);Jn.splice(a,0,e),a===0&&am(e)}};var cm=t.version;if(cm!=="19.2.0")throw Error(i(527,cm,"19.2.0"));Z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var v0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{gi=La.inject(v0),Et=La}catch{}}return ul.createRoot=function(e,n){if(!s(e))throw Error(i(299));var a=!1,r="",f=yf,h=vf,T=bf;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Zp(e,1,!1,null,null,a,r,null,f,h,T,um),e[Eo]=n.current,Ks(e),new pu(n)},ul.hydrateRoot=function(e,n,a){if(!s(e))throw Error(i(299));var r=!1,f="",h=yf,T=vf,S=bf,R=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=Zp(e,1,!0,n,a??null,r,f,R,h,T,S,um),n.context=Wp(null),a=n.current,r=Rt(),r=or(r),f=Rn(r),f.callback=null,kn(a,f,r),a=r,n.current.lanes=a,vi(n,a),Zt(n),e[Eo]=n.current,Ks(e),new Da(n)},ul.version="19.2.0",ul}var xm;function w0(){if(xm)return gu.exports;xm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),gu.exports=N0(),gu.exports}var M0=w0();const R0=ig(M0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let k0,I0;function D0(){return{geminiUrl:k0,vertexUrl:I0}}function L0(o,t,l,i){var s,u;if(!(o!=null&&o.baseUrl)){const d=D0();return t?(s=d.vertexUrl)!==null&&s!==void 0?s:l:(u=d.geminiUrl)!==null&&u!==void 0?u:i}return o.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xo{}function se(o,t){const l=/\{([^}]+)\}/g;return o.replace(l,(i,s)=>{if(Object.prototype.hasOwnProperty.call(t,s)){const u=t[s];return u!=null?String(u):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function p(o,t,l){for(let u=0;u<t.length-1;u++){const d=t[u];if(d.endsWith("[]")){const g=d.slice(0,-2);if(!(g in o))if(Array.isArray(l))o[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(o[g])){const y=o[g];if(Array.isArray(l))for(let m=0;m<y.length;m++){const v=y[m];p(v,t.slice(u+1),l[m])}else for(const m of y)p(m,t.slice(u+1),l)}return}else if(d.endsWith("[0]")){const g=d.slice(0,-3);g in o||(o[g]=[{}]);const y=o[g];p(y[0],t.slice(u+1),l);return}(!o[d]||typeof o[d]!="object")&&(o[d]={}),o=o[d]}const i=t[t.length-1],s=o[i];if(s!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===s)return;if(typeof s=="object"&&typeof l=="object"&&s!==null&&l!==null)Object.assign(s,l);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(o,l):o[i]=l}function c(o,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return o;for(let i=0;i<t.length;i++){if(typeof o!="object"||o===null)return l;const s=t[i];if(s.endsWith("[]")){const u=s.slice(0,-2);if(u in o){const d=o[u];return Array.isArray(d)?d.map(g=>c(g,t.slice(i+1),l)):l}else return l}else o=o[s]}return o}catch(i){if(i instanceof TypeError)return l;throw i}}function U0(o,t){for(const[l,i]of Object.entries(t)){const s=l.split("."),u=i.split("."),d=new Set;let g=-1;for(let y=0;y<s.length;y++)if(s[y]==="*"){g=y;break}if(g!==-1&&u.length>g)for(let y=g;y<u.length;y++){const m=u[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}Iu(o,s,u,0,d)}}function Iu(o,t,l,i,s){if(i>=t.length||typeof o!="object"||o===null)return;const u=t[i];if(u.endsWith("[]")){const d=u.slice(0,-2),g=o;if(d in g&&Array.isArray(g[d]))for(const y of g[d])Iu(y,t,l,i+1,s)}else if(u==="*"){if(typeof o=="object"&&o!==null&&!Array.isArray(o)){const d=o,g=Object.keys(d).filter(m=>!m.startsWith("_")&&!s.has(m)),y={};for(const m of g)y[m]=d[m];for(const[m,v]of Object.entries(y)){const x=[];for(const E of l.slice(i))E==="*"?x.push(m):x.push(E);p(d,x,v)}for(const m of g)delete d[m]}}else{const d=o;u in d&&Iu(d[u],t,l,i+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ku(o){if(typeof o!="string")throw new Error("fromImageBytes must be a string");return o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P0(o){const t={},l=c(o,["operationName"]);l!=null&&p(t,["operationName"],l);const i=c(o,["resourceName"]);return i!=null&&p(t,["_url","resourceName"],i),t}function G0(o){const t={},l=c(o,["name"]);l!=null&&p(t,["name"],l);const i=c(o,["metadata"]);i!=null&&p(t,["metadata"],i);const s=c(o,["done"]);s!=null&&p(t,["done"],s);const u=c(o,["error"]);u!=null&&p(t,["error"],u);const d=c(o,["response","generateVideoResponse"]);return d!=null&&p(t,["response"],q0(d)),t}function z0(o){const t={},l=c(o,["name"]);l!=null&&p(t,["name"],l);const i=c(o,["metadata"]);i!=null&&p(t,["metadata"],i);const s=c(o,["done"]);s!=null&&p(t,["done"],s);const u=c(o,["error"]);u!=null&&p(t,["error"],u);const d=c(o,["response"]);return d!=null&&p(t,["response"],H0(d)),t}function q0(o){const t={},l=c(o,["generatedSamples"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>V0(d))),p(t,["generatedVideos"],u)}const i=c(o,["raiMediaFilteredCount"]);i!=null&&p(t,["raiMediaFilteredCount"],i);const s=c(o,["raiMediaFilteredReasons"]);return s!=null&&p(t,["raiMediaFilteredReasons"],s),t}function H0(o){const t={},l=c(o,["videos"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>B0(d))),p(t,["generatedVideos"],u)}const i=c(o,["raiMediaFilteredCount"]);i!=null&&p(t,["raiMediaFilteredCount"],i);const s=c(o,["raiMediaFilteredReasons"]);return s!=null&&p(t,["raiMediaFilteredReasons"],s),t}function V0(o){const t={},l=c(o,["video"]);return l!=null&&p(t,["video"],J0(l)),t}function B0(o){const t={},l=c(o,["_self"]);return l!=null&&p(t,["video"],Y0(l)),t}function O0(o){const t={},l=c(o,["operationName"]);return l!=null&&p(t,["_url","operationName"],l),t}function F0(o){const t={},l=c(o,["operationName"]);return l!=null&&p(t,["_url","operationName"],l),t}function J0(o){const t={},l=c(o,["uri"]);l!=null&&p(t,["uri"],l);const i=c(o,["encodedVideo"]);i!=null&&p(t,["videoBytes"],Ku(i));const s=c(o,["encoding"]);return s!=null&&p(t,["mimeType"],s),t}function Y0(o){const t={},l=c(o,["gcsUri"]);l!=null&&p(t,["uri"],l);const i=c(o,["bytesBase64Encoded"]);i!=null&&p(t,["videoBytes"],Ku(i));const s=c(o,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tm;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Tm||(Tm={}));var Em;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(Em||(Em={}));var Cm;(function(o){o.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",o.SILENT="SILENT",o.WHEN_IDLE="WHEN_IDLE",o.INTERRUPT="INTERRUPT"})(Cm||(Cm={}));var nt;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT",o.NULL="NULL"})(nt||(nt={}));var Sm;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",o.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",o.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",o.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",o.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Sm||(Sm={}));var Am;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(Am||(Am={}));var _m;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(_m||(_m={}));var Nm;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Nm||(Nm={}));var wm;(function(o){o.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",o.NO_AUTH="NO_AUTH",o.API_KEY_AUTH="API_KEY_AUTH",o.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",o.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",o.OAUTH="OAUTH",o.OIDC_AUTH="OIDC_AUTH"})(wm||(wm={}));var Mm;(function(o){o.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",o.SIMPLE_SEARCH="SIMPLE_SEARCH",o.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Mm||(Mm={}));var Rm;(function(o){o.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",o.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",o.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",o.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",o.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Rm||(Rm={}));var km;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY",o.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",o.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",o.NO_IMAGE="NO_IMAGE"})(km||(km={}));var Im;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(Im||(Im={}));var Dm;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Dm||(Dm={}));var Lm;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.IMAGE_SAFETY="IMAGE_SAFETY",o.MODEL_ARMOR="MODEL_ARMOR",o.JAILBREAK="JAILBREAK"})(Lm||(Lm={}));var Um;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Um||(Um={}));var Ha;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(Ha||(Ha={}));var Pm;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Pm||(Pm={}));var Du;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Du||(Du={}));var Gm;(function(o){o.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",o.TUNING_MODE_FULL="TUNING_MODE_FULL",o.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Gm||(Gm={}));var zm;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zm||(zm={}));var qm;(function(o){o.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",o.TUNING_TASK_I2V="TUNING_TASK_I2V",o.TUNING_TASK_T2V="TUNING_TASK_T2V"})(qm||(qm={}));var Hm;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(Hm||(Hm={}));var Vm;(function(o){o.UNSPECIFIED="UNSPECIFIED",o.BLOCKING="BLOCKING",o.NON_BLOCKING="NON_BLOCKING"})(Vm||(Vm={}));var Bm;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Bm||(Bm={}));var Om;(function(o){o.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",o.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Om||(Om={}));var Fm;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE",o.VALIDATED="VALIDATED"})(Fm||(Fm={}));var Jm;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(Jm||(Jm={}));var Ym;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(Ym||(Ym={}));var jm;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi",o.zh="zh",o.pt="pt",o.es="es"})(jm||(jm={}));var Km;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Km||(Km={}));var $m;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($m||($m={}));var Xm;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Xm||(Xm={}));var Qm;(function(o){o.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",o.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",o.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",o.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",o.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",o.EDIT_MODE_STYLE="EDIT_MODE_STYLE",o.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",o.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Qm||(Qm={}));var Zm;(function(o){o.FOREGROUND="FOREGROUND",o.BACKGROUND="BACKGROUND",o.PROMPT="PROMPT",o.SEMANTIC="SEMANTIC",o.INTERACTIVE="INTERACTIVE"})(Zm||(Zm={}));var Wm;(function(o){o.ASSET="ASSET",o.STYLE="STYLE"})(Wm||(Wm={}));var eh;(function(o){o.INSERT="INSERT",o.REMOVE="REMOVE",o.REMOVE_STATIC="REMOVE_STATIC",o.OUTPAINT="OUTPAINT"})(eh||(eh={}));var th;(function(o){o.OPTIMIZED="OPTIMIZED",o.LOSSLESS="LOSSLESS"})(th||(th={}));var nh;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(nh||(nh={}));var oh;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED"})(oh||(oh={}));var ih;(function(o){o.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.RESPONSE_REJECTED="RESPONSE_REJECTED",o.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ih||(ih={}));var lh;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(lh||(lh={}));var ah;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ah||(ah={}));var rh;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(rh||(rh={}));var sh;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(sh||(sh={}));var uh;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(uh||(uh={}));var ch;(function(o){o.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",o.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",o.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",o.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",o.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",o.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",o.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",o.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",o.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",o.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",o.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",o.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",o.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ch||(ch={}));var dh;(function(o){o.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",o.QUALITY="QUALITY",o.DIVERSITY="DIVERSITY",o.VOCALIZATION="VOCALIZATION"})(dh||(dh={}));var ai;(function(o){o.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",o.PLAY="PLAY",o.PAUSE="PAUSE",o.STOP="STOP",o.RESET_CONTEXT="RESET_CONTEXT"})(ai||(ai={}));class Lu{constructor(t){const l={};for(const i of t.headers.entries())l[i[0]]=i[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class cl{get text(){var t,l,i,s,u,d,g,y;if(((s=(i=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const x=[];for(const E of(y=(g=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,A]of Object.entries(E))C!=="text"&&C!=="thought"&&(A!==null||A!==void 0)&&x.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,m+=E.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,l,i,s,u,d,g,y;if(((s=(i=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const x of(y=(g=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(x))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);x.inlineData&&typeof x.inlineData.data=="string"&&(m+=atob(x.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,l,i,s,u,d,g,y;if(((s=(i=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,l,i,s,u,d,g,y,m;if(((s=(i=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,l,i,s,u,d,g,y,m;if(((s=(i=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class fh{}class ph{}class j0{}class K0{}class $0{}class X0{}class mh{}class hh{}class gh{}class Q0{}class Va{_fromAPIResponse({apiResponse:t,isVertexAI:l}){const i=new Va;let s;const u=t;return l?s=z0(u):s=G0(u),Object.assign(i,s),i}}class yh{}class vh{}class bh{}class Z0{}class W0{}class eb{}class xh{}class tb{get text(){var t,l,i;let s="",u=!1;const d=[];for(const g of(i=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&i!==void 0?i:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&d.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;u=!0,s+=g.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?s:void 0}get data(){var t,l,i;let s="";const u=[];for(const d of(i=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&i!==void 0?i:[]){for(const[g,y]of Object.entries(d))g!=="inlineData"&&y!==null&&u.push(g);d.inlineData&&typeof d.inlineData.data=="string"&&(s+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class nb{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ne(o,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(o.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function lg(o,t){const l=Ne(o,t);return l?l.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${l}`:l.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${l}`:l:""}function ag(o){return Array.isArray(o)?o.map(t=>Ba(t)):[Ba(o)]}function Ba(o){if(typeof o=="object"&&o!==null)return o;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof o}`)}function rg(o){const t=Ba(o);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function sg(o){const t=Ba(o);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Th(o){if(o==null)throw new Error("PartUnion is required");if(typeof o=="object")return o;if(typeof o=="string")return{text:o};throw new Error(`Unsupported part type: ${typeof o}`)}function ug(o){if(o==null||Array.isArray(o)&&o.length===0)throw new Error("PartListUnion is required");return Array.isArray(o)?o.map(t=>Th(t)):[Th(o)]}function Uu(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function Eh(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function Ch(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function ct(o){if(o==null)throw new Error("ContentUnion is required");return Uu(o)?o:{role:"user",parts:ug(o)}}function $u(o,t){if(!t)return[];if(o.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const i=ct(l);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(o.isVertexAI()){const l=ct(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>ct(l)):[ct(t)]}function Ot(o){if(o==null||Array.isArray(o)&&o.length===0)throw new Error("contents are required");if(!Array.isArray(o)){if(Eh(o)||Ch(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ct(o)]}const t=[],l=[],i=Uu(o[0]);for(const s of o){const u=Uu(s);if(u!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)t.push(s);else{if(Eh(s)||Ch(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(s)}}return i||t.push({role:"user",parts:ug(l)}),t}function ob(o,t){o.includes("null")&&(t.nullable=!0);const l=o.filter(i=>i!=="null");if(l.length===1)t.type=Object.values(nt).includes(l[0].toUpperCase())?l[0].toUpperCase():nt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of l)t.anyOf.push({type:Object.values(nt).includes(i.toUpperCase())?i.toUpperCase():nt.TYPE_UNSPECIFIED})}}function ri(o){const t={},l=["items"],i=["anyOf"],s=["properties"];if(o.type&&o.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=o.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(t.nullable=!0,o=u[1]):u[1].type==="null"&&(t.nullable=!0,o=u[0])),o.type instanceof Array&&ob(o.type,t);for(const[d,g]of Object.entries(o))if(g!=null)if(d=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(nt).includes(g.toUpperCase())?g.toUpperCase():nt.TYPE_UNSPECIFIED}else if(l.includes(d))t[d]=ri(g);else if(i.includes(d)){const y=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}y.push(ri(m))}t[d]=y}else if(s.includes(d)){const y={};for(const[m,v]of Object.entries(g))y[m]=ri(v);t[d]=y}else{if(d==="additionalProperties")continue;t[d]=g}return t}function Xu(o){return ri(o)}function Qu(o){if(typeof o=="object")return o;if(typeof o=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:o}}};throw new Error(`Unsupported speechConfig type: ${typeof o}`)}function Zu(o){if("multiSpeakerVoiceConfig"in o)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return o}function pi(o){if(o.functionDeclarations)for(const t of o.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ri(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ri(t.response));return o}function mi(o){if(o==null)throw new Error("tools is required");if(!Array.isArray(o))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of o)t.push(l);return t}function ib(o,t,l,i=1){const s=!t.startsWith(`${l}/`)&&t.split("/").length===i;return o.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${o.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${t}`:s?`projects/${o.getProject()}/locations/${o.getLocation()}/${l}/${t}`:t:s?`${l}/${t}`:t}function xn(o,t){if(typeof t!="string")throw new Error("name must be a string");return ib(o,t,"cachedContents")}function cg(o){switch(o){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return o}}function Kn(o){return Ku(o)}function lb(o){return o!=null&&typeof o=="object"&&"name"in o}function ab(o){return o!=null&&typeof o=="object"&&"video"in o}function rb(o){return o!=null&&typeof o=="object"&&"uri"in o}function dg(o){var t;let l;if(lb(o)&&(l=o.name),!(rb(o)&&(l=o.uri,l===void 0))&&!(ab(o)&&(l=(t=o.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof o=="string"&&(l=o),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const s=l.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${l}`);l=s[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function fg(o,t){let l;return o.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function pg(o){for(const t of["models","tunedModels","publisherModels"])if(sb(o,t))return o[t];return[]}function sb(o,t){return o!==null&&typeof o=="object"&&t in o}function ub(o,t={}){const l=o,i={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(i.responseJsonSchema=l.outputSchema),t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function cb(o,t={}){const l=[],i=new Set;for(const s of o){const u=s.name;if(i.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);i.add(u);const d=ub(s,t);d.functionDeclarations&&l.push(...d.functionDeclarations)}return{functionDeclarations:l}}function mg(o,t){let l;if(typeof t=="string")if(o.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(o.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const i=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,s=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(o.isVertexAI()){if(s>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function db(o){if(typeof o!="string")return o;const t=o;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function hg(o){if(typeof o!="object"||o===null)return{};const t=o,l=t.inlinedResponses;if(typeof l!="object"||l===null)return o;const s=l.inlinedResponses;if(!Array.isArray(s)||s.length===0)return o;let u=!1;for(const d of s){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),o}function hi(o,t){const l=t;if(!o.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function gg(o){const t=o;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fb(o){const t={},l=c(o,["responsesFile"]);l!=null&&p(t,["fileName"],l);const i=c(o,["inlinedResponses","inlinedResponses"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>Ob(d))),p(t,["inlinedResponses"],u)}const s=c(o,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),p(t,["inlinedEmbedContentResponses"],u)}return t}function pb(o){const t={},l=c(o,["predictionsFormat"]);l!=null&&p(t,["format"],l);const i=c(o,["gcsDestination","outputUriPrefix"]);i!=null&&p(t,["gcsUri"],i);const s=c(o,["bigqueryDestination","outputUri"]);return s!=null&&p(t,["bigqueryUri"],s),t}function mb(o){const t={},l=c(o,["format"]);l!=null&&p(t,["predictionsFormat"],l);const i=c(o,["gcsUri"]);i!=null&&p(t,["gcsDestination","outputUriPrefix"],i);const s=c(o,["bigqueryUri"]);if(s!=null&&p(t,["bigqueryDestination","outputUri"],s),c(o,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(o,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(o,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Pa(o){const t={},l=c(o,["name"]);l!=null&&p(t,["name"],l);const i=c(o,["metadata","displayName"]);i!=null&&p(t,["displayName"],i);const s=c(o,["metadata","state"]);s!=null&&p(t,["state"],gg(s));const u=c(o,["metadata","createTime"]);u!=null&&p(t,["createTime"],u);const d=c(o,["metadata","endTime"]);d!=null&&p(t,["endTime"],d);const g=c(o,["metadata","updateTime"]);g!=null&&p(t,["updateTime"],g);const y=c(o,["metadata","model"]);y!=null&&p(t,["model"],y);const m=c(o,["metadata","output"]);return m!=null&&p(t,["dest"],fb(hg(m))),t}function Pu(o){const t={},l=c(o,["name"]);l!=null&&p(t,["name"],l);const i=c(o,["displayName"]);i!=null&&p(t,["displayName"],i);const s=c(o,["state"]);s!=null&&p(t,["state"],gg(s));const u=c(o,["error"]);u!=null&&p(t,["error"],u);const d=c(o,["createTime"]);d!=null&&p(t,["createTime"],d);const g=c(o,["startTime"]);g!=null&&p(t,["startTime"],g);const y=c(o,["endTime"]);y!=null&&p(t,["endTime"],y);const m=c(o,["updateTime"]);m!=null&&p(t,["updateTime"],m);const v=c(o,["model"]);v!=null&&p(t,["model"],v);const x=c(o,["inputConfig"]);x!=null&&p(t,["src"],hb(x));const E=c(o,["outputConfig"]);return E!=null&&p(t,["dest"],pb(hg(E))),t}function hb(o){const t={},l=c(o,["instancesFormat"]);l!=null&&p(t,["format"],l);const i=c(o,["gcsSource","uris"]);i!=null&&p(t,["gcsUri"],i);const s=c(o,["bigquerySource","inputUri"]);return s!=null&&p(t,["bigqueryUri"],s),t}function gb(o,t){const l={};if(c(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=c(t,["fileName"]);i!=null&&p(l,["fileName"],i);const s=c(t,["inlinedRequests"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Bb(o,d))),p(l,["requests","requests"],u)}return l}function yb(o){const t={},l=c(o,["format"]);l!=null&&p(t,["instancesFormat"],l);const i=c(o,["gcsUri"]);i!=null&&p(t,["gcsSource","uris"],i);const s=c(o,["bigqueryUri"]);if(s!=null&&p(t,["bigquerySource","inputUri"],s),c(o,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(o,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function vb(o){const t={};if(c(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(o,["data"]);l!=null&&p(t,["data"],l);const i=c(o,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}function bb(o,t){const l={},i=c(t,["name"]);return i!=null&&p(l,["_url","name"],hi(o,i)),l}function xb(o,t){const l={},i=c(t,["name"]);return i!=null&&p(l,["_url","name"],hi(o,i)),l}function Tb(o){const t={},l=c(o,["content"]);l!=null&&p(t,["content"],l);const i=c(o,["citationMetadata"]);i!=null&&p(t,["citationMetadata"],Eb(i));const s=c(o,["tokenCount"]);s!=null&&p(t,["tokenCount"],s);const u=c(o,["finishReason"]);u!=null&&p(t,["finishReason"],u);const d=c(o,["urlContextMetadata"]);d!=null&&p(t,["urlContextMetadata"],d);const g=c(o,["avgLogprobs"]);g!=null&&p(t,["avgLogprobs"],g);const y=c(o,["groundingMetadata"]);y!=null&&p(t,["groundingMetadata"],y);const m=c(o,["index"]);m!=null&&p(t,["index"],m);const v=c(o,["logprobsResult"]);v!=null&&p(t,["logprobsResult"],v);const x=c(o,["safetyRatings"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>C)),p(t,["safetyRatings"],E)}return t}function Eb(o){const t={},l=c(o,["citationSources"]);if(l!=null){let i=l;Array.isArray(i)&&(i=i.map(s=>s)),p(t,["citations"],i)}return t}function yg(o){const t={},l=c(o,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(u=>Xb(u))),p(t,["parts"],s)}const i=c(o,["role"]);return i!=null&&p(t,["role"],i),t}function Cb(o,t){const l={},i=c(o,["displayName"]);if(t!==void 0&&i!=null&&p(t,["batch","displayName"],i),c(o,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function Sb(o,t){const l={},i=c(o,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const s=c(o,["dest"]);return t!==void 0&&s!=null&&p(t,["outputConfig"],mb(db(s))),l}function Sh(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["src"]);s!=null&&p(l,["batch","inputConfig"],gb(o,mg(o,s)));const u=c(t,["config"]);return u!=null&&Cb(u,l),l}function Ab(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["model"],Ne(o,i));const s=c(t,["src"]);s!=null&&p(l,["inputConfig"],yb(mg(o,s)));const u=c(t,["config"]);return u!=null&&Sb(u,l),l}function _b(o,t){const l={},i=c(o,["displayName"]);return t!==void 0&&i!=null&&p(t,["batch","displayName"],i),l}function Nb(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["src"]);s!=null&&p(l,["batch","inputConfig"],Lb(o,s));const u=c(t,["config"]);return u!=null&&_b(u,l),l}function wb(o,t){const l={},i=c(t,["name"]);return i!=null&&p(l,["_url","name"],hi(o,i)),l}function Mb(o,t){const l={},i=c(t,["name"]);return i!=null&&p(l,["_url","name"],hi(o,i)),l}function Rb(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["name"]);i!=null&&p(t,["name"],i);const s=c(o,["done"]);s!=null&&p(t,["done"],s);const u=c(o,["error"]);return u!=null&&p(t,["error"],u),t}function kb(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["name"]);i!=null&&p(t,["name"],i);const s=c(o,["done"]);s!=null&&p(t,["done"],s);const u=c(o,["error"]);return u!=null&&p(t,["error"],u),t}function Ib(o,t){const l={},i=c(t,["contents"]);if(i!=null){let u=$u(o,i);Array.isArray(u)&&(u=u.map(d=>d)),p(l,["requests[]","request","content"],u)}const s=c(t,["config"]);return s!=null&&(p(l,["_self"],Db(s,l)),U0(l,{"requests[].*":"requests[].request.*"})),l}function Db(o,t){const l={},i=c(o,["taskType"]);t!==void 0&&i!=null&&p(t,["requests[]","taskType"],i);const s=c(o,["title"]);t!==void 0&&s!=null&&p(t,["requests[]","title"],s);const u=c(o,["outputDimensionality"]);if(t!==void 0&&u!=null&&p(t,["requests[]","outputDimensionality"],u),c(o,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(o,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function Lb(o,t){const l={},i=c(t,["fileName"]);i!=null&&p(l,["file_name"],i);const s=c(t,["inlinedRequests"]);return s!=null&&p(l,["requests"],Ib(o,s)),l}function Ub(o){const t={};if(c(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(o,["fileUri"]);l!=null&&p(t,["fileUri"],l);const i=c(o,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}function Pb(o,t,l){const i={},s=c(t,["systemInstruction"]);l!==void 0&&s!=null&&p(l,["systemInstruction"],yg(ct(s)));const u=c(t,["temperature"]);u!=null&&p(i,["temperature"],u);const d=c(t,["topP"]);d!=null&&p(i,["topP"],d);const g=c(t,["topK"]);g!=null&&p(i,["topK"],g);const y=c(t,["candidateCount"]);y!=null&&p(i,["candidateCount"],y);const m=c(t,["maxOutputTokens"]);m!=null&&p(i,["maxOutputTokens"],m);const v=c(t,["stopSequences"]);v!=null&&p(i,["stopSequences"],v);const x=c(t,["responseLogprobs"]);x!=null&&p(i,["responseLogprobs"],x);const E=c(t,["logprobs"]);E!=null&&p(i,["logprobs"],E);const C=c(t,["presencePenalty"]);C!=null&&p(i,["presencePenalty"],C);const A=c(t,["frequencyPenalty"]);A!=null&&p(i,["frequencyPenalty"],A);const _=c(t,["seed"]);_!=null&&p(i,["seed"],_);const w=c(t,["responseMimeType"]);w!=null&&p(i,["responseMimeType"],w);const k=c(t,["responseSchema"]);k!=null&&p(i,["responseSchema"],Xu(k));const H=c(t,["responseJsonSchema"]);if(H!=null&&p(i,["responseJsonSchema"],H),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=c(t,["safetySettings"]);if(l!==void 0&&M!=null){let ie=M;Array.isArray(ie)&&(ie=ie.map(re=>Qb(re))),p(l,["safetySettings"],ie)}const O=c(t,["tools"]);if(l!==void 0&&O!=null){let ie=mi(O);Array.isArray(ie)&&(ie=ie.map(re=>Zb(pi(re)))),p(l,["tools"],ie)}const j=c(t,["toolConfig"]);if(l!==void 0&&j!=null&&p(l,["toolConfig"],j),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=c(t,["cachedContent"]);l!==void 0&&z!=null&&p(l,["cachedContent"],xn(o,z));const X=c(t,["responseModalities"]);X!=null&&p(i,["responseModalities"],X);const L=c(t,["mediaResolution"]);L!=null&&p(i,["mediaResolution"],L);const P=c(t,["speechConfig"]);if(P!=null&&p(i,["speechConfig"],Qu(P)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=c(t,["thinkingConfig"]);B!=null&&p(i,["thinkingConfig"],B);const ee=c(t,["imageConfig"]);return ee!=null&&p(i,["imageConfig"],ee),i}function Gb(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["candidates"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(m=>Tb(m))),p(t,["candidates"],y)}const s=c(o,["modelVersion"]);s!=null&&p(t,["modelVersion"],s);const u=c(o,["promptFeedback"]);u!=null&&p(t,["promptFeedback"],u);const d=c(o,["responseId"]);d!=null&&p(t,["responseId"],d);const g=c(o,["usageMetadata"]);return g!=null&&p(t,["usageMetadata"],g),t}function zb(o,t){const l={},i=c(t,["name"]);return i!=null&&p(l,["_url","name"],hi(o,i)),l}function qb(o,t){const l={},i=c(t,["name"]);return i!=null&&p(l,["_url","name"],hi(o,i)),l}function Hb(o){const t={};if(c(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=c(o,["enableWidget"]);return l!=null&&p(t,["enableWidget"],l),t}function Vb(o){const t={},l=c(o,["timeRangeFilter"]);if(l!=null&&p(t,["timeRangeFilter"],l),c(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function Bb(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["request","model"],Ne(o,i));const s=c(t,["contents"]);if(s!=null){let g=Ot(s);Array.isArray(g)&&(g=g.map(y=>yg(y))),p(l,["request","contents"],g)}const u=c(t,["metadata"]);u!=null&&p(l,["metadata"],u);const d=c(t,["config"]);return d!=null&&p(l,["request","generationConfig"],Pb(o,d,c(l,["request"],{}))),l}function Ob(o){const t={},l=c(o,["response"]);l!=null&&p(t,["response"],Gb(l));const i=c(o,["error"]);return i!=null&&p(t,["error"],i),t}function Fb(o,t){const l={},i=c(o,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const s=c(o,["pageToken"]);if(t!==void 0&&s!=null&&p(t,["_query","pageToken"],s),c(o,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function Jb(o,t){const l={},i=c(o,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const s=c(o,["pageToken"]);t!==void 0&&s!=null&&p(t,["_query","pageToken"],s);const u=c(o,["filter"]);return t!==void 0&&u!=null&&p(t,["_query","filter"],u),l}function Yb(o){const t={},l=c(o,["config"]);return l!=null&&Fb(l,t),t}function jb(o){const t={},l=c(o,["config"]);return l!=null&&Jb(l,t),t}function Kb(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["nextPageToken"]);i!=null&&p(t,["nextPageToken"],i);const s=c(o,["operations"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Pa(d))),p(t,["batchJobs"],u)}return t}function $b(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["nextPageToken"]);i!=null&&p(t,["nextPageToken"],i);const s=c(o,["batchPredictionJobs"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Pu(d))),p(t,["batchJobs"],u)}return t}function Xb(o){const t={},l=c(o,["videoMetadata"]);l!=null&&p(t,["videoMetadata"],l);const i=c(o,["thought"]);i!=null&&p(t,["thought"],i);const s=c(o,["inlineData"]);s!=null&&p(t,["inlineData"],vb(s));const u=c(o,["fileData"]);u!=null&&p(t,["fileData"],Ub(u));const d=c(o,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const g=c(o,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=c(o,["codeExecutionResult"]);y!=null&&p(t,["codeExecutionResult"],y);const m=c(o,["executableCode"]);m!=null&&p(t,["executableCode"],m);const v=c(o,["functionResponse"]);v!=null&&p(t,["functionResponse"],v);const x=c(o,["text"]);return x!=null&&p(t,["text"],x),t}function Qb(o){const t={};if(c(o,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(o,["category"]);l!=null&&p(t,["category"],l);const i=c(o,["threshold"]);return i!=null&&p(t,["threshold"],i),t}function Zb(o){const t={},l=c(o,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>v)),p(t,["functionDeclarations"],m)}if(c(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(o,["googleSearch"]);i!=null&&p(t,["googleSearch"],Vb(i));const s=c(o,["googleSearchRetrieval"]);if(s!=null&&p(t,["googleSearchRetrieval"],s),c(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(o,["googleMaps"]);u!=null&&p(t,["googleMaps"],Hb(u));const d=c(o,["urlContext"]);d!=null&&p(t,["urlContext"],d);const g=c(o,["computerUse"]);g!=null&&p(t,["computerUse"],g);const y=c(o,["codeExecution"]);return y!=null&&p(t,["codeExecution"],y),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vo;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(vo||(vo={}));class yl{constructor(t,l,i,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,i,s)}init(t,l,i){var s,u;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!i||Object.keys(i).length===0?d={config:{}}:typeof i=="object"?d=Object.assign({},i):d=i,d.config&&(d.config.pageToken=l.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(s=d.config)===null||s===void 0?void 0:s.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wb extends xo{constructor(t){super(),this.apiClient=t,this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)},this.list=async(l={})=>new yl(vo.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(l),l)}createInlinedGenerateContentRequest(t){const l=Sh(this.apiClient,t),i=l._url,s=se("{model}:batchGenerateContent",i),g=l.batch.inputConfig.requests,y=g.requests,m=[];for(const v of y){const x=Object.assign({},v);if(x.systemInstruction){const E=x.systemInstruction;delete x.systemInstruction;const C=x.request;C.systemInstruction=E,x.request=C}m.push(x)}return g.requests=m,delete l.config,delete l._url,delete l._query,{path:s,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const i=l?Object.assign({},l):{},s=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${s}`),i.dest===void 0){const u=this.getGcsUri(t),d=this.getBigqueryUri(t);if(u)u.endsWith(".jsonl")?i.dest=`${u.slice(0,-6)}/dest`:i.dest=`${u}_dest_${s}`;else if(d)i.dest=`${d}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=Ab(this.apiClient,t);return g=se("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),d.then(v=>Pu(v))}else{const m=Sh(this.apiClient,t);return g=se("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Pa(v))}}async createEmbeddingsInternal(t){var l,i;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Nb(this.apiClient,t);return u=se("{model}:asyncBatchEmbedContent",g._url),d=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),s.then(y=>Pa(y))}}async get(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=qb(this.apiClient,t);return g=se("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),d.then(v=>Pu(v))}else{const m=zb(this.apiClient,t);return g=se("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Pa(v))}}async cancel(t){var l,i,s,u;let d="",g={};if(this.apiClient.isVertexAI()){const y=xb(this.apiClient,t);d=se("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const y=bb(this.apiClient,t);d=se("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=jb(t);return g=se("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=$b(v),E=new xh;return Object.assign(E,x),E})}else{const m=Yb(t);return g=se("batches",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=Kb(v),E=new xh;return Object.assign(E,x),E})}}async delete(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=Mb(this.apiClient,t);return g=se("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>kb(v))}else{const m=wb(this.apiClient,t);return g=se("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>Rb(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ex(o){const t={};if(c(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(o,["data"]);l!=null&&p(t,["data"],l);const i=c(o,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}function Ah(o){const t={},l=c(o,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(u=>Tx(u))),p(t,["parts"],s)}const i=c(o,["role"]);return i!=null&&p(t,["role"],i),t}function tx(o,t){const l={},i=c(o,["ttl"]);t!==void 0&&i!=null&&p(t,["ttl"],i);const s=c(o,["expireTime"]);t!==void 0&&s!=null&&p(t,["expireTime"],s);const u=c(o,["displayName"]);t!==void 0&&u!=null&&p(t,["displayName"],u);const d=c(o,["contents"]);if(t!==void 0&&d!=null){let v=Ot(d);Array.isArray(v)&&(v=v.map(x=>Ah(x))),p(t,["contents"],v)}const g=c(o,["systemInstruction"]);t!==void 0&&g!=null&&p(t,["systemInstruction"],Ah(ct(g)));const y=c(o,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(x=>Ex(x))),p(t,["tools"],v)}const m=c(o,["toolConfig"]);if(t!==void 0&&m!=null&&p(t,["toolConfig"],m),c(o,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function nx(o,t){const l={},i=c(o,["ttl"]);t!==void 0&&i!=null&&p(t,["ttl"],i);const s=c(o,["expireTime"]);t!==void 0&&s!=null&&p(t,["expireTime"],s);const u=c(o,["displayName"]);t!==void 0&&u!=null&&p(t,["displayName"],u);const d=c(o,["contents"]);if(t!==void 0&&d!=null){let x=Ot(d);Array.isArray(x)&&(x=x.map(E=>E)),p(t,["contents"],x)}const g=c(o,["systemInstruction"]);t!==void 0&&g!=null&&p(t,["systemInstruction"],ct(g));const y=c(o,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(E=>Cx(E))),p(t,["tools"],x)}const m=c(o,["toolConfig"]);t!==void 0&&m!=null&&p(t,["toolConfig"],m);const v=c(o,["kmsKeyName"]);return t!==void 0&&v!=null&&p(t,["encryption_spec","kmsKeyName"],v),l}function ox(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["model"],lg(o,i));const s=c(t,["config"]);return s!=null&&tx(s,l),l}function ix(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["model"],lg(o,i));const s=c(t,["config"]);return s!=null&&nx(s,l),l}function lx(o,t){const l={},i=c(t,["name"]);return i!=null&&p(l,["_url","name"],xn(o,i)),l}function ax(o,t){const l={},i=c(t,["name"]);return i!=null&&p(l,["_url","name"],xn(o,i)),l}function rx(o){const t={},l=c(o,["sdkHttpResponse"]);return l!=null&&p(t,["sdkHttpResponse"],l),t}function sx(o){const t={},l=c(o,["sdkHttpResponse"]);return l!=null&&p(t,["sdkHttpResponse"],l),t}function ux(o){const t={};if(c(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(o,["fileUri"]);l!=null&&p(t,["fileUri"],l);const i=c(o,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}function cx(o){const t={};if(c(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=c(o,["description"]);l!=null&&p(t,["description"],l);const i=c(o,["name"]);i!=null&&p(t,["name"],i);const s=c(o,["parameters"]);s!=null&&p(t,["parameters"],s);const u=c(o,["parametersJsonSchema"]);u!=null&&p(t,["parametersJsonSchema"],u);const d=c(o,["response"]);d!=null&&p(t,["response"],d);const g=c(o,["responseJsonSchema"]);return g!=null&&p(t,["responseJsonSchema"],g),t}function dx(o,t){const l={},i=c(t,["name"]);return i!=null&&p(l,["_url","name"],xn(o,i)),l}function fx(o,t){const l={},i=c(t,["name"]);return i!=null&&p(l,["_url","name"],xn(o,i)),l}function px(o){const t={};if(c(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=c(o,["enableWidget"]);return l!=null&&p(t,["enableWidget"],l),t}function mx(o){const t={},l=c(o,["timeRangeFilter"]);if(l!=null&&p(t,["timeRangeFilter"],l),c(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function hx(o,t){const l={},i=c(o,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const s=c(o,["pageToken"]);return t!==void 0&&s!=null&&p(t,["_query","pageToken"],s),l}function gx(o,t){const l={},i=c(o,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const s=c(o,["pageToken"]);return t!==void 0&&s!=null&&p(t,["_query","pageToken"],s),l}function yx(o){const t={},l=c(o,["config"]);return l!=null&&hx(l,t),t}function vx(o){const t={},l=c(o,["config"]);return l!=null&&gx(l,t),t}function bx(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["nextPageToken"]);i!=null&&p(t,["nextPageToken"],i);const s=c(o,["cachedContents"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),p(t,["cachedContents"],u)}return t}function xx(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["nextPageToken"]);i!=null&&p(t,["nextPageToken"],i);const s=c(o,["cachedContents"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),p(t,["cachedContents"],u)}return t}function Tx(o){const t={},l=c(o,["videoMetadata"]);l!=null&&p(t,["videoMetadata"],l);const i=c(o,["thought"]);i!=null&&p(t,["thought"],i);const s=c(o,["inlineData"]);s!=null&&p(t,["inlineData"],ex(s));const u=c(o,["fileData"]);u!=null&&p(t,["fileData"],ux(u));const d=c(o,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const g=c(o,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=c(o,["codeExecutionResult"]);y!=null&&p(t,["codeExecutionResult"],y);const m=c(o,["executableCode"]);m!=null&&p(t,["executableCode"],m);const v=c(o,["functionResponse"]);v!=null&&p(t,["functionResponse"],v);const x=c(o,["text"]);return x!=null&&p(t,["text"],x),t}function Ex(o){const t={},l=c(o,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>v)),p(t,["functionDeclarations"],m)}if(c(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(o,["googleSearch"]);i!=null&&p(t,["googleSearch"],mx(i));const s=c(o,["googleSearchRetrieval"]);if(s!=null&&p(t,["googleSearchRetrieval"],s),c(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(o,["googleMaps"]);u!=null&&p(t,["googleMaps"],px(u));const d=c(o,["urlContext"]);d!=null&&p(t,["urlContext"],d);const g=c(o,["computerUse"]);g!=null&&p(t,["computerUse"],g);const y=c(o,["codeExecution"]);return y!=null&&p(t,["codeExecution"],y),t}function Cx(o){const t={},l=c(o,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(E=>cx(E))),p(t,["functionDeclarations"],x)}const i=c(o,["retrieval"]);i!=null&&p(t,["retrieval"],i);const s=c(o,["googleSearch"]);s!=null&&p(t,["googleSearch"],s);const u=c(o,["googleSearchRetrieval"]);u!=null&&p(t,["googleSearchRetrieval"],u);const d=c(o,["enterpriseWebSearch"]);d!=null&&p(t,["enterpriseWebSearch"],d);const g=c(o,["googleMaps"]);g!=null&&p(t,["googleMaps"],g);const y=c(o,["urlContext"]);y!=null&&p(t,["urlContext"],y);const m=c(o,["computerUse"]);m!=null&&p(t,["computerUse"],m);const v=c(o,["codeExecution"]);return v!=null&&p(t,["codeExecution"],v),t}function Sx(o,t){const l={},i=c(o,["ttl"]);t!==void 0&&i!=null&&p(t,["ttl"],i);const s=c(o,["expireTime"]);return t!==void 0&&s!=null&&p(t,["expireTime"],s),l}function Ax(o,t){const l={},i=c(o,["ttl"]);t!==void 0&&i!=null&&p(t,["ttl"],i);const s=c(o,["expireTime"]);return t!==void 0&&s!=null&&p(t,["expireTime"],s),l}function _x(o,t){const l={},i=c(t,["name"]);i!=null&&p(l,["_url","name"],xn(o,i));const s=c(t,["config"]);return s!=null&&Sx(s,l),l}function Nx(o,t){const l={},i=c(t,["name"]);i!=null&&p(l,["_url","name"],xn(o,i));const s=c(t,["config"]);return s!=null&&Ax(s,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wx extends xo{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new yl(vo.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(l),l)}async create(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=ix(this.apiClient,t);return g=se("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=ox(this.apiClient,t);return g=se("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=fx(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=dx(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=ax(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=sx(v),E=new vh;return Object.assign(E,x),E})}else{const m=lx(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=rx(v),E=new vh;return Object.assign(E,x),E})}}async update(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=Nx(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=_x(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=vx(t);return g=se("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=xx(v),E=new bh;return Object.assign(E,x),E})}else{const m=yx(t);return g=se("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=bx(v),E=new bh;return Object.assign(E,x),E})}}}function _h(o){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&o[t],i=0;if(l)return l.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(o){return this instanceof qe?(this.v=o,this):new qe(o)}function si(o,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=l.apply(o,t||[]),s,u=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",d),s[Symbol.asyncIterator]=function(){return this},s;function d(C){return function(A){return Promise.resolve(A).then(C,x)}}function g(C,A){i[C]&&(s[C]=function(_){return new Promise(function(w,k){u.push([C,_,w,k])>1||y(C,_)})},A&&(s[C]=A(s[C])))}function y(C,A){try{m(i[C](A))}catch(_){E(u[0][3],_)}}function m(C){C.value instanceof qe?Promise.resolve(C.value.v).then(v,x):E(u[0][2],C)}function v(C){y("next",C)}function x(C){y("throw",C)}function E(C,A){C(A),u.shift(),u.length&&y(u[0][0],u[0][1])}}function ml(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=o[Symbol.asyncIterator],l;return t?t.call(o):(o=typeof _h=="function"?_h(o):o[Symbol.iterator](),l={},i("next"),i("throw"),i("return"),l[Symbol.asyncIterator]=function(){return this},l);function i(u){l[u]=o[u]&&function(d){return new Promise(function(g,y){d=o[u](d),s(g,y,d.done,d.value)})}}function s(u,d,g,y){Promise.resolve(y).then(function(m){u({value:m,done:g})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mx(o){var t;if(o.candidates==null||o.candidates.length===0)return!1;const l=(t=o.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:vg(l)}function vg(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const t of o.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Rx(o){if(o.length!==0){for(const t of o)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Nh(o){if(o===void 0||o.length===0)return[];const t=[],l=o.length;let i=0;for(;i<l;)if(o[i].role==="user")t.push(o[i]),i++;else{const s=[];let u=!0;for(;i<l&&o[i].role==="model";)s.push(o[i]),u&&!vg(o[i])&&(u=!1),i++;u?t.push(...s):t.pop()}return t}class kx{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new Ix(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Ix{constructor(t,l,i,s={},u=[]){this.apiClient=t,this.modelsModule=l,this.model=i,this.config=s,this.history=u,this.sendPromise=Promise.resolve(),Rx(u)}async sendMessage(t){var l;await this.sendPromise;const i=ct(t.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var u,d,g;const y=await s,m=(d=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(x))!==null&&g!==void 0?g:[]);const C=m?[m]:[];this.recordHistory(i,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(t){var l;await this.sendPromise;const i=ct(t.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const u=await s;return this.processStreamResponse(u,i)}getHistory(t=!1){const l=t?Nh(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){var i,s;return si(this,arguments,function*(){var d,g,y,m;const v=[];try{for(var x=!0,E=ml(t),C;C=yield qe(E.next()),d=C.done,!d;x=!0){m=C.value,x=!1;const A=m;if(Mx(A)){const _=(s=(i=A.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content;_!==void 0&&v.push(_)}yield yield qe(A)}}catch(A){g={error:A}}finally{try{!x&&!d&&(y=E.return)&&(yield qe(y.call(E)))}finally{if(g)throw g.error}}this.recordHistory(l,v)})}recordHistory(t,l,i){let s=[];l.length>0&&l.every(u=>u.role!==void 0)?s=l:s.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Nh(i)):this.history.push(t),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Fa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dx(o){const t={},l=c(o,["file"]);return l!=null&&p(t,["file"],l),t}function Lx(o){const t={},l=c(o,["sdkHttpResponse"]);return l!=null&&p(t,["sdkHttpResponse"],l),t}function Ux(o){const t={},l=c(o,["name"]);return l!=null&&p(t,["_url","file"],dg(l)),t}function Px(o){const t={},l=c(o,["sdkHttpResponse"]);return l!=null&&p(t,["sdkHttpResponse"],l),t}function Gx(o){const t={},l=c(o,["name"]);return l!=null&&p(t,["_url","file"],dg(l)),t}function zx(o,t){const l={},i=c(o,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const s=c(o,["pageToken"]);return t!==void 0&&s!=null&&p(t,["_query","pageToken"],s),l}function qx(o){const t={},l=c(o,["config"]);return l!=null&&zx(l,t),t}function Hx(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["nextPageToken"]);i!=null&&p(t,["nextPageToken"],i);const s=c(o,["files"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),p(t,["files"],u)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vx extends xo{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new yl(vo.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,i;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qx(t);return u=se("files",g._url),d=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>{const m=Hx(y),v=new Z0;return Object.assign(v,m),v})}}async createInternal(t){var l,i;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Dx(t);return u=se("upload/v1beta/files",g._url),d=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),s.then(y=>{const m=Lx(y),v=new W0;return Object.assign(v,m),v})}}async get(t){var l,i;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Gx(t);return u=se("files/{file}",g._url),d=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async delete(t){var l,i;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Ux(t);return u=se("files/{file}",g._url),d=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>{const m=Px(y),v=new eb;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ga(o){const t={};if(c(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(o,["data"]);l!=null&&p(t,["data"],l);const i=c(o,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}function Bx(o){const t={},l=c(o,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(u=>oT(u))),p(t,["parts"],s)}const i=c(o,["role"]);return i!=null&&p(t,["role"],i),t}function Ox(o){const t={};if(c(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(o,["fileUri"]);l!=null&&p(t,["fileUri"],l);const i=c(o,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}function Fx(o){const t={};if(c(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=c(o,["description"]);l!=null&&p(t,["description"],l);const i=c(o,["name"]);i!=null&&p(t,["name"],i);const s=c(o,["parameters"]);s!=null&&p(t,["parameters"],s);const u=c(o,["parametersJsonSchema"]);u!=null&&p(t,["parametersJsonSchema"],u);const d=c(o,["response"]);d!=null&&p(t,["response"],d);const g=c(o,["responseJsonSchema"]);return g!=null&&p(t,["responseJsonSchema"],g),t}function Jx(o){const t={},l=c(o,["modelSelectionConfig"]);l!=null&&p(t,["modelConfig"],l);const i=c(o,["audioTimestamp"]);i!=null&&p(t,["audioTimestamp"],i);const s=c(o,["candidateCount"]);s!=null&&p(t,["candidateCount"],s);const u=c(o,["enableAffectiveDialog"]);u!=null&&p(t,["enableAffectiveDialog"],u);const d=c(o,["frequencyPenalty"]);d!=null&&p(t,["frequencyPenalty"],d);const g=c(o,["logprobs"]);g!=null&&p(t,["logprobs"],g);const y=c(o,["maxOutputTokens"]);y!=null&&p(t,["maxOutputTokens"],y);const m=c(o,["mediaResolution"]);m!=null&&p(t,["mediaResolution"],m);const v=c(o,["presencePenalty"]);v!=null&&p(t,["presencePenalty"],v);const x=c(o,["responseJsonSchema"]);x!=null&&p(t,["responseJsonSchema"],x);const E=c(o,["responseLogprobs"]);E!=null&&p(t,["responseLogprobs"],E);const C=c(o,["responseMimeType"]);C!=null&&p(t,["responseMimeType"],C);const A=c(o,["responseModalities"]);A!=null&&p(t,["responseModalities"],A);const _=c(o,["responseSchema"]);_!=null&&p(t,["responseSchema"],_);const w=c(o,["routingConfig"]);w!=null&&p(t,["routingConfig"],w);const k=c(o,["seed"]);k!=null&&p(t,["seed"],k);const H=c(o,["speechConfig"]);H!=null&&p(t,["speechConfig"],bg(H));const M=c(o,["stopSequences"]);M!=null&&p(t,["stopSequences"],M);const O=c(o,["temperature"]);O!=null&&p(t,["temperature"],O);const j=c(o,["thinkingConfig"]);j!=null&&p(t,["thinkingConfig"],j);const z=c(o,["topK"]);z!=null&&p(t,["topK"],z);const X=c(o,["topP"]);if(X!=null&&p(t,["topP"],X),c(o,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Yx(o){const t={};if(c(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=c(o,["enableWidget"]);return l!=null&&p(t,["enableWidget"],l),t}function jx(o){const t={},l=c(o,["timeRangeFilter"]);if(l!=null&&p(t,["timeRangeFilter"],l),c(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function Kx(o,t){const l={},i=c(o,["generationConfig"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig"],i);const s=c(o,["responseModalities"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","responseModalities"],s);const u=c(o,["temperature"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","temperature"],u);const d=c(o,["topP"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","topP"],d);const g=c(o,["topK"]);t!==void 0&&g!=null&&p(t,["setup","generationConfig","topK"],g);const y=c(o,["maxOutputTokens"]);t!==void 0&&y!=null&&p(t,["setup","generationConfig","maxOutputTokens"],y);const m=c(o,["mediaResolution"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","mediaResolution"],m);const v=c(o,["seed"]);t!==void 0&&v!=null&&p(t,["setup","generationConfig","seed"],v);const x=c(o,["speechConfig"]);t!==void 0&&x!=null&&p(t,["setup","generationConfig","speechConfig"],Zu(x));const E=c(o,["thinkingConfig"]);t!==void 0&&E!=null&&p(t,["setup","generationConfig","thinkingConfig"],E);const C=c(o,["enableAffectiveDialog"]);t!==void 0&&C!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],C);const A=c(o,["systemInstruction"]);t!==void 0&&A!=null&&p(t,["setup","systemInstruction"],Bx(ct(A)));const _=c(o,["tools"]);if(t!==void 0&&_!=null){let z=mi(_);Array.isArray(z)&&(z=z.map(X=>lT(pi(X)))),p(t,["setup","tools"],z)}const w=c(o,["sessionResumption"]);t!==void 0&&w!=null&&p(t,["setup","sessionResumption"],iT(w));const k=c(o,["inputAudioTranscription"]);t!==void 0&&k!=null&&p(t,["setup","inputAudioTranscription"],k);const H=c(o,["outputAudioTranscription"]);t!==void 0&&H!=null&&p(t,["setup","outputAudioTranscription"],H);const M=c(o,["realtimeInputConfig"]);t!==void 0&&M!=null&&p(t,["setup","realtimeInputConfig"],M);const O=c(o,["contextWindowCompression"]);t!==void 0&&O!=null&&p(t,["setup","contextWindowCompression"],O);const j=c(o,["proactivity"]);return t!==void 0&&j!=null&&p(t,["setup","proactivity"],j),l}function $x(o,t){const l={},i=c(o,["generationConfig"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig"],Jx(i));const s=c(o,["responseModalities"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","responseModalities"],s);const u=c(o,["temperature"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","temperature"],u);const d=c(o,["topP"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","topP"],d);const g=c(o,["topK"]);t!==void 0&&g!=null&&p(t,["setup","generationConfig","topK"],g);const y=c(o,["maxOutputTokens"]);t!==void 0&&y!=null&&p(t,["setup","generationConfig","maxOutputTokens"],y);const m=c(o,["mediaResolution"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","mediaResolution"],m);const v=c(o,["seed"]);t!==void 0&&v!=null&&p(t,["setup","generationConfig","seed"],v);const x=c(o,["speechConfig"]);t!==void 0&&x!=null&&p(t,["setup","generationConfig","speechConfig"],bg(Zu(x)));const E=c(o,["thinkingConfig"]);t!==void 0&&E!=null&&p(t,["setup","generationConfig","thinkingConfig"],E);const C=c(o,["enableAffectiveDialog"]);t!==void 0&&C!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],C);const A=c(o,["systemInstruction"]);t!==void 0&&A!=null&&p(t,["setup","systemInstruction"],ct(A));const _=c(o,["tools"]);if(t!==void 0&&_!=null){let z=mi(_);Array.isArray(z)&&(z=z.map(X=>aT(pi(X)))),p(t,["setup","tools"],z)}const w=c(o,["sessionResumption"]);t!==void 0&&w!=null&&p(t,["setup","sessionResumption"],w);const k=c(o,["inputAudioTranscription"]);t!==void 0&&k!=null&&p(t,["setup","inputAudioTranscription"],k);const H=c(o,["outputAudioTranscription"]);t!==void 0&&H!=null&&p(t,["setup","outputAudioTranscription"],H);const M=c(o,["realtimeInputConfig"]);t!==void 0&&M!=null&&p(t,["setup","realtimeInputConfig"],M);const O=c(o,["contextWindowCompression"]);t!==void 0&&O!=null&&p(t,["setup","contextWindowCompression"],O);const j=c(o,["proactivity"]);return t!==void 0&&j!=null&&p(t,["setup","proactivity"],j),l}function Xx(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["setup","model"],Ne(o,i));const s=c(t,["config"]);return s!=null&&p(l,["config"],Kx(s,l)),l}function Qx(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["setup","model"],Ne(o,i));const s=c(t,["config"]);return s!=null&&p(l,["config"],$x(s,l)),l}function Zx(o){const t={},l=c(o,["musicGenerationConfig"]);return l!=null&&p(t,["musicGenerationConfig"],l),t}function Wx(o){const t={},l=c(o,["weightedPrompts"]);if(l!=null){let i=l;Array.isArray(i)&&(i=i.map(s=>s)),p(t,["weightedPrompts"],i)}return t}function eT(o){const t={},l=c(o,["media"]);if(l!=null){let m=ag(l);Array.isArray(m)&&(m=m.map(v=>Ga(v))),p(t,["mediaChunks"],m)}const i=c(o,["audio"]);i!=null&&p(t,["audio"],Ga(sg(i)));const s=c(o,["audioStreamEnd"]);s!=null&&p(t,["audioStreamEnd"],s);const u=c(o,["video"]);u!=null&&p(t,["video"],Ga(rg(u)));const d=c(o,["text"]);d!=null&&p(t,["text"],d);const g=c(o,["activityStart"]);g!=null&&p(t,["activityStart"],g);const y=c(o,["activityEnd"]);return y!=null&&p(t,["activityEnd"],y),t}function tT(o){const t={},l=c(o,["media"]);if(l!=null){let m=ag(l);Array.isArray(m)&&(m=m.map(v=>v)),p(t,["mediaChunks"],m)}const i=c(o,["audio"]);i!=null&&p(t,["audio"],sg(i));const s=c(o,["audioStreamEnd"]);s!=null&&p(t,["audioStreamEnd"],s);const u=c(o,["video"]);u!=null&&p(t,["video"],rg(u));const d=c(o,["text"]);d!=null&&p(t,["text"],d);const g=c(o,["activityStart"]);g!=null&&p(t,["activityStart"],g);const y=c(o,["activityEnd"]);return y!=null&&p(t,["activityEnd"],y),t}function nT(o){const t={},l=c(o,["setupComplete"]);l!=null&&p(t,["setupComplete"],l);const i=c(o,["serverContent"]);i!=null&&p(t,["serverContent"],i);const s=c(o,["toolCall"]);s!=null&&p(t,["toolCall"],s);const u=c(o,["toolCallCancellation"]);u!=null&&p(t,["toolCallCancellation"],u);const d=c(o,["usageMetadata"]);d!=null&&p(t,["usageMetadata"],rT(d));const g=c(o,["goAway"]);g!=null&&p(t,["goAway"],g);const y=c(o,["sessionResumptionUpdate"]);return y!=null&&p(t,["sessionResumptionUpdate"],y),t}function oT(o){const t={},l=c(o,["videoMetadata"]);l!=null&&p(t,["videoMetadata"],l);const i=c(o,["thought"]);i!=null&&p(t,["thought"],i);const s=c(o,["inlineData"]);s!=null&&p(t,["inlineData"],Ga(s));const u=c(o,["fileData"]);u!=null&&p(t,["fileData"],Ox(u));const d=c(o,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const g=c(o,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=c(o,["codeExecutionResult"]);y!=null&&p(t,["codeExecutionResult"],y);const m=c(o,["executableCode"]);m!=null&&p(t,["executableCode"],m);const v=c(o,["functionResponse"]);v!=null&&p(t,["functionResponse"],v);const x=c(o,["text"]);return x!=null&&p(t,["text"],x),t}function iT(o){const t={},l=c(o,["handle"]);if(l!=null&&p(t,["handle"],l),c(o,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function bg(o){const t={},l=c(o,["voiceConfig"]);if(l!=null&&p(t,["voiceConfig"],l),c(o,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=c(o,["languageCode"]);return i!=null&&p(t,["languageCode"],i),t}function lT(o){const t={},l=c(o,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>v)),p(t,["functionDeclarations"],m)}if(c(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(o,["googleSearch"]);i!=null&&p(t,["googleSearch"],jx(i));const s=c(o,["googleSearchRetrieval"]);if(s!=null&&p(t,["googleSearchRetrieval"],s),c(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(o,["googleMaps"]);u!=null&&p(t,["googleMaps"],Yx(u));const d=c(o,["urlContext"]);d!=null&&p(t,["urlContext"],d);const g=c(o,["computerUse"]);g!=null&&p(t,["computerUse"],g);const y=c(o,["codeExecution"]);return y!=null&&p(t,["codeExecution"],y),t}function aT(o){const t={},l=c(o,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(E=>Fx(E))),p(t,["functionDeclarations"],x)}const i=c(o,["retrieval"]);i!=null&&p(t,["retrieval"],i);const s=c(o,["googleSearch"]);s!=null&&p(t,["googleSearch"],s);const u=c(o,["googleSearchRetrieval"]);u!=null&&p(t,["googleSearchRetrieval"],u);const d=c(o,["enterpriseWebSearch"]);d!=null&&p(t,["enterpriseWebSearch"],d);const g=c(o,["googleMaps"]);g!=null&&p(t,["googleMaps"],g);const y=c(o,["urlContext"]);y!=null&&p(t,["urlContext"],y);const m=c(o,["computerUse"]);m!=null&&p(t,["computerUse"],m);const v=c(o,["codeExecution"]);return v!=null&&p(t,["codeExecution"],v),t}function rT(o){const t={},l=c(o,["promptTokenCount"]);l!=null&&p(t,["promptTokenCount"],l);const i=c(o,["cachedContentTokenCount"]);i!=null&&p(t,["cachedContentTokenCount"],i);const s=c(o,["candidatesTokenCount"]);s!=null&&p(t,["responseTokenCount"],s);const u=c(o,["toolUsePromptTokenCount"]);u!=null&&p(t,["toolUsePromptTokenCount"],u);const d=c(o,["thoughtsTokenCount"]);d!=null&&p(t,["thoughtsTokenCount"],d);const g=c(o,["totalTokenCount"]);g!=null&&p(t,["totalTokenCount"],g);const y=c(o,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(A=>A)),p(t,["promptTokensDetails"],C)}const m=c(o,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(A=>A)),p(t,["cacheTokensDetails"],C)}const v=c(o,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(A=>A)),p(t,["responseTokensDetails"],C)}const x=c(o,["toolUsePromptTokensDetails"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(A=>A)),p(t,["toolUsePromptTokensDetails"],C)}const E=c(o,["trafficType"]);return E!=null&&p(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sT(o){const t={};if(c(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(o,["data"]);l!=null&&p(t,["data"],l);const i=c(o,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}function uT(o){const t={},l=c(o,["content"]);l!=null&&p(t,["content"],l);const i=c(o,["citationMetadata"]);i!=null&&p(t,["citationMetadata"],cT(i));const s=c(o,["tokenCount"]);s!=null&&p(t,["tokenCount"],s);const u=c(o,["finishReason"]);u!=null&&p(t,["finishReason"],u);const d=c(o,["urlContextMetadata"]);d!=null&&p(t,["urlContextMetadata"],d);const g=c(o,["avgLogprobs"]);g!=null&&p(t,["avgLogprobs"],g);const y=c(o,["groundingMetadata"]);y!=null&&p(t,["groundingMetadata"],y);const m=c(o,["index"]);m!=null&&p(t,["index"],m);const v=c(o,["logprobsResult"]);v!=null&&p(t,["logprobsResult"],v);const x=c(o,["safetyRatings"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>C)),p(t,["safetyRatings"],E)}return t}function cT(o){const t={},l=c(o,["citationSources"]);if(l!=null){let i=l;Array.isArray(i)&&(i=i.map(s=>s)),p(t,["citations"],i)}return t}function dT(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["contents"]);if(s!=null){let u=Ot(s);Array.isArray(u)&&(u=u.map(d=>d)),p(l,["contents"],u)}return l}function fT(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u)),p(t,["tokensInfo"],s)}return t}function pT(o){const t={},l=c(o,["values"]);l!=null&&p(t,["values"],l);const i=c(o,["statistics"]);return i!=null&&p(t,["statistics"],mT(i)),t}function mT(o){const t={},l=c(o,["truncated"]);l!=null&&p(t,["truncated"],l);const i=c(o,["token_count"]);return i!=null&&p(t,["tokenCount"],i),t}function Ja(o){const t={},l=c(o,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(u=>bE(u))),p(t,["parts"],s)}const i=c(o,["role"]);return i!=null&&p(t,["role"],i),t}function hT(o){const t={},l=c(o,["controlType"]);l!=null&&p(t,["controlType"],l);const i=c(o,["enableControlImageComputation"]);return i!=null&&p(t,["computeControl"],i),t}function gT(o){const t={};if(c(o,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(o,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(o,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function yT(o,t){const l={},i=c(o,["systemInstruction"]);t!==void 0&&i!=null&&p(t,["systemInstruction"],ct(i));const s=c(o,["tools"]);if(t!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(g=>Sg(g))),p(t,["tools"],d)}const u=c(o,["generationConfig"]);return t!==void 0&&u!=null&&p(t,["generationConfig"],aE(u)),l}function vT(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["contents"]);if(s!=null){let d=Ot(s);Array.isArray(d)&&(d=d.map(g=>Ja(g))),p(l,["contents"],d)}const u=c(t,["config"]);return u!=null&&gT(u),l}function bT(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["contents"]);if(s!=null){let d=Ot(s);Array.isArray(d)&&(d=d.map(g=>g)),p(l,["contents"],d)}const u=c(t,["config"]);return u!=null&&yT(u,l),l}function xT(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["totalTokens"]);i!=null&&p(t,["totalTokens"],i);const s=c(o,["cachedContentTokenCount"]);return s!=null&&p(t,["cachedContentTokenCount"],s),t}function TT(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["totalTokens"]);return i!=null&&p(t,["totalTokens"],i),t}function ET(o,t){const l={},i=c(t,["model"]);return i!=null&&p(l,["_url","name"],Ne(o,i)),l}function CT(o,t){const l={},i=c(t,["model"]);return i!=null&&p(l,["_url","name"],Ne(o,i)),l}function ST(o){const t={},l=c(o,["sdkHttpResponse"]);return l!=null&&p(t,["sdkHttpResponse"],l),t}function AT(o){const t={},l=c(o,["sdkHttpResponse"]);return l!=null&&p(t,["sdkHttpResponse"],l),t}function _T(o,t){const l={},i=c(o,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const s=c(o,["negativePrompt"]);t!==void 0&&s!=null&&p(t,["parameters","negativePrompt"],s);const u=c(o,["numberOfImages"]);t!==void 0&&u!=null&&p(t,["parameters","sampleCount"],u);const d=c(o,["aspectRatio"]);t!==void 0&&d!=null&&p(t,["parameters","aspectRatio"],d);const g=c(o,["guidanceScale"]);t!==void 0&&g!=null&&p(t,["parameters","guidanceScale"],g);const y=c(o,["seed"]);t!==void 0&&y!=null&&p(t,["parameters","seed"],y);const m=c(o,["safetyFilterLevel"]);t!==void 0&&m!=null&&p(t,["parameters","safetySetting"],m);const v=c(o,["personGeneration"]);t!==void 0&&v!=null&&p(t,["parameters","personGeneration"],v);const x=c(o,["includeSafetyAttributes"]);t!==void 0&&x!=null&&p(t,["parameters","includeSafetyAttributes"],x);const E=c(o,["includeRaiReason"]);t!==void 0&&E!=null&&p(t,["parameters","includeRaiReason"],E);const C=c(o,["language"]);t!==void 0&&C!=null&&p(t,["parameters","language"],C);const A=c(o,["outputMimeType"]);t!==void 0&&A!=null&&p(t,["parameters","outputOptions","mimeType"],A);const _=c(o,["outputCompressionQuality"]);t!==void 0&&_!=null&&p(t,["parameters","outputOptions","compressionQuality"],_);const w=c(o,["addWatermark"]);t!==void 0&&w!=null&&p(t,["parameters","addWatermark"],w);const k=c(o,["labels"]);t!==void 0&&k!=null&&p(t,["labels"],k);const H=c(o,["editMode"]);t!==void 0&&H!=null&&p(t,["parameters","editMode"],H);const M=c(o,["baseSteps"]);return t!==void 0&&M!=null&&p(t,["parameters","editConfig","baseSteps"],M),l}function NT(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["prompt"]);s!=null&&p(l,["instances[0]","prompt"],s);const u=c(t,["referenceImages"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(y=>AE(y))),p(l,["instances[0]","referenceImages"],g)}const d=c(t,["config"]);return d!=null&&_T(d,l),l}function wT(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Ya(u))),p(t,["generatedImages"],s)}return t}function MT(o,t){const l={},i=c(o,["taskType"]);t!==void 0&&i!=null&&p(t,["requests[]","taskType"],i);const s=c(o,["title"]);t!==void 0&&s!=null&&p(t,["requests[]","title"],s);const u=c(o,["outputDimensionality"]);if(t!==void 0&&u!=null&&p(t,["requests[]","outputDimensionality"],u),c(o,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(o,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function RT(o,t){const l={},i=c(o,["taskType"]);t!==void 0&&i!=null&&p(t,["instances[]","task_type"],i);const s=c(o,["title"]);t!==void 0&&s!=null&&p(t,["instances[]","title"],s);const u=c(o,["outputDimensionality"]);t!==void 0&&u!=null&&p(t,["parameters","outputDimensionality"],u);const d=c(o,["mimeType"]);t!==void 0&&d!=null&&p(t,["instances[]","mimeType"],d);const g=c(o,["autoTruncate"]);return t!==void 0&&g!=null&&p(t,["parameters","autoTruncate"],g),l}function kT(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["contents"]);if(s!=null){let g=$u(o,s);Array.isArray(g)&&(g=g.map(y=>y)),p(l,["requests[]","content"],g)}const u=c(t,["config"]);u!=null&&MT(u,l);const d=c(t,["model"]);return d!==void 0&&p(l,["requests[]","model"],Ne(o,d)),l}function IT(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["contents"]);if(s!=null){let d=$u(o,s);Array.isArray(d)&&(d=d.map(g=>g)),p(l,["instances[]","content"],d)}const u=c(t,["config"]);return u!=null&&RT(u,l),l}function DT(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["embeddings"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),p(t,["embeddings"],u)}const s=c(o,["metadata"]);return s!=null&&p(t,["metadata"],s),t}function LT(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["predictions[]","embeddings"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>pT(d))),p(t,["embeddings"],u)}const s=c(o,["metadata"]);return s!=null&&p(t,["metadata"],s),t}function UT(o){const t={},l=c(o,["endpoint"]);l!=null&&p(t,["name"],l);const i=c(o,["deployedModelId"]);return i!=null&&p(t,["deployedModelId"],i),t}function PT(o){const t={};if(c(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(o,["fileUri"]);l!=null&&p(t,["fileUri"],l);const i=c(o,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}function GT(o){const t={};if(c(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=c(o,["description"]);l!=null&&p(t,["description"],l);const i=c(o,["name"]);i!=null&&p(t,["name"],i);const s=c(o,["parameters"]);s!=null&&p(t,["parameters"],s);const u=c(o,["parametersJsonSchema"]);u!=null&&p(t,["parametersJsonSchema"],u);const d=c(o,["response"]);d!=null&&p(t,["response"],d);const g=c(o,["responseJsonSchema"]);return g!=null&&p(t,["responseJsonSchema"],g),t}function zT(o,t,l){const i={},s=c(t,["systemInstruction"]);l!==void 0&&s!=null&&p(l,["systemInstruction"],Ja(ct(s)));const u=c(t,["temperature"]);u!=null&&p(i,["temperature"],u);const d=c(t,["topP"]);d!=null&&p(i,["topP"],d);const g=c(t,["topK"]);g!=null&&p(i,["topK"],g);const y=c(t,["candidateCount"]);y!=null&&p(i,["candidateCount"],y);const m=c(t,["maxOutputTokens"]);m!=null&&p(i,["maxOutputTokens"],m);const v=c(t,["stopSequences"]);v!=null&&p(i,["stopSequences"],v);const x=c(t,["responseLogprobs"]);x!=null&&p(i,["responseLogprobs"],x);const E=c(t,["logprobs"]);E!=null&&p(i,["logprobs"],E);const C=c(t,["presencePenalty"]);C!=null&&p(i,["presencePenalty"],C);const A=c(t,["frequencyPenalty"]);A!=null&&p(i,["frequencyPenalty"],A);const _=c(t,["seed"]);_!=null&&p(i,["seed"],_);const w=c(t,["responseMimeType"]);w!=null&&p(i,["responseMimeType"],w);const k=c(t,["responseSchema"]);k!=null&&p(i,["responseSchema"],Xu(k));const H=c(t,["responseJsonSchema"]);if(H!=null&&p(i,["responseJsonSchema"],H),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=c(t,["safetySettings"]);if(l!==void 0&&M!=null){let ie=M;Array.isArray(ie)&&(ie=ie.map(re=>_E(re))),p(l,["safetySettings"],ie)}const O=c(t,["tools"]);if(l!==void 0&&O!=null){let ie=mi(O);Array.isArray(ie)&&(ie=ie.map(re=>IE(pi(re)))),p(l,["tools"],ie)}const j=c(t,["toolConfig"]);if(l!==void 0&&j!=null&&p(l,["toolConfig"],j),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=c(t,["cachedContent"]);l!==void 0&&z!=null&&p(l,["cachedContent"],xn(o,z));const X=c(t,["responseModalities"]);X!=null&&p(i,["responseModalities"],X);const L=c(t,["mediaResolution"]);L!=null&&p(i,["mediaResolution"],L);const P=c(t,["speechConfig"]);if(P!=null&&p(i,["speechConfig"],Qu(P)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=c(t,["thinkingConfig"]);B!=null&&p(i,["thinkingConfig"],B);const ee=c(t,["imageConfig"]);return ee!=null&&p(i,["imageConfig"],ee),i}function qT(o,t,l){const i={},s=c(t,["systemInstruction"]);l!==void 0&&s!=null&&p(l,["systemInstruction"],ct(s));const u=c(t,["temperature"]);u!=null&&p(i,["temperature"],u);const d=c(t,["topP"]);d!=null&&p(i,["topP"],d);const g=c(t,["topK"]);g!=null&&p(i,["topK"],g);const y=c(t,["candidateCount"]);y!=null&&p(i,["candidateCount"],y);const m=c(t,["maxOutputTokens"]);m!=null&&p(i,["maxOutputTokens"],m);const v=c(t,["stopSequences"]);v!=null&&p(i,["stopSequences"],v);const x=c(t,["responseLogprobs"]);x!=null&&p(i,["responseLogprobs"],x);const E=c(t,["logprobs"]);E!=null&&p(i,["logprobs"],E);const C=c(t,["presencePenalty"]);C!=null&&p(i,["presencePenalty"],C);const A=c(t,["frequencyPenalty"]);A!=null&&p(i,["frequencyPenalty"],A);const _=c(t,["seed"]);_!=null&&p(i,["seed"],_);const w=c(t,["responseMimeType"]);w!=null&&p(i,["responseMimeType"],w);const k=c(t,["responseSchema"]);k!=null&&p(i,["responseSchema"],Xu(k));const H=c(t,["responseJsonSchema"]);H!=null&&p(i,["responseJsonSchema"],H);const M=c(t,["routingConfig"]);M!=null&&p(i,["routingConfig"],M);const O=c(t,["modelSelectionConfig"]);O!=null&&p(i,["modelConfig"],O);const j=c(t,["safetySettings"]);if(l!==void 0&&j!=null){let D=j;Array.isArray(D)&&(D=D.map(Z=>Z)),p(l,["safetySettings"],D)}const z=c(t,["tools"]);if(l!==void 0&&z!=null){let D=mi(z);Array.isArray(D)&&(D=D.map(Z=>Sg(pi(Z)))),p(l,["tools"],D)}const X=c(t,["toolConfig"]);l!==void 0&&X!=null&&p(l,["toolConfig"],X);const L=c(t,["labels"]);l!==void 0&&L!=null&&p(l,["labels"],L);const P=c(t,["cachedContent"]);l!==void 0&&P!=null&&p(l,["cachedContent"],xn(o,P));const B=c(t,["responseModalities"]);B!=null&&p(i,["responseModalities"],B);const ee=c(t,["mediaResolution"]);ee!=null&&p(i,["mediaResolution"],ee);const ie=c(t,["speechConfig"]);ie!=null&&p(i,["speechConfig"],Cg(Qu(ie)));const re=c(t,["audioTimestamp"]);re!=null&&p(i,["audioTimestamp"],re);const be=c(t,["thinkingConfig"]);be!=null&&p(i,["thinkingConfig"],be);const te=c(t,["imageConfig"]);return te!=null&&p(i,["imageConfig"],te),i}function wh(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["contents"]);if(s!=null){let d=Ot(s);Array.isArray(d)&&(d=d.map(g=>Ja(g))),p(l,["contents"],d)}const u=c(t,["config"]);return u!=null&&p(l,["generationConfig"],zT(o,u,l)),l}function Mh(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["contents"]);if(s!=null){let d=Ot(s);Array.isArray(d)&&(d=d.map(g=>g)),p(l,["contents"],d)}const u=c(t,["config"]);return u!=null&&p(l,["generationConfig"],qT(o,u,l)),l}function Rh(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["candidates"]);if(i!=null){let y=i;Array.isArray(y)&&(y=y.map(m=>uT(m))),p(t,["candidates"],y)}const s=c(o,["modelVersion"]);s!=null&&p(t,["modelVersion"],s);const u=c(o,["promptFeedback"]);u!=null&&p(t,["promptFeedback"],u);const d=c(o,["responseId"]);d!=null&&p(t,["responseId"],d);const g=c(o,["usageMetadata"]);return g!=null&&p(t,["usageMetadata"],g),t}function kh(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(v=>v)),p(t,["candidates"],m)}const s=c(o,["createTime"]);s!=null&&p(t,["createTime"],s);const u=c(o,["modelVersion"]);u!=null&&p(t,["modelVersion"],u);const d=c(o,["promptFeedback"]);d!=null&&p(t,["promptFeedback"],d);const g=c(o,["responseId"]);g!=null&&p(t,["responseId"],g);const y=c(o,["usageMetadata"]);return y!=null&&p(t,["usageMetadata"],y),t}function HT(o,t){const l={};if(c(o,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(o,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=c(o,["numberOfImages"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const s=c(o,["aspectRatio"]);t!==void 0&&s!=null&&p(t,["parameters","aspectRatio"],s);const u=c(o,["guidanceScale"]);if(t!==void 0&&u!=null&&p(t,["parameters","guidanceScale"],u),c(o,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(o,["safetyFilterLevel"]);t!==void 0&&d!=null&&p(t,["parameters","safetySetting"],d);const g=c(o,["personGeneration"]);t!==void 0&&g!=null&&p(t,["parameters","personGeneration"],g);const y=c(o,["includeSafetyAttributes"]);t!==void 0&&y!=null&&p(t,["parameters","includeSafetyAttributes"],y);const m=c(o,["includeRaiReason"]);t!==void 0&&m!=null&&p(t,["parameters","includeRaiReason"],m);const v=c(o,["language"]);t!==void 0&&v!=null&&p(t,["parameters","language"],v);const x=c(o,["outputMimeType"]);t!==void 0&&x!=null&&p(t,["parameters","outputOptions","mimeType"],x);const E=c(o,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&p(t,["parameters","outputOptions","compressionQuality"],E),c(o,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(o,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=c(o,["imageSize"]);if(t!==void 0&&C!=null&&p(t,["parameters","sampleImageSize"],C),c(o,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function VT(o,t){const l={},i=c(o,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const s=c(o,["negativePrompt"]);t!==void 0&&s!=null&&p(t,["parameters","negativePrompt"],s);const u=c(o,["numberOfImages"]);t!==void 0&&u!=null&&p(t,["parameters","sampleCount"],u);const d=c(o,["aspectRatio"]);t!==void 0&&d!=null&&p(t,["parameters","aspectRatio"],d);const g=c(o,["guidanceScale"]);t!==void 0&&g!=null&&p(t,["parameters","guidanceScale"],g);const y=c(o,["seed"]);t!==void 0&&y!=null&&p(t,["parameters","seed"],y);const m=c(o,["safetyFilterLevel"]);t!==void 0&&m!=null&&p(t,["parameters","safetySetting"],m);const v=c(o,["personGeneration"]);t!==void 0&&v!=null&&p(t,["parameters","personGeneration"],v);const x=c(o,["includeSafetyAttributes"]);t!==void 0&&x!=null&&p(t,["parameters","includeSafetyAttributes"],x);const E=c(o,["includeRaiReason"]);t!==void 0&&E!=null&&p(t,["parameters","includeRaiReason"],E);const C=c(o,["language"]);t!==void 0&&C!=null&&p(t,["parameters","language"],C);const A=c(o,["outputMimeType"]);t!==void 0&&A!=null&&p(t,["parameters","outputOptions","mimeType"],A);const _=c(o,["outputCompressionQuality"]);t!==void 0&&_!=null&&p(t,["parameters","outputOptions","compressionQuality"],_);const w=c(o,["addWatermark"]);t!==void 0&&w!=null&&p(t,["parameters","addWatermark"],w);const k=c(o,["labels"]);t!==void 0&&k!=null&&p(t,["labels"],k);const H=c(o,["imageSize"]);t!==void 0&&H!=null&&p(t,["parameters","sampleImageSize"],H);const M=c(o,["enhancePrompt"]);return t!==void 0&&M!=null&&p(t,["parameters","enhancePrompt"],M),l}function BT(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["prompt"]);s!=null&&p(l,["instances[0]","prompt"],s);const u=c(t,["config"]);return u!=null&&HT(u,l),l}function OT(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["prompt"]);s!=null&&p(l,["instances[0]","prompt"],s);const u=c(t,["config"]);return u!=null&&VT(u,l),l}function FT(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["predictions"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>nE(d))),p(t,["generatedImages"],u)}const s=c(o,["positivePromptSafetyAttributes"]);return s!=null&&p(t,["positivePromptSafetyAttributes"],Tg(s)),t}function JT(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["predictions"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>Ya(d))),p(t,["generatedImages"],u)}const s=c(o,["positivePromptSafetyAttributes"]);return s!=null&&p(t,["positivePromptSafetyAttributes"],Eg(s)),t}function YT(o,t){const l={},i=c(o,["numberOfVideos"]);if(t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i),c(o,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(o,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=c(o,["durationSeconds"]);if(t!==void 0&&s!=null&&p(t,["parameters","durationSeconds"],s),c(o,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(o,["aspectRatio"]);t!==void 0&&u!=null&&p(t,["parameters","aspectRatio"],u);const d=c(o,["resolution"]);t!==void 0&&d!=null&&p(t,["parameters","resolution"],d);const g=c(o,["personGeneration"]);if(t!==void 0&&g!=null&&p(t,["parameters","personGeneration"],g),c(o,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(o,["negativePrompt"]);t!==void 0&&y!=null&&p(t,["parameters","negativePrompt"],y);const m=c(o,["enhancePrompt"]);if(t!==void 0&&m!=null&&p(t,["parameters","enhancePrompt"],m),c(o,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(o,["lastFrame"]);t!==void 0&&v!=null&&p(t,["instances[0]","lastFrame"],ja(v));const x=c(o,["referenceImages"]);if(t!==void 0&&x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>JE(C))),p(t,["instances[0]","referenceImages"],E)}if(c(o,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(o,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function jT(o,t){const l={},i=c(o,["numberOfVideos"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const s=c(o,["outputGcsUri"]);t!==void 0&&s!=null&&p(t,["parameters","storageUri"],s);const u=c(o,["fps"]);t!==void 0&&u!=null&&p(t,["parameters","fps"],u);const d=c(o,["durationSeconds"]);t!==void 0&&d!=null&&p(t,["parameters","durationSeconds"],d);const g=c(o,["seed"]);t!==void 0&&g!=null&&p(t,["parameters","seed"],g);const y=c(o,["aspectRatio"]);t!==void 0&&y!=null&&p(t,["parameters","aspectRatio"],y);const m=c(o,["resolution"]);t!==void 0&&m!=null&&p(t,["parameters","resolution"],m);const v=c(o,["personGeneration"]);t!==void 0&&v!=null&&p(t,["parameters","personGeneration"],v);const x=c(o,["pubsubTopic"]);t!==void 0&&x!=null&&p(t,["parameters","pubsubTopic"],x);const E=c(o,["negativePrompt"]);t!==void 0&&E!=null&&p(t,["parameters","negativePrompt"],E);const C=c(o,["enhancePrompt"]);t!==void 0&&C!=null&&p(t,["parameters","enhancePrompt"],C);const A=c(o,["generateAudio"]);t!==void 0&&A!=null&&p(t,["parameters","generateAudio"],A);const _=c(o,["lastFrame"]);t!==void 0&&_!=null&&p(t,["instances[0]","lastFrame"],jt(_));const w=c(o,["referenceImages"]);if(t!==void 0&&w!=null){let M=w;Array.isArray(M)&&(M=M.map(O=>YE(O))),p(t,["instances[0]","referenceImages"],M)}const k=c(o,["mask"]);t!==void 0&&k!=null&&p(t,["instances[0]","mask"],FE(k));const H=c(o,["compressionQuality"]);return t!==void 0&&H!=null&&p(t,["parameters","compressionQuality"],H),l}function KT(o){const t={},l=c(o,["name"]);l!=null&&p(t,["name"],l);const i=c(o,["metadata"]);i!=null&&p(t,["metadata"],i);const s=c(o,["done"]);s!=null&&p(t,["done"],s);const u=c(o,["error"]);u!=null&&p(t,["error"],u);const d=c(o,["response","generateVideoResponse"]);return d!=null&&p(t,["response"],ZT(d)),t}function $T(o){const t={},l=c(o,["name"]);l!=null&&p(t,["name"],l);const i=c(o,["metadata"]);i!=null&&p(t,["metadata"],i);const s=c(o,["done"]);s!=null&&p(t,["done"],s);const u=c(o,["error"]);u!=null&&p(t,["error"],u);const d=c(o,["response"]);return d!=null&&p(t,["response"],WT(d)),t}function XT(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["prompt"]);s!=null&&p(l,["instances[0]","prompt"],s);const u=c(t,["image"]);u!=null&&p(l,["instances[0]","image"],ja(u));const d=c(t,["video"]);d!=null&&p(l,["instances[0]","video"],Ag(d));const g=c(t,["source"]);g!=null&&eE(g,l);const y=c(t,["config"]);return y!=null&&YT(y,l),l}function QT(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["prompt"]);s!=null&&p(l,["instances[0]","prompt"],s);const u=c(t,["image"]);u!=null&&p(l,["instances[0]","image"],jt(u));const d=c(t,["video"]);d!=null&&p(l,["instances[0]","video"],_g(d));const g=c(t,["source"]);g!=null&&tE(g,l);const y=c(t,["config"]);return y!=null&&jT(y,l),l}function ZT(o){const t={},l=c(o,["generatedSamples"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>iE(d))),p(t,["generatedVideos"],u)}const i=c(o,["raiMediaFilteredCount"]);i!=null&&p(t,["raiMediaFilteredCount"],i);const s=c(o,["raiMediaFilteredReasons"]);return s!=null&&p(t,["raiMediaFilteredReasons"],s),t}function WT(o){const t={},l=c(o,["videos"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>lE(d))),p(t,["generatedVideos"],u)}const i=c(o,["raiMediaFilteredCount"]);i!=null&&p(t,["raiMediaFilteredCount"],i);const s=c(o,["raiMediaFilteredReasons"]);return s!=null&&p(t,["raiMediaFilteredReasons"],s),t}function eE(o,t){const l={},i=c(o,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const s=c(o,["image"]);t!==void 0&&s!=null&&p(t,["instances[0]","image"],ja(s));const u=c(o,["video"]);return t!==void 0&&u!=null&&p(t,["instances[0]","video"],Ag(u)),l}function tE(o,t){const l={},i=c(o,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const s=c(o,["image"]);t!==void 0&&s!=null&&p(t,["instances[0]","image"],jt(s));const u=c(o,["video"]);return t!==void 0&&u!=null&&p(t,["instances[0]","video"],_g(u)),l}function nE(o){const t={},l=c(o,["_self"]);l!=null&&p(t,["image"],dE(l));const i=c(o,["raiFilteredReason"]);i!=null&&p(t,["raiFilteredReason"],i);const s=c(o,["_self"]);return s!=null&&p(t,["safetyAttributes"],Tg(s)),t}function Ya(o){const t={},l=c(o,["_self"]);l!=null&&p(t,["image"],xg(l));const i=c(o,["raiFilteredReason"]);i!=null&&p(t,["raiFilteredReason"],i);const s=c(o,["_self"]);s!=null&&p(t,["safetyAttributes"],Eg(s));const u=c(o,["prompt"]);return u!=null&&p(t,["enhancedPrompt"],u),t}function oE(o){const t={},l=c(o,["_self"]);l!=null&&p(t,["mask"],xg(l));const i=c(o,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u)),p(t,["labels"],s)}return t}function iE(o){const t={},l=c(o,["video"]);return l!=null&&p(t,["video"],BE(l)),t}function lE(o){const t={},l=c(o,["_self"]);return l!=null&&p(t,["video"],OE(l)),t}function aE(o){const t={},l=c(o,["modelSelectionConfig"]);l!=null&&p(t,["modelConfig"],l);const i=c(o,["audioTimestamp"]);i!=null&&p(t,["audioTimestamp"],i);const s=c(o,["candidateCount"]);s!=null&&p(t,["candidateCount"],s);const u=c(o,["enableAffectiveDialog"]);u!=null&&p(t,["enableAffectiveDialog"],u);const d=c(o,["frequencyPenalty"]);d!=null&&p(t,["frequencyPenalty"],d);const g=c(o,["logprobs"]);g!=null&&p(t,["logprobs"],g);const y=c(o,["maxOutputTokens"]);y!=null&&p(t,["maxOutputTokens"],y);const m=c(o,["mediaResolution"]);m!=null&&p(t,["mediaResolution"],m);const v=c(o,["presencePenalty"]);v!=null&&p(t,["presencePenalty"],v);const x=c(o,["responseJsonSchema"]);x!=null&&p(t,["responseJsonSchema"],x);const E=c(o,["responseLogprobs"]);E!=null&&p(t,["responseLogprobs"],E);const C=c(o,["responseMimeType"]);C!=null&&p(t,["responseMimeType"],C);const A=c(o,["responseModalities"]);A!=null&&p(t,["responseModalities"],A);const _=c(o,["responseSchema"]);_!=null&&p(t,["responseSchema"],_);const w=c(o,["routingConfig"]);w!=null&&p(t,["routingConfig"],w);const k=c(o,["seed"]);k!=null&&p(t,["seed"],k);const H=c(o,["speechConfig"]);H!=null&&p(t,["speechConfig"],Cg(H));const M=c(o,["stopSequences"]);M!=null&&p(t,["stopSequences"],M);const O=c(o,["temperature"]);O!=null&&p(t,["temperature"],O);const j=c(o,["thinkingConfig"]);j!=null&&p(t,["thinkingConfig"],j);const z=c(o,["topK"]);z!=null&&p(t,["topK"],z);const X=c(o,["topP"]);if(X!=null&&p(t,["topP"],X),c(o,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function rE(o,t){const l={},i=c(t,["model"]);return i!=null&&p(l,["_url","name"],Ne(o,i)),l}function sE(o,t){const l={},i=c(t,["model"]);return i!=null&&p(l,["_url","name"],Ne(o,i)),l}function uE(o){const t={};if(c(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=c(o,["enableWidget"]);return l!=null&&p(t,["enableWidget"],l),t}function cE(o){const t={},l=c(o,["timeRangeFilter"]);if(l!=null&&p(t,["timeRangeFilter"],l),c(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function dE(o){const t={},l=c(o,["bytesBase64Encoded"]);l!=null&&p(t,["imageBytes"],Kn(l));const i=c(o,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}function xg(o){const t={},l=c(o,["gcsUri"]);l!=null&&p(t,["gcsUri"],l);const i=c(o,["bytesBase64Encoded"]);i!=null&&p(t,["imageBytes"],Kn(i));const s=c(o,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function ja(o){const t={};if(c(o,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=c(o,["imageBytes"]);l!=null&&p(t,["bytesBase64Encoded"],Kn(l));const i=c(o,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}function jt(o){const t={},l=c(o,["gcsUri"]);l!=null&&p(t,["gcsUri"],l);const i=c(o,["imageBytes"]);i!=null&&p(t,["bytesBase64Encoded"],Kn(i));const s=c(o,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function fE(o,t,l){const i={},s=c(t,["pageSize"]);l!==void 0&&s!=null&&p(l,["_query","pageSize"],s);const u=c(t,["pageToken"]);l!==void 0&&u!=null&&p(l,["_query","pageToken"],u);const d=c(t,["filter"]);l!==void 0&&d!=null&&p(l,["_query","filter"],d);const g=c(t,["queryBase"]);return l!==void 0&&g!=null&&p(l,["_url","models_url"],fg(o,g)),i}function pE(o,t,l){const i={},s=c(t,["pageSize"]);l!==void 0&&s!=null&&p(l,["_query","pageSize"],s);const u=c(t,["pageToken"]);l!==void 0&&u!=null&&p(l,["_query","pageToken"],u);const d=c(t,["filter"]);l!==void 0&&d!=null&&p(l,["_query","filter"],d);const g=c(t,["queryBase"]);return l!==void 0&&g!=null&&p(l,["_url","models_url"],fg(o,g)),i}function mE(o,t){const l={},i=c(t,["config"]);return i!=null&&fE(o,i,l),l}function hE(o,t){const l={},i=c(t,["config"]);return i!=null&&pE(o,i,l),l}function gE(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["nextPageToken"]);i!=null&&p(t,["nextPageToken"],i);const s=c(o,["_self"]);if(s!=null){let u=pg(s);Array.isArray(u)&&(u=u.map(d=>Gu(d))),p(t,["models"],u)}return t}function yE(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["nextPageToken"]);i!=null&&p(t,["nextPageToken"],i);const s=c(o,["_self"]);if(s!=null){let u=pg(s);Array.isArray(u)&&(u=u.map(d=>zu(d))),p(t,["models"],u)}return t}function vE(o){const t={},l=c(o,["maskMode"]);l!=null&&p(t,["maskMode"],l);const i=c(o,["segmentationClasses"]);i!=null&&p(t,["maskClasses"],i);const s=c(o,["maskDilation"]);return s!=null&&p(t,["dilation"],s),t}function Gu(o){const t={},l=c(o,["name"]);l!=null&&p(t,["name"],l);const i=c(o,["displayName"]);i!=null&&p(t,["displayName"],i);const s=c(o,["description"]);s!=null&&p(t,["description"],s);const u=c(o,["version"]);u!=null&&p(t,["version"],u);const d=c(o,["_self"]);d!=null&&p(t,["tunedModelInfo"],DE(d));const g=c(o,["inputTokenLimit"]);g!=null&&p(t,["inputTokenLimit"],g);const y=c(o,["outputTokenLimit"]);y!=null&&p(t,["outputTokenLimit"],y);const m=c(o,["supportedGenerationMethods"]);return m!=null&&p(t,["supportedActions"],m),t}function zu(o){const t={},l=c(o,["name"]);l!=null&&p(t,["name"],l);const i=c(o,["displayName"]);i!=null&&p(t,["displayName"],i);const s=c(o,["description"]);s!=null&&p(t,["description"],s);const u=c(o,["versionId"]);u!=null&&p(t,["version"],u);const d=c(o,["deployedModels"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(E=>UT(E))),p(t,["endpoints"],x)}const g=c(o,["labels"]);g!=null&&p(t,["labels"],g);const y=c(o,["_self"]);y!=null&&p(t,["tunedModelInfo"],LE(y));const m=c(o,["defaultCheckpointId"]);m!=null&&p(t,["defaultCheckpointId"],m);const v=c(o,["checkpoints"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(E=>E)),p(t,["checkpoints"],x)}return t}function bE(o){const t={},l=c(o,["videoMetadata"]);l!=null&&p(t,["videoMetadata"],l);const i=c(o,["thought"]);i!=null&&p(t,["thought"],i);const s=c(o,["inlineData"]);s!=null&&p(t,["inlineData"],sT(s));const u=c(o,["fileData"]);u!=null&&p(t,["fileData"],PT(u));const d=c(o,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const g=c(o,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=c(o,["codeExecutionResult"]);y!=null&&p(t,["codeExecutionResult"],y);const m=c(o,["executableCode"]);m!=null&&p(t,["executableCode"],m);const v=c(o,["functionResponse"]);v!=null&&p(t,["functionResponse"],v);const x=c(o,["text"]);return x!=null&&p(t,["text"],x),t}function xE(o){const t={},l=c(o,["productImage"]);return l!=null&&p(t,["image"],jt(l)),t}function TE(o,t){const l={},i=c(o,["numberOfImages"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const s=c(o,["baseSteps"]);t!==void 0&&s!=null&&p(t,["parameters","editConfig","baseSteps"],s);const u=c(o,["outputGcsUri"]);t!==void 0&&u!=null&&p(t,["parameters","storageUri"],u);const d=c(o,["seed"]);t!==void 0&&d!=null&&p(t,["parameters","seed"],d);const g=c(o,["safetyFilterLevel"]);t!==void 0&&g!=null&&p(t,["parameters","safetySetting"],g);const y=c(o,["personGeneration"]);t!==void 0&&y!=null&&p(t,["parameters","personGeneration"],y);const m=c(o,["addWatermark"]);t!==void 0&&m!=null&&p(t,["parameters","addWatermark"],m);const v=c(o,["outputMimeType"]);t!==void 0&&v!=null&&p(t,["parameters","outputOptions","mimeType"],v);const x=c(o,["outputCompressionQuality"]);t!==void 0&&x!=null&&p(t,["parameters","outputOptions","compressionQuality"],x);const E=c(o,["enhancePrompt"]);t!==void 0&&E!=null&&p(t,["parameters","enhancePrompt"],E);const C=c(o,["labels"]);return t!==void 0&&C!=null&&p(t,["labels"],C),l}function EE(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["source"]);s!=null&&SE(s,l);const u=c(t,["config"]);return u!=null&&TE(u,l),l}function CE(o){const t={},l=c(o,["predictions"]);if(l!=null){let i=l;Array.isArray(i)&&(i=i.map(s=>Ya(s))),p(t,["generatedImages"],i)}return t}function SE(o,t){const l={},i=c(o,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const s=c(o,["personImage"]);t!==void 0&&s!=null&&p(t,["instances[0]","personImage","image"],jt(s));const u=c(o,["productImages"]);if(t!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(g=>xE(g))),p(t,["instances[0]","productImages"],d)}return l}function AE(o){const t={},l=c(o,["referenceImage"]);l!=null&&p(t,["referenceImage"],jt(l));const i=c(o,["referenceId"]);i!=null&&p(t,["referenceId"],i);const s=c(o,["referenceType"]);s!=null&&p(t,["referenceType"],s);const u=c(o,["maskImageConfig"]);u!=null&&p(t,["maskImageConfig"],vE(u));const d=c(o,["controlImageConfig"]);d!=null&&p(t,["controlImageConfig"],hT(d));const g=c(o,["styleImageConfig"]);g!=null&&p(t,["styleImageConfig"],g);const y=c(o,["subjectImageConfig"]);return y!=null&&p(t,["subjectImageConfig"],y),t}function Tg(o){const t={},l=c(o,["safetyAttributes","categories"]);l!=null&&p(t,["categories"],l);const i=c(o,["safetyAttributes","scores"]);i!=null&&p(t,["scores"],i);const s=c(o,["contentType"]);return s!=null&&p(t,["contentType"],s),t}function Eg(o){const t={},l=c(o,["safetyAttributes","categories"]);l!=null&&p(t,["categories"],l);const i=c(o,["safetyAttributes","scores"]);i!=null&&p(t,["scores"],i);const s=c(o,["contentType"]);return s!=null&&p(t,["contentType"],s),t}function _E(o){const t={};if(c(o,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(o,["category"]);l!=null&&p(t,["category"],l);const i=c(o,["threshold"]);return i!=null&&p(t,["threshold"],i),t}function NE(o){const t={},l=c(o,["image"]);return l!=null&&p(t,["image"],jt(l)),t}function wE(o,t){const l={},i=c(o,["mode"]);t!==void 0&&i!=null&&p(t,["parameters","mode"],i);const s=c(o,["maxPredictions"]);t!==void 0&&s!=null&&p(t,["parameters","maxPredictions"],s);const u=c(o,["confidenceThreshold"]);t!==void 0&&u!=null&&p(t,["parameters","confidenceThreshold"],u);const d=c(o,["maskDilation"]);t!==void 0&&d!=null&&p(t,["parameters","maskDilation"],d);const g=c(o,["binaryColorThreshold"]);t!==void 0&&g!=null&&p(t,["parameters","binaryColorThreshold"],g);const y=c(o,["labels"]);return t!==void 0&&y!=null&&p(t,["labels"],y),l}function ME(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["source"]);s!=null&&kE(s,l);const u=c(t,["config"]);return u!=null&&wE(u,l),l}function RE(o){const t={},l=c(o,["predictions"]);if(l!=null){let i=l;Array.isArray(i)&&(i=i.map(s=>oE(s))),p(t,["generatedMasks"],i)}return t}function kE(o,t){const l={},i=c(o,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const s=c(o,["image"]);t!==void 0&&s!=null&&p(t,["instances[0]","image"],jt(s));const u=c(o,["scribbleImage"]);return t!==void 0&&u!=null&&p(t,["instances[0]","scribble"],NE(u)),l}function Cg(o){const t={},l=c(o,["voiceConfig"]);if(l!=null&&p(t,["voiceConfig"],l),c(o,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=c(o,["languageCode"]);return i!=null&&p(t,["languageCode"],i),t}function IE(o){const t={},l=c(o,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>v)),p(t,["functionDeclarations"],m)}if(c(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(o,["googleSearch"]);i!=null&&p(t,["googleSearch"],cE(i));const s=c(o,["googleSearchRetrieval"]);if(s!=null&&p(t,["googleSearchRetrieval"],s),c(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(o,["googleMaps"]);u!=null&&p(t,["googleMaps"],uE(u));const d=c(o,["urlContext"]);d!=null&&p(t,["urlContext"],d);const g=c(o,["computerUse"]);g!=null&&p(t,["computerUse"],g);const y=c(o,["codeExecution"]);return y!=null&&p(t,["codeExecution"],y),t}function Sg(o){const t={},l=c(o,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(E=>GT(E))),p(t,["functionDeclarations"],x)}const i=c(o,["retrieval"]);i!=null&&p(t,["retrieval"],i);const s=c(o,["googleSearch"]);s!=null&&p(t,["googleSearch"],s);const u=c(o,["googleSearchRetrieval"]);u!=null&&p(t,["googleSearchRetrieval"],u);const d=c(o,["enterpriseWebSearch"]);d!=null&&p(t,["enterpriseWebSearch"],d);const g=c(o,["googleMaps"]);g!=null&&p(t,["googleMaps"],g);const y=c(o,["urlContext"]);y!=null&&p(t,["urlContext"],y);const m=c(o,["computerUse"]);m!=null&&p(t,["computerUse"],m);const v=c(o,["codeExecution"]);return v!=null&&p(t,["codeExecution"],v),t}function DE(o){const t={},l=c(o,["baseModel"]);l!=null&&p(t,["baseModel"],l);const i=c(o,["createTime"]);i!=null&&p(t,["createTime"],i);const s=c(o,["updateTime"]);return s!=null&&p(t,["updateTime"],s),t}function LE(o){const t={},l=c(o,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&p(t,["baseModel"],l);const i=c(o,["createTime"]);i!=null&&p(t,["createTime"],i);const s=c(o,["updateTime"]);return s!=null&&p(t,["updateTime"],s),t}function UE(o,t){const l={},i=c(o,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const s=c(o,["description"]);t!==void 0&&s!=null&&p(t,["description"],s);const u=c(o,["defaultCheckpointId"]);return t!==void 0&&u!=null&&p(t,["defaultCheckpointId"],u),l}function PE(o,t){const l={},i=c(o,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const s=c(o,["description"]);t!==void 0&&s!=null&&p(t,["description"],s);const u=c(o,["defaultCheckpointId"]);return t!==void 0&&u!=null&&p(t,["defaultCheckpointId"],u),l}function GE(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","name"],Ne(o,i));const s=c(t,["config"]);return s!=null&&UE(s,l),l}function zE(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["config"]);return s!=null&&PE(s,l),l}function qE(o,t){const l={},i=c(o,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const s=c(o,["includeRaiReason"]);t!==void 0&&s!=null&&p(t,["parameters","includeRaiReason"],s);const u=c(o,["outputMimeType"]);t!==void 0&&u!=null&&p(t,["parameters","outputOptions","mimeType"],u);const d=c(o,["outputCompressionQuality"]);t!==void 0&&d!=null&&p(t,["parameters","outputOptions","compressionQuality"],d);const g=c(o,["enhanceInputImage"]);t!==void 0&&g!=null&&p(t,["parameters","upscaleConfig","enhanceInputImage"],g);const y=c(o,["imagePreservationFactor"]);t!==void 0&&y!=null&&p(t,["parameters","upscaleConfig","imagePreservationFactor"],y);const m=c(o,["labels"]);t!==void 0&&m!=null&&p(t,["labels"],m);const v=c(o,["numberOfImages"]);t!==void 0&&v!=null&&p(t,["parameters","sampleCount"],v);const x=c(o,["mode"]);return t!==void 0&&x!=null&&p(t,["parameters","mode"],x),l}function HE(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["_url","model"],Ne(o,i));const s=c(t,["image"]);s!=null&&p(l,["instances[0]","image"],jt(s));const u=c(t,["upscaleFactor"]);u!=null&&p(l,["parameters","upscaleConfig","upscaleFactor"],u);const d=c(t,["config"]);return d!=null&&qE(d,l),l}function VE(o){const t={},l=c(o,["sdkHttpResponse"]);l!=null&&p(t,["sdkHttpResponse"],l);const i=c(o,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Ya(u))),p(t,["generatedImages"],s)}return t}function BE(o){const t={},l=c(o,["uri"]);l!=null&&p(t,["uri"],l);const i=c(o,["encodedVideo"]);i!=null&&p(t,["videoBytes"],Kn(i));const s=c(o,["encoding"]);return s!=null&&p(t,["mimeType"],s),t}function OE(o){const t={},l=c(o,["gcsUri"]);l!=null&&p(t,["uri"],l);const i=c(o,["bytesBase64Encoded"]);i!=null&&p(t,["videoBytes"],Kn(i));const s=c(o,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function FE(o){const t={},l=c(o,["image"]);l!=null&&p(t,["_self"],jt(l));const i=c(o,["maskMode"]);return i!=null&&p(t,["maskMode"],i),t}function JE(o){const t={},l=c(o,["image"]);l!=null&&p(t,["image"],ja(l));const i=c(o,["referenceType"]);return i!=null&&p(t,["referenceType"],i),t}function YE(o){const t={},l=c(o,["image"]);l!=null&&p(t,["image"],jt(l));const i=c(o,["referenceType"]);return i!=null&&p(t,["referenceType"],i),t}function Ag(o){const t={},l=c(o,["uri"]);l!=null&&p(t,["uri"],l);const i=c(o,["videoBytes"]);i!=null&&p(t,["encodedVideo"],Kn(i));const s=c(o,["mimeType"]);return s!=null&&p(t,["encoding"],s),t}function _g(o){const t={},l=c(o,["uri"]);l!=null&&p(t,["gcsUri"],l);const i=c(o,["videoBytes"]);i!=null&&p(t,["bytesBase64Encoded"],Kn(i));const s=c(o,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jE="Content-Type",KE="X-Server-Timeout",$E="User-Agent",qu="x-goog-api-client",XE="1.27.0",QE=`google-genai-sdk/${XE}`,ZE="v1beta1",WE="v1beta",Ih=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class eC{constructor(t){var l,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:ZE,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:WE,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,i){const s=[this.getRequestUrlInternal(l)];return i&&s.push(this.getBaseResourcePath()),t!==""&&s.push(t),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),s=this.constructUrl(t.path,l,i);if(t.queryParams)for(const[d,g]of Object.entries(t.queryParams))s.searchParams.append(d,String(g));let u={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=t.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,l,s.toString(),t.abortSignal),this.unaryApiCall(s,u,t.httpMethod)}patchHttpOptions(t,l){const i=JSON.parse(JSON.stringify(t));for(const[s,u]of Object.entries(l))typeof u=="object"?i[s]=Object.assign(Object.assign({},i[s]),u):u!==void 0&&(i[s]=u);return i}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),s=this.constructUrl(t.path,l,i);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let u={};return u.body=t.body,u=await this.includeExtraHttpOptionsToRequestInit(u,l,s.toString(),t.abortSignal),this.streamApiCall(s,u,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,i,s){if(l&&l.timeout||s){const u=new AbortController,d=u.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>u.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}s&&s.addEventListener("abort",()=>{u.abort()}),t.signal=d}return l&&l.extraBody!==null&&tC(t,l.extraBody),t.headers=await this.getHeadersInternal(l,i),t}async unaryApiCall(t,l,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:i})).then(async s=>(await Dh(s),new Lu(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(t,l,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:i})).then(async s=>(await Dh(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(t){var l;return si(this,arguments,function*(){const s=(l=t==null?void 0:t.body)===null||l===void 0?void 0:l.getReader(),u=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let d="";for(;;){const{done:g,value:y}=yield qe(s.read());if(g){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=u.decode(y,{stream:!0});try{const x=JSON.parse(m);if("error"in x){const E=JSON.parse(JSON.stringify(x.error)),C=E.status,A=E.code,_=`got status: ${C}. ${JSON.stringify(x)}`;if(A>=400&&A<600)throw new Fa({message:_,status:A})}}catch(x){if(x.name==="ApiError")throw x}d+=m;let v=d.match(Ih);for(;v;){const x=v[1];try{const E=new Response(x,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield qe(new Lu(E)),d=d.slice(v[0].length),v=d.match(Ih)}catch(E){throw new Error(`exception parsing stream chunk ${x}. ${E}`)}}}}finally{s.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},l=QE+" "+this.clientOptions.userAgentExtra;return t[$E]=l,t[qu]=l,t[jE]="application/json",t}async getHeadersInternal(t,l){const i=new Headers;if(t&&t.headers){for(const[s,u]of Object.entries(t.headers))i.append(s,u);t.timeout&&t.timeout>0&&i.append(KE,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,l),i}async uploadFile(t,l){var i;const s={};l!=null&&(s.mimeType=l.mimeType,s.name=l.name,s.displayName=l.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const u=this.clientOptions.uploader,d=await u.stat(t);s.sizeBytes=String(d.size);const g=(i=l==null?void 0:l.mimeType)!==null&&i!==void 0?i:d.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=g;const y=await this.fetchUploadUrl(s,l);return u.upload(t,y,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l){var i;let s={};l!=null&&l.httpOptions?s=l.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const u={file:t},d=await this.request({path:se("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:s});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(i=d==null?void 0:d.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Dh(o){var t;if(o===void 0)throw new Error("response is undefined");if(!o.ok){const l=o.status;let i;!((t=o.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await o.json():i={error:{message:await o.text(),code:o.status,status:o.statusText}};const s=JSON.stringify(i);throw l>=400&&l<600?new Fa({message:s,status:l}):new Error(s)}}function tC(o,t){if(!t||Object.keys(t).length===0)return;if(o.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof o.body=="string"&&o.body.length>0)try{const u=JSON.parse(o.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))l=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(u,d){const g=Object.assign({},u);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const m=d[y],v=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=i(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const s=i(l,t);o.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nC="mcp_used/unknown";let oC=!1;function Ng(o){for(const t of o)if(iC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return oC}function wg(o){var t;const l=(t=o[qu])!==null&&t!==void 0?t:"";o[qu]=(l+` ${nC}`).trimStart()}function iC(o){return o!==null&&typeof o=="object"&&o instanceof Wu}function lC(o,t=100){return si(this,arguments,function*(){let i,s=0;for(;s<t;){const u=yield qe(o.listTools({cursor:i}));for(const d of u.tools)yield yield qe(d),s++;if(!u.nextCursor)break;i=u.nextCursor}})}class Wu{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Wu(t,l)}async initialize(){var t,l,i,s;if(this.mcpTools.length>0)return;const u={},d=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,ml(lC(v))),m;m=await y.next(),t=m.done,!t;g=!0){s=m.value,g=!1;const x=s;d.push(x);const E=x.name;if(u[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);u[E]=v}}catch(x){l={error:x}}finally{try{!g&&!t&&(i=y.return)&&await i.call(y)}finally{if(l)throw l.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),cb(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[i.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await s.callTool({name:i.name,arguments:i.args},void 0,u);l.push({functionResponse:{name:i.name,response:d.isError?{error:d}:d}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function aC(o,t,l){const i=new nb;let s;l.data instanceof Blob?s=JSON.parse(await l.data.text()):s=JSON.parse(l.data),Object.assign(i,s),t(i)}class rC{constructor(t,l,i){this.apiClient=t,this.auth=l,this.webSocketFactory=i}async connect(t){var l,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=cC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${s}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const v=new Promise(M=>{m=M}),x=t.callbacks,E=function(){m({})},C=this.apiClient,A={onopen:E,onmessage:M=>{aC(C,x.onmessage,M)},onerror:(l=x==null?void 0:x.onerror)!==null&&l!==void 0?l:function(M){},onclose:(i=x==null?void 0:x.onclose)!==null&&i!==void 0?i:function(M){}},_=this.webSocketFactory.create(y,uC(d),A);_.connect(),await v;const H={setup:{model:Ne(this.apiClient,t.model)}};return _.send(JSON.stringify(H)),new sC(_,this.apiClient)}}class sC{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=Wx(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=Zx(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(ai.PLAY)}pause(){this.sendPlaybackControl(ai.PAUSE)}stop(){this.sendPlaybackControl(ai.STOP)}resetContext(){this.sendPlaybackControl(ai.RESET_CONTEXT)}close(){this.conn.close()}}function uC(o){const t={};return o.forEach((l,i)=>{t[i]=l}),t}function cC(o){const t=new Headers;for(const[l,i]of Object.entries(o))t.append(l,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function fC(o,t,l){const i=new tb;let s;l.data instanceof Blob?s=await l.data.text():l.data instanceof ArrayBuffer?s=new TextDecoder().decode(l.data):s=l.data;const u=JSON.parse(s);if(o.isVertexAI()){const d=nT(u);Object.assign(i,d)}else Object.assign(i,u);t(i)}class pC{constructor(t,l,i){this.apiClient=t,this.auth=l,this.webSocketFactory=i,this.music=new rC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,i,s,u,d,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const x=this.apiClient.getHeaders();t.config&&t.config.tools&&Ng(t.config.tools)&&wg(x);const E=yC(x);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const P=this.apiClient.getApiKey();let B="BidiGenerateContent",ee="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",ee="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${B}?${ee}=${P}`}let C=()=>{};const A=new Promise(P=>{C=P}),_=t.callbacks,w=function(){var P;(P=_==null?void 0:_.onopen)===null||P===void 0||P.call(_),C({})},k=this.apiClient,H={onopen:w,onmessage:P=>{fC(k,_.onmessage,P)},onerror:(l=_==null?void 0:_.onerror)!==null&&l!==void 0?l:function(P){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(P){}},M=this.webSocketFactory.create(v,gC(E),H);M.connect(),await A;let O=Ne(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const P=this.apiClient.getProject(),B=this.apiClient.getLocation();O=`projects/${P}/locations/${B}/`+O}let j={};this.apiClient.isVertexAI()&&((s=t.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ha.AUDIO]}:t.config.responseModalities=[Ha.AUDIO]),!((u=t.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const z=(g=(d=t.config)===null||d===void 0?void 0:d.tools)!==null&&g!==void 0?g:[],X=[];for(const P of z)if(this.isCallableTool(P)){const B=P;X.push(await B.tool())}else X.push(P);X.length>0&&(t.config.tools=X);const L={model:O,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?j=Qx(this.apiClient,L):j=Xx(this.apiClient,L),delete j.config,M.send(JSON.stringify(j)),new hC(M,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const mC={turnComplete:!0};class hC{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let i=[];try{i=Ot(l.turns),t.isVertexAI()||(i=i.map(s=>Ja(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:i,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let i=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?i=l.functionResponses:i=[l.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const u of i){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!t.isVertexAI()&&!("id"in u))throw new Error(dC)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},mC),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:tT(t)}:l={realtimeInput:eT(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function gC(o){const t={};return o.forEach((l,i)=>{t[i]=l}),t}function yC(o){const t=new Headers;for(const[l,i]of Object.entries(o))t.append(l,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lh=10;function Uh(o){var t,l,i;if(!((t=o==null?void 0:o.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let s=!1;for(const d of(l=o==null?void 0:o.tools)!==null&&l!==void 0?l:[])if(ui(d)){s=!0;break}if(!s)return!0;const u=(i=o==null?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function ui(o){return"callTool"in o&&typeof o.callTool=="function"}function vC(o){var t,l,i;return(i=(l=(t=o.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(s=>ui(s)))!==null&&i!==void 0?i:!1}function bC(o){var t,l,i;return(i=(l=(t=o.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(s=>!ui(s)))!==null&&i!==void 0?i:!1}function Ph(o){var t;return!(!((t=o==null?void 0:o.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xC extends xo{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var i,s,u,d,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!vC(l)||Uh(l.config))return await this.generateContentInternal(y);if(bC(l))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,v;const x=Ot(y.contents),E=(u=(s=(i=y.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&u!==void 0?u:Lh;let C=0;for(;C<E&&(m=await this.generateContentInternal(y),!(!m.functionCalls||m.functionCalls.length===0));){const A=m.candidates[0].content,_=[];for(const w of(g=(d=l.config)===null||d===void 0?void 0:d.tools)!==null&&g!==void 0?g:[])if(ui(w)){const H=await w.callTool(m.functionCalls);_.push(...H)}C++,v={role:"user",parts:_},y.contents=Ot(y.contents),y.contents.push(A),y.contents.push(v),Ph(y.config)&&(x.push(A),x.push(v))}return Ph(y.config)&&(m.automaticFunctionCallingHistory=x),m},this.generateContentStream=async l=>{if(this.maybeMoveToResponseJsonSchem(l),Uh(l.config)){const i=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(i=>{var s;let u;const d=[];if(i!=null&&i.generatedImages)for(const y of i.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((s=y==null?void 0:y.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:d.push(y);let g;return u?g={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:i.sdkHttpResponse}:g={generatedImages:d,sdkHttpResponse:i.sdkHttpResponse},g}),this.list=async l=>{var i;const d={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((i=d.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new yl(vo.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(d),d)},this.editImage=async l=>{const i={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(i.referenceImages=l.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async l=>{let i={numberOfImages:1,mode:"upscale"};l.config&&(i=Object.assign(Object.assign({},i),l.config));const s={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:i};return await this.upscaleImageInternal(s)},this.generateVideos=async l=>{var i,s,u,d,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=l.video)===null||i===void 0)&&i.uri&&(!((s=l.video)===null||s===void 0)&&s.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((d=(u=l.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,i,s;const u=(l=t.config)===null||l===void 0?void 0:l.tools;if(!u)return t;const d=await Promise.all(u.map(async y=>ui(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:d})};if(g.config.tools=d,t.config&&t.config.tools&&Ng(t.config.tools)){const y=(s=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&s!==void 0?s:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),wg(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var l,i,s;const u=new Map;for(const d of(i=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&i!==void 0?i:[])if(ui(d)){const g=d,y=await g.tool();for(const m of(s=y.functionDeclarations)!==null&&s!==void 0?s:[]){if(!m.name)throw new Error("Function declaration name is required.");if(u.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);u.set(m.name,g)}}return u}async processAfcStream(t){var l,i,s;const u=(s=(i=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:Lh;let d=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(m,v,x){var E,C;return si(this,arguments,function*(){for(var A,_,w,k;g<u;){d&&(g++,d=!1);const j=yield qe(m.processParamsMaybeAddMcpUsage(x)),z=yield qe(m.generateContentStreamInternal(j)),X=[],L=[];try{for(var H=!0,M=(_=void 0,ml(z)),O;O=yield qe(M.next()),A=O.done,!A;H=!0){k=O.value,H=!1;const P=k;if(yield yield qe(P),P.candidates&&(!((E=P.candidates[0])===null||E===void 0)&&E.content)){L.push(P.candidates[0].content);for(const B of(C=P.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(g<u&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(B.functionCall.name)){const ee=yield qe(v.get(B.functionCall.name).callTool([B.functionCall]));X.push(...ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(P){_={error:P}}finally{try{!H&&!A&&(w=M.return)&&(yield qe(w.call(M)))}finally{if(_)throw _.error}}if(X.length>0){d=!0;const P=new cl;P.candidates=[{content:{role:"user",parts:X}}],yield yield qe(P);const B=[];B.push(...L),B.push({role:"user",parts:X});const ee=Ot(x.contents).concat(B);x.contents=ee}else break}})})(this,y,t)}async generateContentInternal(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=Mh(this.apiClient,t);return g=se("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=kh(v),E=new cl;return Object.assign(E,x),E})}else{const m=wh(this.apiClient,t);return g=se("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=Rh(v),E=new cl;return Object.assign(E,x),E})}}async generateContentStreamInternal(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=Mh(this.apiClient,t);return g=se("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),d.then(function(x){return si(this,arguments,function*(){var E,C,A,_;try{for(var w=!0,k=ml(x),H;H=yield qe(k.next()),E=H.done,!E;w=!0){_=H.value,w=!1;const M=_,O=kh(yield qe(M.json()));O.sdkHttpResponse={headers:M.headers};const j=new cl;Object.assign(j,O),yield yield qe(j)}}catch(M){C={error:M}}finally{try{!w&&!E&&(A=k.return)&&(yield qe(A.call(k)))}finally{if(C)throw C.error}}})})}else{const m=wh(this.apiClient,t);return g=se("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(x){return si(this,arguments,function*(){var E,C,A,_;try{for(var w=!0,k=ml(x),H;H=yield qe(k.next()),E=H.done,!E;w=!0){_=H.value,w=!1;const M=_,O=Rh(yield qe(M.json()));O.sdkHttpResponse={headers:M.headers};const j=new cl;Object.assign(j,O),yield yield qe(j)}}catch(M){C={error:M}}finally{try{!w&&!E&&(A=k.return)&&(yield qe(A.call(k)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=IT(this.apiClient,t);return g=se("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=LT(v),E=new fh;return Object.assign(E,x),E})}else{const m=kT(this.apiClient,t);return g=se("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=DT(v),E=new fh;return Object.assign(E,x),E})}}async generateImagesInternal(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=OT(this.apiClient,t);return g=se("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=JT(v),E=new ph;return Object.assign(E,x),E})}else{const m=BT(this.apiClient,t);return g=se("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=FT(v),E=new ph;return Object.assign(E,x),E})}}async editImageInternal(t){var l,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const g=NT(this.apiClient,t);return u=se("{model}:predict",g._url),d=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>{const m=wT(y),v=new j0;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const g=HE(this.apiClient,t);return u=se("{model}:predict",g._url),d=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>{const m=VE(y),v=new K0;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const g=EE(this.apiClient,t);return u=se("{model}:predict",g._url),d=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),s.then(y=>{const m=CE(y),v=new $0;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const g=ME(this.apiClient,t);return u=se("{model}:predict",g._url),d=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),s.then(y=>{const m=RE(y),v=new X0;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=sE(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),d.then(v=>zu(v))}else{const m=rE(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Gu(v))}}async listInternal(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=hE(this.apiClient,t);return g=se("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=yE(v),E=new mh;return Object.assign(E,x),E})}else{const m=mE(this.apiClient,t);return g=se("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=gE(v),E=new mh;return Object.assign(E,x),E})}}async update(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=zE(this.apiClient,t);return g=se("{model}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),d.then(v=>zu(v))}else{const m=GE(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Gu(v))}}async delete(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=CT(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=AT(v),E=new hh;return Object.assign(E,x),E})}else{const m=ET(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=ST(v),E=new hh;return Object.assign(E,x),E})}}async countTokens(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=bT(this.apiClient,t);return g=se("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=TT(v),E=new gh;return Object.assign(E,x),E})}else{const m=vT(this.apiClient,t);return g=se("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=xT(v),E=new gh;return Object.assign(E,x),E})}}async computeTokens(t){var l,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const g=dT(this.apiClient,t);return u=se("{model}:computeTokens",g._url),d=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>{const m=fT(y),v=new Q0;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=QT(this.apiClient,t);return g=se("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),d.then(v=>{const x=$T(v),E=new Va;return Object.assign(E,x),E})}else{const m=XT(this.apiClient,t);return g=se("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>{const x=KT(v),E=new Va;return Object.assign(E,x),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TC extends xo{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,i=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=l.name.split("/operations/")[0];let u;i&&"httpOptions"in i&&(u=i.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:s,config:{httpOptions:u}});return l._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:l.name,config:i});return l._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async get(t){const l=t.operation,i=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=l.name.split("/operations/")[0];let u;i&&"httpOptions"in i&&(u=i.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:s,config:{httpOptions:u}});return l._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:l.name,config:i});return l._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async getVideosOperationInternal(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=F0(t);return g=se("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),d}else{const m=O0(t);return g=se("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(t){var l,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const g=P0(t);return u=se("{resourceName}:fetchPredictOperation",g._url),d=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EC(o){const t={};if(c(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(o,["data"]);l!=null&&p(t,["data"],l);const i=c(o,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}function CC(o){const t={},l=c(o,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(u=>kC(u))),p(t,["parts"],s)}const i=c(o,["role"]);return i!=null&&p(t,["role"],i),t}function SC(o,t,l){const i={},s=c(t,["expireTime"]);l!==void 0&&s!=null&&p(l,["expireTime"],s);const u=c(t,["newSessionExpireTime"]);l!==void 0&&u!=null&&p(l,["newSessionExpireTime"],u);const d=c(t,["uses"]);l!==void 0&&d!=null&&p(l,["uses"],d);const g=c(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&p(l,["bidiGenerateContentSetup"],RC(o,g));const y=c(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&p(l,["fieldMask"],y),i}function AC(o,t){const l={},i=c(t,["config"]);return i!=null&&p(l,["config"],SC(o,i,l)),l}function _C(o){const t={};if(c(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(o,["fileUri"]);l!=null&&p(t,["fileUri"],l);const i=c(o,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}function NC(o){const t={};if(c(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=c(o,["enableWidget"]);return l!=null&&p(t,["enableWidget"],l),t}function wC(o){const t={},l=c(o,["timeRangeFilter"]);if(l!=null&&p(t,["timeRangeFilter"],l),c(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function MC(o,t){const l={},i=c(o,["generationConfig"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig"],i);const s=c(o,["responseModalities"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","responseModalities"],s);const u=c(o,["temperature"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","temperature"],u);const d=c(o,["topP"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","topP"],d);const g=c(o,["topK"]);t!==void 0&&g!=null&&p(t,["setup","generationConfig","topK"],g);const y=c(o,["maxOutputTokens"]);t!==void 0&&y!=null&&p(t,["setup","generationConfig","maxOutputTokens"],y);const m=c(o,["mediaResolution"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","mediaResolution"],m);const v=c(o,["seed"]);t!==void 0&&v!=null&&p(t,["setup","generationConfig","seed"],v);const x=c(o,["speechConfig"]);t!==void 0&&x!=null&&p(t,["setup","generationConfig","speechConfig"],Zu(x));const E=c(o,["thinkingConfig"]);t!==void 0&&E!=null&&p(t,["setup","generationConfig","thinkingConfig"],E);const C=c(o,["enableAffectiveDialog"]);t!==void 0&&C!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],C);const A=c(o,["systemInstruction"]);t!==void 0&&A!=null&&p(t,["setup","systemInstruction"],CC(ct(A)));const _=c(o,["tools"]);if(t!==void 0&&_!=null){let z=mi(_);Array.isArray(z)&&(z=z.map(X=>DC(pi(X)))),p(t,["setup","tools"],z)}const w=c(o,["sessionResumption"]);t!==void 0&&w!=null&&p(t,["setup","sessionResumption"],IC(w));const k=c(o,["inputAudioTranscription"]);t!==void 0&&k!=null&&p(t,["setup","inputAudioTranscription"],k);const H=c(o,["outputAudioTranscription"]);t!==void 0&&H!=null&&p(t,["setup","outputAudioTranscription"],H);const M=c(o,["realtimeInputConfig"]);t!==void 0&&M!=null&&p(t,["setup","realtimeInputConfig"],M);const O=c(o,["contextWindowCompression"]);t!==void 0&&O!=null&&p(t,["setup","contextWindowCompression"],O);const j=c(o,["proactivity"]);return t!==void 0&&j!=null&&p(t,["setup","proactivity"],j),l}function RC(o,t){const l={},i=c(t,["model"]);i!=null&&p(l,["setup","model"],Ne(o,i));const s=c(t,["config"]);return s!=null&&p(l,["config"],MC(s,l)),l}function kC(o){const t={},l=c(o,["videoMetadata"]);l!=null&&p(t,["videoMetadata"],l);const i=c(o,["thought"]);i!=null&&p(t,["thought"],i);const s=c(o,["inlineData"]);s!=null&&p(t,["inlineData"],EC(s));const u=c(o,["fileData"]);u!=null&&p(t,["fileData"],_C(u));const d=c(o,["thoughtSignature"]);d!=null&&p(t,["thoughtSignature"],d);const g=c(o,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=c(o,["codeExecutionResult"]);y!=null&&p(t,["codeExecutionResult"],y);const m=c(o,["executableCode"]);m!=null&&p(t,["executableCode"],m);const v=c(o,["functionResponse"]);v!=null&&p(t,["functionResponse"],v);const x=c(o,["text"]);return x!=null&&p(t,["text"],x),t}function IC(o){const t={},l=c(o,["handle"]);if(l!=null&&p(t,["handle"],l),c(o,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function DC(o){const t={},l=c(o,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>v)),p(t,["functionDeclarations"],m)}if(c(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(o,["googleSearch"]);i!=null&&p(t,["googleSearch"],wC(i));const s=c(o,["googleSearchRetrieval"]);if(s!=null&&p(t,["googleSearchRetrieval"],s),c(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(o,["googleMaps"]);u!=null&&p(t,["googleMaps"],NC(u));const d=c(o,["urlContext"]);d!=null&&p(t,["urlContext"],d);const g=c(o,["computerUse"]);g!=null&&p(t,["computerUse"],g);const y=c(o,["codeExecution"]);return y!=null&&p(t,["codeExecution"],y),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LC(o){const t=[];for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const i=o[l];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const s=Object.keys(i).map(u=>`${l}.${u}`);t.push(...s)}else t.push(l)}return t.join(",")}function UC(o,t){let l=null;const i=o.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const u=i.setup;typeof u=="object"&&u!==null?(o.bidiGenerateContentSetup=u,l=u):delete o.bidiGenerateContentSetup}else i!==void 0&&delete o.bidiGenerateContentSetup;const s=o.fieldMask;if(l){const u=LC(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)u?o.fieldMask=u:delete o.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];s.length>0&&(g=s.map(m=>d.includes(m)?`generationConfig.${m}`:m));const y=[];u&&y.push(u),g.length>0&&y.push(...g),y.length>0?o.fieldMask=y.join(","):delete o.fieldMask}else delete o.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?o.fieldMask=s.join(","):delete o.fieldMask;return o}class PC extends xo{constructor(t){super(),this.apiClient=t}async create(t){var l,i;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=AC(this.apiClient,t);u=se("auth_tokens",g._url),d=g._query,delete g.config,delete g._url,delete g._query;const y=UC(g,t.config);return s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GC(o,t){const l={},i=c(o,["name"]);return i!=null&&p(l,["_url","name"],i),l}function zC(o,t){const l={},i=c(o,["name"]);return i!=null&&p(l,["_url","name"],i),l}function qC(o,t,l){const i={};if(c(o,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=c(o,["tunedModelDisplayName"]);if(t!==void 0&&s!=null&&p(t,["displayName"],s),c(o,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(o,["epochCount"]);t!==void 0&&u!=null&&p(t,["tuningTask","hyperparameters","epochCount"],u);const d=c(o,["learningRateMultiplier"]);if(d!=null&&p(i,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(o,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(o,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(o,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=c(o,["batchSize"]);t!==void 0&&g!=null&&p(t,["tuningTask","hyperparameters","batchSize"],g);const y=c(o,["learningRate"]);if(t!==void 0&&y!=null&&p(t,["tuningTask","hyperparameters","learningRate"],y),c(o,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return i}function HC(o,t,l){const i={},s=c(o,["validationDataset"]);t!==void 0&&s!=null&&p(t,["supervisedTuningSpec"],tS(s));const u=c(o,["tunedModelDisplayName"]);t!==void 0&&u!=null&&p(t,["tunedModelDisplayName"],u);const d=c(o,["description"]);t!==void 0&&d!=null&&p(t,["description"],d);const g=c(o,["epochCount"]);t!==void 0&&g!=null&&p(t,["supervisedTuningSpec","hyperParameters","epochCount"],g);const y=c(o,["learningRateMultiplier"]);t!==void 0&&y!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const m=c(o,["exportLastCheckpointOnly"]);t!==void 0&&m!=null&&p(t,["supervisedTuningSpec","exportLastCheckpointOnly"],m);const v=c(o,["adapterSize"]);if(t!==void 0&&v!=null&&p(t,["supervisedTuningSpec","hyperParameters","adapterSize"],v),c(o,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(o,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=c(o,["labels"]);return t!==void 0&&x!=null&&p(t,["labels"],x),i}function VC(o,t){const l={},i=c(o,["baseModel"]);i!=null&&p(l,["baseModel"],i);const s=c(o,["preTunedModel"]);s!=null&&p(l,["preTunedModel"],s);const u=c(o,["trainingDataset"]);u!=null&&p(l,["tuningTask","trainingData"],ZC(u));const d=c(o,["config"]);return d!=null&&qC(d,l),l}function BC(o,t){const l={},i=c(o,["baseModel"]);i!=null&&p(l,["baseModel"],i);const s=c(o,["preTunedModel"]);s!=null&&p(l,["preTunedModel"],s);const u=c(o,["trainingDataset"]);u!=null&&WC(u,l);const d=c(o,["config"]);return d!=null&&HC(d,l),l}function OC(o,t){const l={},i=c(o,["name"]);return i!=null&&p(l,["_url","name"],i),l}function FC(o,t){const l={},i=c(o,["name"]);return i!=null&&p(l,["_url","name"],i),l}function JC(o,t,l){const i={},s=c(o,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const u=c(o,["pageToken"]);t!==void 0&&u!=null&&p(t,["_query","pageToken"],u);const d=c(o,["filter"]);return t!==void 0&&d!=null&&p(t,["_query","filter"],d),i}function YC(o,t,l){const i={},s=c(o,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const u=c(o,["pageToken"]);t!==void 0&&u!=null&&p(t,["_query","pageToken"],u);const d=c(o,["filter"]);return t!==void 0&&d!=null&&p(t,["_query","filter"],d),i}function jC(o,t){const l={},i=c(o,["config"]);return i!=null&&JC(i,l),l}function KC(o,t){const l={},i=c(o,["config"]);return i!=null&&YC(i,l),l}function $C(o,t){const l={},i=c(o,["sdkHttpResponse"]);i!=null&&p(l,["sdkHttpResponse"],i);const s=c(o,["nextPageToken"]);s!=null&&p(l,["nextPageToken"],s);const u=c(o,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(g=>Mg(g))),p(l,["tuningJobs"],d)}return l}function XC(o,t){const l={},i=c(o,["sdkHttpResponse"]);i!=null&&p(l,["sdkHttpResponse"],i);const s=c(o,["nextPageToken"]);s!=null&&p(l,["nextPageToken"],s);const u=c(o,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(g=>Hu(g))),p(l,["tuningJobs"],d)}return l}function QC(o,t){const l={},i=c(o,["name"]);i!=null&&p(l,["model"],i);const s=c(o,["name"]);return s!=null&&p(l,["endpoint"],s),l}function ZC(o,t){const l={};if(c(o,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(o,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=c(o,["examples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u)),p(l,["examples","examples"],s)}return l}function WC(o,t,l){const i={},s=c(o,["gcsUri"]);t!==void 0&&s!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],s);const u=c(o,["vertexDatasetResource"]);if(t!==void 0&&u!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],u),c(o,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Mg(o,t){const l={},i=c(o,["sdkHttpResponse"]);i!=null&&p(l,["sdkHttpResponse"],i);const s=c(o,["name"]);s!=null&&p(l,["name"],s);const u=c(o,["state"]);u!=null&&p(l,["state"],cg(u));const d=c(o,["createTime"]);d!=null&&p(l,["createTime"],d);const g=c(o,["tuningTask","startTime"]);g!=null&&p(l,["startTime"],g);const y=c(o,["tuningTask","completeTime"]);y!=null&&p(l,["endTime"],y);const m=c(o,["updateTime"]);m!=null&&p(l,["updateTime"],m);const v=c(o,["description"]);v!=null&&p(l,["description"],v);const x=c(o,["baseModel"]);x!=null&&p(l,["baseModel"],x);const E=c(o,["_self"]);return E!=null&&p(l,["tunedModel"],QC(E)),l}function Hu(o,t){const l={},i=c(o,["sdkHttpResponse"]);i!=null&&p(l,["sdkHttpResponse"],i);const s=c(o,["name"]);s!=null&&p(l,["name"],s);const u=c(o,["state"]);u!=null&&p(l,["state"],cg(u));const d=c(o,["createTime"]);d!=null&&p(l,["createTime"],d);const g=c(o,["startTime"]);g!=null&&p(l,["startTime"],g);const y=c(o,["endTime"]);y!=null&&p(l,["endTime"],y);const m=c(o,["updateTime"]);m!=null&&p(l,["updateTime"],m);const v=c(o,["error"]);v!=null&&p(l,["error"],v);const x=c(o,["description"]);x!=null&&p(l,["description"],x);const E=c(o,["baseModel"]);E!=null&&p(l,["baseModel"],E);const C=c(o,["tunedModel"]);C!=null&&p(l,["tunedModel"],C);const A=c(o,["preTunedModel"]);A!=null&&p(l,["preTunedModel"],A);const _=c(o,["supervisedTuningSpec"]);_!=null&&p(l,["supervisedTuningSpec"],_);const w=c(o,["tuningDataStats"]);w!=null&&p(l,["tuningDataStats"],w);const k=c(o,["encryptionSpec"]);k!=null&&p(l,["encryptionSpec"],k);const H=c(o,["partnerModelTuningSpec"]);H!=null&&p(l,["partnerModelTuningSpec"],H);const M=c(o,["customBaseModel"]);M!=null&&p(l,["customBaseModel"],M);const O=c(o,["experiment"]);O!=null&&p(l,["experiment"],O);const j=c(o,["labels"]);j!=null&&p(l,["labels"],j);const z=c(o,["outputUri"]);z!=null&&p(l,["outputUri"],z);const X=c(o,["pipelineJob"]);X!=null&&p(l,["pipelineJob"],X);const L=c(o,["serviceAccount"]);L!=null&&p(l,["serviceAccount"],L);const P=c(o,["tunedModelDisplayName"]);P!=null&&p(l,["tunedModelDisplayName"],P);const B=c(o,["veoTuningSpec"]);return B!=null&&p(l,["veoTuningSpec"],B),l}function eS(o,t){const l={},i=c(o,["sdkHttpResponse"]);i!=null&&p(l,["sdkHttpResponse"],i);const s=c(o,["name"]);s!=null&&p(l,["name"],s);const u=c(o,["metadata"]);u!=null&&p(l,["metadata"],u);const d=c(o,["done"]);d!=null&&p(l,["done"],d);const g=c(o,["error"]);return g!=null&&p(l,["error"],g),l}function tS(o,t){const l={},i=c(o,["gcsUri"]);i!=null&&p(l,["validationDatasetUri"],i);const s=c(o,["vertexDatasetResource"]);return s!=null&&p(l,["validationDatasetUri"],s),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nS extends xo{constructor(t){super(),this.apiClient=t,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new yl(vo.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(l),l),this.tune=async l=>{var i;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const s={tunedModelName:l.baseModel};!((i=l.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(s.checkpointId=l.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},l),{preTunedModel:s});return u.baseModel=void 0,await this.tuneInternal(u)}else{const s=Object.assign({},l);return await this.tuneInternal(s)}else{const s=Object.assign({},l),u=await this.tuneMldevInternal(s);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:Du.JOB_STATE_QUEUED}}}}async getInternal(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=FC(t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>Hu(v))}else{const m=OC(t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>Mg(v))}}async listInternal(t){var l,i,s,u;let d,g="",y={};if(this.apiClient.isVertexAI()){const m=KC(t);return g=se("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=XC(v),E=new yh;return Object.assign(E,x),E})}else{const m=jC(t);return g=se("tunedModels",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const x=$C(v),E=new yh;return Object.assign(E,x),E})}}async cancel(t){var l,i,s,u;let d="",g={};if(this.apiClient.isVertexAI()){const y=zC(t);d=se("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const y=GC(t);d=se("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(t){var l,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const g=BC(t);return u=se("tuningJobs",g._url),d=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>Hu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,i;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=VC(t);return u=se("tunedModels",g._url),d=g._query,delete g._url,delete g._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>eS(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oS{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const iS=1024*1024*8,lS=3,aS=1e3,rS=2,xu="x-goog-upload-status";async function sS(o,t,l){var i,s,u;let d=0,g=0,y=new Lu(new Response),m="upload";for(d=o.size;g<d;){const x=Math.min(iS,d-g),E=o.slice(g,g+x);g+x>=d&&(m+=", finalize");let C=0,A=aS;for(;C<lS&&(y=await l.request({path:"",body:E,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(g),"Content-Length":String(x)}}}),!(!((i=y==null?void 0:y.headers)===null||i===void 0)&&i[xu]));)C++,await cS(A),A=A*rS;if(g+=x,((s=y==null?void 0:y.headers)===null||s===void 0?void 0:s[xu])!=="active")break;if(d<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((u=y==null?void 0:y.headers)===null||u===void 0?void 0:u[xu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function uS(o){return{size:o.size,type:o.type}}function cS(o){return new Promise(t=>setTimeout(t,o))}class dS{async upload(t,l,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await sS(t,l,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await uS(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fS{create(t,l,i){return new pS(t,l,i)}}class pS{constructor(t,l,i){this.url=t,this.headers=l,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gh="x-goog-api-key";class mS{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(Gh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Gh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hS="gl-node/";class gS{constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const i=L0(t.httpOptions,t.vertexai,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion;const s=new mS(this.apiKey);this.apiClient=new eC({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:hS+"web",uploader:new dS,downloader:new oS}),this.models=new xC(this.apiClient),this.live=new pC(this.apiClient,s,new fS),this.batches=new Wb(this.apiClient),this.chats=new kx(this.models,this.apiClient),this.caches=new wx(this.apiClient),this.files=new Vx(this.apiClient),this.operations=new TC(this.apiClient),this.authTokens=new PC(this.apiClient),this.tunings=new nS(this.apiClient)}}const Tu=new Map,ec=o=>{if(!o)throw new Error("Errore del Client Google: la chiave API non è fornita.");if(Tu.has(o))return Tu.get(o);const t=new gS({apiKey:o});return Tu.set(o,t),t},fi={google:{models:["gemini-1.5-flash"]},openrouter:{baseURL:"https://openrouter.ai/api/v1"},groq:{baseURL:"https://api.groq.com/openai/v1"},together:{baseURL:"https://api.together.xyz/v1"},perplexity:{baseURL:"https://api.perplexity.ai"},cohere:{baseURL:"https://api.cohere.com/v1"}},yS=async(o,t)=>{try{const l=await fetch(`${o}/models`,{headers:{Authorization:`Bearer ${t}`}});if(!l.ok)return console.error(`Impossibile recuperare i modelli da ${o}:`,l.statusText),[];const i=await l.json(),s=i.data||i;return Array.isArray(s)?s.map(u=>u.id).filter(u=>!u.includes("embed")).sort():[]}catch(l){return console.error(`Errore nel recuperare i modelli da ${o}:`,l),[]}},vS=async(o,t)=>{if(!t)return[];if(o==="google")return fi.google.models;if(o==="cohere")return["command-r","command-r-plus","command-light"];const l=fi[o];return l!=null&&l.baseURL?yS(l.baseURL,t):[]},tc=(o,t)=>{switch(t){case"google":return o.googleApiKey;case"openrouter":return o.openRouterApiKey;case"groq":return o.groqApiKey;case"together":return o.togetherApiKey;case"perplexity":return o.perplexityApiKey;case"cohere":return o.cohereApiKey;default:return""}},Rg=async(o,t,l,i)=>{const s=await fetch(`${t.baseURL}/chat/completions`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json","HTTP-Referer":window.location.href,"X-Title":"UPZ0.3"},body:JSON.stringify(i)});if(!s.ok){const d=await s.text();throw new Error(`Errore API ${o}: ${s.status} ${s.statusText} - ${d}`)}const u=await s.json();if(!u.choices||u.choices.length===0||!u.choices[0].message)throw new Error(`Risposta API ${o} non valida: ${JSON.stringify(u)}`);return{text:u.choices[0].message.content}},It=async o=>{const{provider:t,settings:l,model:i,prompt:s,jsonMode:u=!1,systemInstruction:d,responseSchema:g}=o,y=tc(l,t);if(!y)throw new Error(`La chiave API per il provider ${t} non è impostata.`);if(t==="google"){const v=ec(y),x={};if(u)if(x.responseMimeType="application/json",g)x.responseSchema=g;else throw new Error("Il provider Google richiede uno 'responseSchema' valido quando 'jsonMode' è abilitato.");return d&&(x.systemInstruction=d),{text:(await v.models.generateContent({model:i,contents:s,config:Object.keys(x).length>0?x:void 0})).text}}if(t==="cohere"){const v={model:i,message:s,preamble:d},x=await fetch(`${fi.cohere.baseURL}/chat`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"},body:JSON.stringify(v)});if(!x.ok){const C=await x.text();throw new Error(`Errore API Cohere: ${x.status} ${x.statusText} - ${C}`)}return{text:(await x.json()).text}}const m=fi[t];if(m){const v=[];d&&v.push({role:"system",content:d}),v.push({role:"user",content:s});const x={model:i,messages:v};return u&&t!=="perplexity"&&(x.response_format={type:"json_object"}),Rg(t,m,y,x)}throw new Error(`Provider non supportato: ${t}`)},bS=async o=>{const{provider:t,settings:l,model:i,textPart:s,dataPart:u}=o;if(t!=="google")throw new Error("Le richieste multimodali sono attualmente supportate solo per il provider Google.");const d=tc(l,t);if(!d)throw new Error(`La chiave API per il provider ${t} non è impostata.`);const g=ec(d),y={inlineData:{mimeType:u.mimeType,data:u.data}};return{text:(await g.models.generateContent({model:i,contents:{parts:[{text:s},y]}})).text}},kg=async o=>{const{provider:t,settings:l,model:i,messages:s,systemInstruction:u}=o,d=tc(l,t);if(!d)throw new Error(`La chiave API per il provider ${t} non è impostata.`);if(t==="google"){const y=ec(d);if(s.length===0)return{text:(await y.models.generateContent({model:i,contents:"Ciao, architetto.",config:u?{systemInstruction:u}:void 0})).text};const m=s.slice(0,-1).map(C=>({role:C.role==="model"?"model":"user",parts:[{text:C.content}]})),v=s[s.length-1].content;return{text:(await y.chats.create({model:i,history:m,config:u?{systemInstruction:u}:void 0}).sendMessage({message:v})).text}}if(t==="cohere"){const y=s.slice(0,-1).map(C=>({role:C.role==="user"?"USER":"CHATBOT",message:C.content})),m=s.length>0?s[s.length-1].content:"Ciao",v={model:i,message:m,chat_history:y.length>0?y:void 0,preamble:u},x=await fetch(`${fi.cohere.baseURL}/chat`,{method:"POST",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},body:JSON.stringify(v)});if(!x.ok){const C=await x.text();throw new Error(`Errore API Cohere: ${x.status} ${x.statusText} - ${C}`)}return{text:(await x.json()).text}}const g=fi[t];if(g){const y=[];return u&&y.push({role:"system",content:u}),s.forEach(v=>{y.push({role:v.role==="model"?"assistant":"user",content:v.content})}),Rg(t,g,d,{model:i,messages:y})}throw new Error(`Provider non supportato per la chat: ${t}`)},Ig=o=>{const t=o.trim(),l=/^```(?:\w*\n)?([\s\S]+)```$/,i=t.match(l);return i&&i[1]?i[1].trim():t},nc=o=>{const t=o.trim(),l=t.startsWith("```json")?t.replace(/```json\n|```/g,""):t;try{return JSON.parse(l)}catch(i){return console.error("Impossibile analizzare JSON dalla risposta AI:",l,i),null}},xS=/#+\s*`?([\w./\s_-]+)`?\s*\n([\s\S]*?)(?=\n(?:#+\s*`?[\w./\s_-]+`?|---|===)|$)/g,Dg=o=>{const t=[];let l;for(;(l=xS.exec(o))!==null;){const i=l[1].trim();let s=l[2].trim();if(!i.includes(".")&&!i.includes("/"))continue;const u=/```(?:[a-zA-Z]+)?\n([\s\S]*?)\n```/,d=s.match(u);let g="";d&&d[1]?g=d[1].trim():g=s.replace(/(?:---|===)\s*$/,"").trim(),i&&g&&(t.some(y=>y.path===i)||t.push({path:i,content:g}))}return t},TS=async o=>{let t="";for(const l of o){const{file:i,decompress:s}=l;if((i.type==="application/zip"||i.name.endsWith(".zip"))&&s){const d=await JSZip.loadAsync(i);for(const g in d.files)if(!(d.files[g].dir||g.split("/").some(y=>y.startsWith("."))))try{const y=await d.files[g].async("string");if(!y.trim())continue;const m=g.split(".").pop()||"";t+=`### \`${g}\`
\`\`\`${m}
${y}
\`\`\`
---
`}catch(y){console.warn(`Impossibile leggere il file ${g} dallo zip come testo, saltato.`,y)}}else{const d=i.webkitRelativePath||i.name;if(i.size===0||d.split("/").some(g=>g.startsWith(".")))continue;try{const g=await i.text(),y=d.split(".").pop()||"";t+=`### \`${d}\`
\`\`\`${y}
${g}
\`\`\`
---
`}catch(g){console.warn(`Impossibile leggere il file ${d} come testo, saltato. Potrebbe essere un file binario.`,g)}}}return t},ES=async o=>{o.type.startsWith("text/")||console.warn(`Il file ${o.name} potrebbe non essere un file di testo, si tenterà comunque di leggerlo.`);try{return await o.text()}catch(t){throw console.error(`Impossibile leggere il file ${o.name} come testo.`,t),new Error("Impossibile leggere il file caricato. Assicurati che sia un file di testo valido (.txt).")}},CS=async o=>{try{const t=await fetch(o);if(!t.ok)throw new Error(`Il server ha risposto con lo stato: ${t.status}`);const l=await t.text(),s=new DOMParser().parseFromString(l,"text/html");return(s.querySelector("main")||s.body).innerText}catch(t){throw console.error("Errore durante il recupero del link di condivisione di Gemini:",t),t instanceof TypeError&&t.message.includes("fetch")?new Error("Impossibile recuperare il contenuto dal link. Questo è probabilmente dovuto a restrizioni di sicurezza del browser (CORS). Prova invece il metodo di caricamento del file."):new Error(`Impossibile elaborare il link. Motivo: ${t instanceof Error?t.message:"Errore sconosciuto"}`)}},SS=async(o,t,l)=>{try{const i=t.content.replace("PROJECT_CONTENT_PLACEHOLDER",l);return(await It({provider:t.provider,settings:o,model:t.model,prompt:i})).text.trim()}catch(i){throw console.error("Errore durante l'espansione dell'idea del progetto AI:",i),i}},AS=async(o,t,l)=>{try{const i=t.content.replace("PROJECT_CONTENT_PLACEHOLDER",l.substring(0,8e3));return(await It({provider:t.provider,settings:o,model:t.model,prompt:i})).text.trim().replace(/["']/g,"")}catch(i){throw console.error("Errore durante il suggerimento del nome del progetto AI:",i),i}},Vu=async(o,t,l)=>{const i=Dg(t);let s="",u=[...i];const d=i.length>0?JSON.stringify(i.map(g=>g.path)):"None";if(l.fileFinder.enabled){const g=await _S(o,l.fileFinder,t,d),y=new Set(u.map(m=>m.path));Array.isArray(g)&&g.forEach(m=>{m&&typeof m.path=="string"&&typeof m.content=="string"&&!y.has(m.path)&&(u.push({path:m.path,content:m.content}),y.add(m.path))})}return l.docExtractor.enabled&&(s=await NS(o,l.docExtractor,t)),{files:u,documentationNotes:s}};async function _S(o,t,l,i){try{const s=t.content.replace("ORIGINAL_CONTENT_PLACEHOLDER",l).replace("PARSED_FILES_PLACEHOLDER",i),u={type:nt.OBJECT,properties:{additionalFiles:{type:nt.ARRAY,items:{type:nt.OBJECT,properties:{path:{type:nt.STRING},content:{type:nt.STRING}},required:["path","content"]}}},required:["additionalFiles"]},d=await It({provider:t.provider,settings:o,model:t.model,prompt:s,jsonMode:!0,systemInstruction:"La tua risposta deve essere un oggetto JSON valido contenente una singola chiave `additionalFiles`, che è un array di oggetti, ciascuno con una stringa `path` e `content`. Non aggiungere altro testo.",responseSchema:u}),g=nc(d.text);return(g==null?void 0:g.additionalFiles)||[]}catch(s){throw console.error("Errore durante la ricerca di file AI:",s),s}}async function NS(o,t,l){try{const i=t.content.replace("ORIGINAL_CONTENT_PLACEHOLDER",l),s={type:nt.OBJECT,properties:{documentationNotes:{type:nt.STRING}},required:["documentationNotes"]},u=await It({provider:t.provider,settings:o,model:t.model,prompt:i,jsonMode:!0,systemInstruction:"La tua risposta deve essere un oggetto JSON valido contenente una singola chiave `documentationNotes`, che è una stringa. Non aggiungere altro testo.",responseSchema:s}),d=nc(u.text);return(d==null?void 0:d.documentationNotes)||""}catch(i){throw console.error("Errore durante l'estrazione della documentazione AI:",i),i}}const Lg=async(o,t,l,i,s)=>{const u=[`**Nome Progetto:**
${l}`,`**Contenuto Originale del Progetto:**
${i.substring(0,8e3)}`,`---
**Note di Documentazione Aggiuntive (Dare priorità a questo):**
${s||"N/A"}`].join(`

`);try{return(await It({provider:t.provider,settings:o,model:t.model,prompt:`${t.content}

Ecco le informazioni da analizzare:
---
${u}`})).text.trim()}catch(d){console.error(`Errore durante la generazione del README con ${t.provider}:`,d);const g=d instanceof Error?d.message:"Si è verificato un errore API sconosciuto.";return`# ${l}

**Attenzione: Impossibile generare automaticamente README.md a causa di un errore.**

**Dettagli Errore:**
\`\`\`
${g}
\`\`\``}},wS=[{it:{title:"Prompt 1: Sintesi Completa",content:`Analizza e condensa in una singola risposta esaustiva tutto ciò che è stato discusso in questa chat. L'obiettivo finale è ottenere un risultato **operativo**: un software funzionante, un sistema documentato o un prodotto concreto, pronto per l'uso o per lo sviluppo. La risposta dovrà:

1. **Integrare e strutturare tutte le informazioni precedentemente trattate nella conversazione**, trasformandole in un unico documento o progetto coerente.

2. Restituire un output che possa concretizzarsi in uno dei seguenti:
   * Un'applicazione o script pronto per l'esecuzione
   * Un progetto software organizzato in cartelle e file
   * Una guida tecnica o documentazione strutturata
   * Una combinazione di codice, documentazione e istruzioni operative

3. Includere:
   * Una panoramica introduttiva del progetto
   * Gli obiettivi chiari e le funzionalità principali
   * Tutti i componenti tecnici necessari (codice, configurazioni, strutture dati, ecc.)
   * Istruzioni passo-passo per l'installazione, l'utilizzo e l’estensione futura
   * Eventuali esempi, test o dati di esempio
   * Una sezione di note o suggerimenti per sviluppi futuri

4. Formattare il tutto come se fosse pronto per essere condiviso, pubblicato o eseguito immediatamente (ad esempio, come repository GitHub o documento PDF/Markdown completo).

Evita ripetizioni, unifica lo stile e struttura la risposta in modo chiaro e professionale, con titoli, sottosezioni e codice ben indentato.`},en:{title:"Prompt 1: Comprehensive Synthesis",content:`Analyze and condense everything discussed in this chat into a single, comprehensive response. The ultimate goal is to obtain an **operational** result: a functioning piece of software, a documented system, or a concrete product, ready for use or development. The response must:

1. **Integrate and structure all information previously discussed in the conversation**, transforming it into a single, coherent document or project.

2. Return an output that can materialize as one of the following:
   * An application or script ready for execution
   * A software project organized into folders and files
   * A technical guide or structured documentation
   * A combination of code, documentation, and operational instructions

3. Include:
   * An introductory overview of the project
   * Clear objectives and main functionalities
   * All necessary technical components (code, configurations, data structures, etc.)
   * Step-by-step instructions for installation, use, and future extension
   * Any examples, tests, or sample data
   * A notes or suggestions section for future developments

4. Format everything as if it were ready to be shared, published, or executed immediately (e.g., as a GitHub repository or a complete PDF/Markdown document).

Avoid repetition, unify the style, and structure the response clearly and professionally, with titles, subsections, and well-indented code.`}},{it:{title:"Prompt 2: Generazione Stile Repo",content:`Genera un progetto completo e coeso basato sull'intero contenuto di questa chat. Il risultato deve essere un unico output esaustivo che includa tutti i componenti necessari come se fosse un repository Git pronto per la pubblicazione. Il progetto deve contenere:

1. Una descrizione chiara e dettagliata nel file \`README.md\`, comprensiva di:
   * Obiettivi del progetto
   * Contesto e finalità
   * Istruzioni per l’installazione, l’uso e l’eventuale distribuzione
   * Tecnologie utilizzate

2. La struttura completa delle cartelle e dei file del progetto, con un layout coerente e facilmente navigabile.

3. Il codice sorgente completo e funzionante, incluso:
   * Tutti gli script o moduli principali
   * Funzioni ben commentate e documentate
   * Eventuali file di configurazione (\`.env.example\`, \`config.json\`, \`settings.py\`, ecc.)

4. Eventuali risorse accessorie:
   * Esempi d’uso (\`examples/\`)
   * Script di test o automazione (\`tests/\`, \`scripts/\`)
   * Dipendenze elencate (\`requirements.txt\`, \`package.json\`, ecc.)

5. Un file \`.gitignore\` coerente con il progetto

6. Licenza del progetto (\`LICENSE\`), preferibilmente una licenza open-source

L’output deve essere completo, dettagliato e pronto per essere copiato/incollato come base per un vero repository su GitHub. Assicurati di non tralasciare nulla e di integrare tutte le informazioni discusse in chat in modo organico.`},en:{title:"Prompt 2: Git Repo-Style Generation",content:`Generate a complete and cohesive project based on the entire content of this chat. The result must be a single, exhaustive output that includes all the necessary components as if it were a Git repository ready for publication. The project must contain:

1. A clear and detailed description in the \`README.md\` file, including:
   * Project objectives
   * Context and purpose
   * Instructions for installation, use, and potential distribution
   * Technologies used

2. The complete folder and file structure of the project, with a coherent and easily navigable layout.

3. The complete and functioning source code, including:
   * All main scripts or modules
   * Well-commented and documented functions
   * Any configuration files (\`.env.example\`, \`config.json\`, \`settings.py\`, etc.)

4. Any accessory resources:
   * Usage examples (\`examples/\`)
   * Test or automation scripts (\`tests/\`, \`scripts/\`)
   * Listed dependencies (\`requirements.txt\`, \`package.json\`, etc.)

5. A \`.gitignore\` file consistent with the project

6. Project license (\`LICENSE\`), preferably an open-source license

The output must be complete, detailed, and ready to be copy/pasted as the basis for a real GitHub repository. Ensure nothing is left out and that all information discussed in the chat is integrated organically.`}},{it:{title:"Prompt 3: Repo Documentazione/Wiki",content:"Genera, dal contenuto della nostra discussione un repository di documentazione strutturato come una wiki di GitHub. L'obiettivo è creare una base di conoscenza completa per un progetto basato su quanto discusso in questa intera chat. L'output deve essere un insieme di file Markdown pronti per essere usati come documentazione.\n\nIl repository deve includere:\n1.  **Pagina Principale (`Home.md`):** Una pagina di benvenuto che introduce il progetto, la sua visione e come navigare la wiki.\n2.  **Guide Introduttive (`getting-started/`):**\n    *   `Installation.md`: Istruzioni dettagliate per l'installazione.\n    *   `Quick-Start.md`: Un tutorial rapido per i nuovi utenti.\n3.  **Guide Approfondite (`deep-dive/`):**\n    *   `Architecture.md`: Una panoramica dell'architettura del software.\n    *   `API-Reference.md`: Documentazione completa delle API con esempi di codice.\n4.  **Guide How-To (`how-to/`):**\n    *   `Deploy-to-Production.md`: Guida pratica per il deployment.\n    *   `Contribute.md`: Linee guida per chi vuole contribuire al progetto.\n5.  **Script di supporto (`scripts/`):**\n    *   Includi uno o due script di esempio (es. `check_health.sh` o `build.py`) menzionati e spiegati nelle guide.\n\nOgni file Markdown deve essere ben formattato, con link interni per navigare tra le pagine della wiki (es. `[Vedi la guida all'installazione](./getting-started/Installation.md)`). La struttura delle cartelle e dei file deve essere chiara e rispecchiare quella di una vera documentazione."},en:{title:"Prompt 3: Documentation Repo/Wiki",content:"Generate, from the content of our discussion, a documentation repository structured like a GitHub wiki. The goal is to create a complete knowledge base for a project based on what was discussed in this entire chat. The output must be a set of Markdown files ready to be used as documentation.\n\nThe repository must include:\n1.  **Main Page (`Home.md`):** A welcome page that introduces the project, its vision, and how to navigate the wiki.\n2.  **Getting Started Guides (`getting-started/`):**\n    *   `Installation.md`: Detailed installation instructions.\n    *   `Quick-Start.md`: A quick tutorial for new users.\n3.  **In-Depth Guides (`deep-dive/`):**\n    *   `Architecture.md`: An overview of the software's architecture.\n    *   `API-Reference.md`: Complete API documentation with code examples.\n4.  **How-To Guides (`how-to/`):**\n    *   `Deploy-to-Production.md`: A practical guide for deployment.\n    *   `Contribute.md`: Guidelines for those who want to contribute to the project.\n5.  **Support Scripts (`scripts/`):**\n    *   Include one or two example scripts (e.g., `check_health.sh` or `build.py`) mentioned and explained in the guides.\n\nEach Markdown file must be well-formatted, with internal links to navigate between wiki pages (e.g., `[See the installation guide](./getting-started/Installation.md)`). The folder and file structure must be clear and reflect that of a real documentation repository."}}],go={architect:{enabled:!0},translator:{enabled:!0},commitMessageGenerator:{enabled:!0}},Eu=[{name:"Personalized",config:{}},{name:"Speedy Draft",config:{...go,projectOverview:{enabled:!1},fileFinder:{enabled:!0,provider:"groq",model:"llama3-8b-8192"},docExtractor:{enabled:!0,provider:"groq",model:"llama3-8b-8192"},readmeGenerator:{enabled:!1},wikiGenerator:{enabled:!1},codeRefactorer:{enabled:!1},codeReviewer:{enabled:!1},testGenerator:{enabled:!1},projectNameSuggester:{enabled:!0,provider:"groq",model:"llama3-8b-8192"},docstringGenerator:{enabled:!1}}},{name:"Code Generation",config:{...go,projectOverview:{enabled:!1},fileFinder:{enabled:!0},docExtractor:{enabled:!1},readmeGenerator:{enabled:!0},wikiGenerator:{enabled:!1},codeRefactorer:{enabled:!0},codeReviewer:{enabled:!1},testGenerator:{enabled:!0},projectNameSuggester:{enabled:!0},docstringGenerator:{enabled:!0}}},{name:"Documentation Pro",config:{...go,projectOverview:{enabled:!1},fileFinder:{enabled:!0},docExtractor:{enabled:!0},readmeGenerator:{enabled:!0},wikiGenerator:{enabled:!0},codeRefactorer:{enabled:!1},codeReviewer:{enabled:!1},testGenerator:{enabled:!1},projectNameSuggester:{enabled:!0},docstringGenerator:{enabled:!0}}},{name:"Test & Document",config:{...go,projectOverview:{enabled:!1},fileFinder:{enabled:!0},docExtractor:{enabled:!0},readmeGenerator:{enabled:!1},wikiGenerator:{enabled:!1},codeRefactorer:{enabled:!1},codeReviewer:{enabled:!1},testGenerator:{enabled:!0},projectNameSuggester:{enabled:!1},docstringGenerator:{enabled:!0}}},{name:"Wiki Generator",config:{...go,projectOverview:{enabled:!1},fileFinder:{enabled:!0},docExtractor:{enabled:!0},readmeGenerator:{enabled:!1},wikiGenerator:{enabled:!0},codeRefactorer:{enabled:!1},codeReviewer:{enabled:!1},testGenerator:{enabled:!1},projectNameSuggester:{enabled:!0},docstringGenerator:{enabled:!1}}},{name:"Code Polisher",config:{...go,projectOverview:{enabled:!1},fileFinder:{enabled:!1},docExtractor:{enabled:!1},readmeGenerator:{enabled:!1},wikiGenerator:{enabled:!1},codeRefactorer:{enabled:!0},codeReviewer:{enabled:!0},testGenerator:{enabled:!1},projectNameSuggester:{enabled:!1},docstringGenerator:{enabled:!0}}},{name:"Full Power",config:{...go,projectOverview:{enabled:!0},fileFinder:{enabled:!0},docExtractor:{enabled:!0},readmeGenerator:{enabled:!0},wikiGenerator:{enabled:!0},codeRefactorer:{enabled:!0},codeReviewer:{enabled:!0},testGenerator:{enabled:!0},projectNameSuggester:{enabled:!0},docstringGenerator:{enabled:!0}}}],Ua=(o,t)=>{const l={provider:(t==null?void 0:t.defaultProvider)||"google",model:(t==null?void 0:t.defaultModel)||"gemini-2.5-flash"};return{projectOverview:{id:"projectOverview",title:o.aiPrompts.projectOverview_title,description:o.aiPrompts.projectOverview_description,enabled:!1,provider:l.provider,model:l.model,content:"You are a master software architect. Your task is to expand the following idea into a complete, well-structured project. The output MUST be a single block of text representing all files. Each file must be clearly delineated by a markdown header like `### path/to/file.js` and its content enclosed in a language-specific code block like ```javascript ... ```. The initial input is just a starting point; you are expected to expand on it significantly to create a functional base project.\n\nInitial Project Idea:\n---\nPROJECT_CONTENT_PLACEHOLDER\n---"},fileFinder:{id:"fileFinder",title:o.aiPrompts.fileFinder_title,description:o.aiPrompts.fileFinder_description,enabled:!0,provider:l.provider,model:l.model,content:'You are an AI assistant completing a file parsing process. You will be given original text and a list of file paths already parsed by a script. Your task is to analyze the original text, find any complete file structures (with a clear path and content) NOT present in the parsed list, and return a single valid JSON object with one key, "additionalFiles", which is an array of file objects. If no new files are found, return an empty array. Do not add any text before or after the JSON object.'},docExtractor:{id:"docExtractor",title:o.aiPrompts.docExtractor_title,description:o.aiPrompts.docExtractor_description,enabled:!0,provider:l.provider,model:l.model,content:`You are an AI assistant that extracts documentation from unstructured text. You will receive the original project text. Your task is to extract important descriptive text, goals, setup instructions, or other relevant information that is NOT part of a specific file's code block. Condense it all into a single, coherent string of notes. Return a single valid JSON object with one key, "documentationNotes". If you find no relevant information, return an empty string. Do not add any text before or after the JSON.`},readmeGenerator:{id:"readmeGenerator",title:o.aiPrompts.readmeGenerator_title,description:o.aiPrompts.readmeGenerator_description,enabled:!0,provider:l.provider,model:l.model,content:`You are an expert open-source technical writer. Analyze the following project information to generate a comprehensive, well-structured README.md file using Markdown.

The README.md MUST include:
- **Project Title**: Use the provided Project Name as the main H1 title.
- **Description**: A short paragraph explaining what the project does.
- **Key Features**: A bulleted list of important features.
- **Tech Stack**: Key technologies used (e.g., React, Gemini API).
- **Setup & Usage**: Step-by-step instructions to set up and run the project.
- **Deployment**: Guidance for deploying to services like Netlify, Vercel, or GitHub Pages, including how to handle environment variables like \`API_KEY\`.
- **Contributing**: A welcoming section for potential contributors.
- **License**: State that the project is under the MIT license.

**CRITICAL INSTRUCTIONS**:
1. Synthesize all information, especially from "Additional Documentation Notes".
2. EXCLUDE full code blocks. Inline commands (e.g., \`npm install\`) are allowed.
3. The entire output MUST be a single, valid Markdown block.`},wikiGenerator:{id:"wikiGenerator",title:o.aiPrompts.wikiGenerator_title,description:o.aiPrompts.wikiGenerator_description,enabled:!1,provider:l.provider,model:l.model,content:"You are an expert technical writer tasked with creating a documentation repository structured like a wiki. The output must be a single block of text representing all files for the wiki. Each file must be clearly delineated by a markdown header like `### path/to/file.md` and its content enclosed in a markdown code block like ```markdown ... ```.\n\nBased on the provided project content, generate the following file structure:\n\n- `Home.md`: A welcome page that introduces the project, its vision, and how to navigate the wiki.\n- `getting-started/Installation.md`: Detailed installation instructions.\n- `getting-started/Quick-Start.md`: A quick tutorial for new users.\n- `deep-dive/Architecture.md`: An overview of the software's architecture.\n- `how-to/Contribute.md`: Guidelines for contributing to the project.\n\nEnsure you include internal links between the markdown files, for example: `[See the installation guide](./getting-started/Installation.md)`.\n\nThe content of these files should be synthesized from the provided project information.\n\nProject Information:\n---\nPROJECT_CONTENT_PLACEHOLDER\n---"},codeRefactorer:{id:"codeRefactorer",title:o.aiPrompts.codeRefactorer_title,description:o.aiPrompts.codeRefactorer_description,enabled:!0,provider:l.provider,model:l.model,content:`You are an expert programmer and AI assistant specializing in code quality. A user has provided code to be refactored. Your tasks are:
1.  **Analyze the Code**: Understand its purpose, logic, and structure.
2.  **Refactor for Improvement**: Apply best practices to improve readability, performance, and clarity. Add concise, helpful comments where the logic is complex.
3.  **Maintain Functionality**: The refactored code must have the exact same functionality and external behavior as the original.
4.  **Return Only Code**: Your output MUST be only the complete, refactored code inside a single code block, with no explanations or extra text before or after.

**Code to Refactor:**
---
CODE_PLACEHOLDER`},codeReviewer:{id:"codeReviewer",title:o.aiPrompts.codeReviewer_title,description:o.aiPrompts.codeReviewer_description,enabled:!0,provider:l.provider,model:l.model,content:`You are an expert senior software engineer performing a code review. Analyze the following code for potential bugs, performance issues, unclear logic, and deviations from best practices. Provide your feedback as a structured Markdown list. For each point, state the issue, explain why it's a problem, and suggest a clear improvement. Do not rewrite the entire file. Your output MUST be only the Markdown feedback.

**Code to Review:**
---
CODE_PLACEHOLDER`},testGenerator:{id:"testGenerator",title:o.aiPrompts.testGenerator_title,description:o.aiPrompts.testGenerator_description,enabled:!0,provider:l.provider,model:l.model,content:"You are an AI assistant specializing in software testing. Based on the provided file content, generate a corresponding test file.\n\n**Source File Path:** `{filePath}`\n**Source File Content:**\n```\n{fileContent}\n```\n\n**Instructions:**\n1.  **Determine Test Framework**: Infer the appropriate testing framework (e.g., Jest for React, PyTest for Python, etc.) based on the file content and language.\n2.  **Create Test Cases**: Write meaningful test cases that cover the core functionality, edge cases, and potential failure points of the source code.\n3.  **Suggest a File Path**: Propose a conventional file path for the test file (e.g., `src/components/MyComponent.test.js`).\n4.  **Format as JSON**: Return a single, valid JSON object with two keys: `path` (the string path for the new test file) and `content` (the complete code for the test file as a string).\n\nYour entire output must be only the JSON object."},projectNameSuggester:{id:"projectNameSuggester",title:o.aiPrompts.projectNameSuggester_title,description:o.aiPrompts.projectNameSuggester_description,enabled:!0,provider:l.provider,model:l.model,content:`You are a creative branding expert. Analyze the following project description and content to suggest a short, catchy, and memorable project name. The name should be suitable for a GitHub repository (e.g., use PascalCase or kebab-case). Return ONLY the name and nothing else.

**Project Content:**
---
PROJECT_CONTENT_PLACEHOLDER
---`},docstringGenerator:{id:"docstringGenerator",title:o.aiPrompts.docstringGenerator_title,description:o.aiPrompts.docstringGenerator_description,enabled:!0,provider:l.provider,model:l.model,content:`You are an AI assistant that writes clean, informative docstrings for code. Analyze the provided code and add docstrings to all functions, classes, and methods according to language conventions (e.g., JSDoc, Python Docstrings). Return the complete code with the added docstrings. Your output MUST be only the complete, updated code inside a single code block, with no extra explanation.

**Original Code:**
---
CODE_PLACEHOLDER
---`},architect:{id:"architect",title:o.aiPrompts.architect_title,description:o.aiPrompts.architect_description,enabled:!0,provider:(t==null?void 0:t.architectProvider)||l.provider,model:(t==null?void 0:t.architectModel)||l.model,content:`You are an expert AI Software Architect. Your task is to help a user define their project requirements through conversation.
1. Start by asking clarifying questions about their initial idea.
2. Guide them through key decisions: tech stack (frontend, backend), database, features, etc.
3. Be concise and helpful. Ask one or two questions at a time.
4. Once you have gathered enough information to build a solid project structure, end your response with the exact sentence: "I have enough information to generate the project. Shall I proceed?". Do not add any text after this sentence.`},translator:{id:"translator",title:o.aiPrompts.translator_title,description:o.aiPrompts.translator_description,enabled:!0,provider:l.provider,model:l.model,content:`Translate the following text to {targetLanguage}. Return only the translated text, without any extra explanations or formatting.

Text to translate:
---
{text}
---`},commitMessageGenerator:{id:"commitMessageGenerator",title:o.aiPrompts.commitMessageGenerator_title,description:o.aiPrompts.commitMessageGenerator_description,enabled:!0,provider:l.provider,model:l.model,content:`You are an expert at writing conventional Git commit messages. Based on the project name and the list of file paths that have been created or modified, generate a concise and descriptive commit message. Return ONLY the message text itself, without any prefixes like "feat:" or quotes.

Project Name: {projectName}
File Paths:
- {filePaths}

Commit Message:`}}},zh={it:{headerSubtitle:"Universal AI Project Zipper",openSettings:"Apri impostazioni",toggleTheme:"Cambia tema",openUserGuide:"Apri guida utente",errorOccurred:"Si è verificato un errore:",tryAgain:"Riprova",unsavedChanges:"Hai delle modifiche non salvate. Vuoi salvarle prima di cambiare file?",processingMessage1:(o,t)=>`${o}/${t}: Elaborazione...`,processingMessageExpand:(o,t)=>`${o}/${t}: Espansione idea...`,processingMessageParse:(o,t)=>`${o}/${t}: Analisi progetto...`,loaderMessage:"Caricamento configurazione AI...",footerText:`© ${new Date().getFullYear()} UPZ0.3. Open-source e guidato dalla comunità.`,noNewFilesFound:"L'AI non ha trovato nuovi file.",noReadmeFound:"Nessun README.md trovato da migliorare.",startWithTitle:"Parti da un'Idea o Esempio",startWithDescription:"Usa la chat o i prompt per generare la base del tuo progetto.",advancedSettingsPrompt:"Vuoi un controllo ancora più granulare?",goToAISettings:"Personalizza Comportamento AI",newConversationTitle:"Nuova Conversazione",newConversationDescription:"Crea da zero la struttura di un progetto parlando con un architetto AI.",openArchitectChat:"Apri Chat Architetto",examplePromptsTitle:"Prompt di Partenza",examplePromptsDescription:"Usa questi prompt d'esempio per generare un progetto completo da un'idea.",readMore:"Leggi di più",copy:"Copia",presetTitle:"Preset di Configurazione AI",presetDescription:"(Selezionane uno)",presetPersonalized:"Personalizzato",uploadFiles:"Carica File",githubRepo:"Repository GitHub",pastedText:"Incolla Testo",geminiChat:"Chat Gemini",fileUploader:{clickToUpload:"Clicca per caricare i file",dragAndDrop:"o trascinali",uploadHint:"Carica file, un'intera cartella o un archivio ZIP",selectFolder:"O seleziona una cartella",decompress:"Decomprimi",removeAll:"Cancella tutto",addMore:"Aggiungi altro",generateProject:"Genera Progetto"},githubUploader:{placeholder:"https://github.com/tuo-username/tuo-repo",fetchAndGenerate:"Recupera e Genera",loading:"Recupero...",error:"Impossibile recuperare il repository."},geminiUploader:{title:"Importa da Chat Gemini",description:"Incolla un link di condivisione di una chat Gemini o carica un file di testo (.txt, .md) esportato per usare la conversazione come fonte per il progetto.",linkPlaceholder:"Incolla qui il link di condivisione di Gemini...",linkButton:"Importa da Link",or:"OPPURE",uploadButton:"Carica da File (.txt, .md)",loading:"Elaborazione...",errorFile:"Impossibile leggere il file della chat.",errorLink:"Impossibile recuperare il contenuto dal link. Questo è probabilmente dovuto a restrizioni di sicurezza del browser (CORS). Prova invece il metodo di caricamento del file."},pastedTextUploader:{placeholder:"Incolla qui la struttura del tuo progetto o generane una usando la funzione 'Inizia con una Conversazione' qui sopra.",generateProject:"Genera Progetto",clearText:"Pulisci testo"},promptEditor:{provider:"Provider",model:"Modello",noModelFound:"Nessun modello trovato",translateToEN:"EN",translateToIT:"IT",translating:"Traduzione in corso...",improveWithAI:"Migliora con AI",translationFailed:"Traduzione fallita."},startOver:"Inizia di nuovo",downloadProject:"Scarica Progetto",fileTree:{addNewFile:"Aggiungi Nuovo File",add:"Aggiungi",deleteConfirmation:o=>`Sei sicuro di voler eliminare ${o}?`,newFilePlaceholder:"percorso/al/nuovo-file.js",invalidPath:"Percorso file non valido o duplicato."},fileEditor:{selectFile:"Seleziona un file per visualizzarlo o modificarlo",saveChanges:"Salva Modifiche",saved:"Salvato",editingAria:o=>`Modifica del contenuto di ${o}`},mobileTabs:{files:"File",editor:"Editor",ai:"AI"},aiAssistant:"Assistente AI",suggestName:"Suggerisci Nome",findFiles:"Trova File",improveReadme:"Migliora README",refactorCode:"Refactoring Codice",addDocstrings:"Aggiungi Docstring",writeTests:"Scrivi Test",generateWiki:"Genera Wiki",codeReview:"Revisione Codice",aiActionFailed:o=>`Azione AI fallita: ${o}`,loading:{name:"Suggerisco...",files:"Cerco File...",readme:"Miglioro...",refactor:"Refactoring...",tests:"Genero...",docstrings:"Documento...",wiki:"Genero Wiki...",review:"Revisiono...",commit:"Genero..."},tooltips:{base:"Clicca per: ",disabled:"Questa azione è disabilitata nelle tue impostazioni AI.",suggestName:"Suggerire un nome di progetto creativo basato sul suo contenuto.",findFiles:"Cercare nel contenuto iniziale eventuali file che il parser iniziale potrebbe aver perso.",generateWiki:"Generare un set di file di documentazione in stile wiki basati sul contenuto del progetto.",improveReadme:"Riscrivere e migliorare il file README.md selezionato.",improveReadme_disabled:"Seleziona un file README.md per abilitare questa azione.",refactorCode:"Riscrivere il file di codice selezionato per migliorare leggibilità e performance.",refactorCode_disabled:"Seleziona un file di codice (es. JS, PY, TS) per abilitare questa azione.",addDocstrings:"Aggiungere commenti di documentazione (docstring) al file di codice selezionato.",addDocstrings_disabled:"Seleziona un file di codice (es. JS, PY, TS) per abilitare questa azione.",writeTests:"Generare un nuovo file di test per il file di codice selezionato.",writeTests_disabled:"Seleziona un file di codice (es. JS, PY, TS) per abilitare questa azione.",codeReview:"Eseguire una revisione del codice basata su AI per il file selezionato.",codeReview_disabled:"Seleziona un file di codice (es. JS, PY, TS) per abilitare questa azione."},suggestionModal:{title:"Suggerimenti File AI",description:"L'AI ha trovato questi file aggiuntivi. Rivedi e accetta quelli che vuoi aggiungere.",cancel:"Annulla",acceptSelected:"Accetta Selezionati"},diffView:{showingChanges:o=>`Mostra le modifiche per: ${o}`,reject:"Rifiuta",accept:"Accetta Modifiche"},examplePromptModal:{close:"Chiudi",copyPrompt:"Copia Prompt"},codeReviewModal:{title:"Risultati Revisione Codice AI",description:o=>`Analisi AI per il file: ${o}`,close:"Chiudi"},userGuideModal:{title:"Guida Utente",loading:"Caricamento guida...",error:"Impossibile caricare la guida.",close:"Chiudi"},projectChatModal:{title:"Chat con l'Architetto del Progetto",description:"Definisci i requisiti del tuo progetto con l'AI.",close:"Chiudi chat",placeholder:"Scrivi il tuo messaggio...",send:"Invia",generateProject:"Genera Progetto",aiError:o=>`Spiacente, ho riscontrato un errore: ${o}`,generationError:o=>`Spiacente, ho riscontrato un errore durante la generazione del progetto: ${o}`,toggleTTS:"Attiva/disattiva voce AI",toggleLiveChat:"Attiva/disattiva chat vocale live",uploadAudio:"Carica file audio per la trascrizione",transcriptionError:o=>`Errore di trascrizione: ${o}`,statusListening:"In ascolto...",statusSpeaking:"L'AI sta parlando...",statusThinking:"L'AI sta pensando...",statusWaiting:"In attesa"},promptChatModal:{title:"Migliora Prompt",description:o=>`Chatta con un'AI per perfezionare: ${o}`,greeting:o=>`Ciao! Sono qui per aiutarti a migliorare il prompt "**${o}**". Come possiamo renderlo migliore?`,close:"Chiudi chat",placeholder:"Scrivi il tuo messaggio...",send:"Invia",useLastResponse:"Usa l'ultima risposta dell'AI come nuovo prompt",aiError:o=>`Spiacente, ho riscontrato un errore: ${o}`},githubExport:{title:"Esporta su GitHub",description:"Effettua il push del tuo progetto su un repository GitHub nuovo o esistente.",repoNameLabel:"Nome Repository GitHub",repoNamePlaceholder:"owner/nome-repo",repoNameHelp:"Es. 'tuo-username/nuovo-progetto'.",branchLabel:"Nome Branch",branchPlaceholder:"main",commitMessageLabel:"Messaggio di Commit",commitMessagePlaceholder:"Commit iniziale del progetto",generateCommitMessage:"Genera con AI",actionTypeLabel:"Tipo di Azione",actionTypePush:"Push su Repo Esistente",actionTypeCreate:"Crea Nuovo Repo",visibilityLabel:"Visibilità",visibilityPrivate:"Privato",visibilityPublic:"Pubblico",cancel:"Annulla",export:"Esporta",exporting:"Esportazione...",successTitle:"Esportazione Riuscita!",successMessage:o=>`Il progetto è stato inviato con successo a ${o}.`,errorTitle:"Esportazione Fallita",close:"Chiudi",button:"Esporta su GitHub",tooltip:"Effettua il push del progetto su un repository GitHub.",disabledTooltip:"Aggiungi un Personal Access Token di GitHub nelle Impostazioni per abilitare questa funzione."},settings:{title:"Impostazioni",description:"Configura i provider AI, i modelli predefiniti e le chiavi API.",tabs:{general:"Impostazioni Generali",aiBehavior:"Comportamento AI"},general:"Generali",globalLanguage:"Lingua Globale",globalLanguageDesc:"Imposta la lingua predefinita per l'interfaccia utente e i contenuti.",langIt:"Italiano",langEn:"English",defaultModels:"Modelli AI Predefiniti",generalDefault:"Predefinito Generale",generalDefaultDesc:"Il predefinito per tutte le azioni AI a meno che non sia sovrascritto di seguito o in un preset. La modifica di questo potrebbe aggiornare altre impostazioni.",conversationalArchitect:"Architetto Conversazionale",conversationalArchitectDesc:"Il modello utilizzato per la funzione 'Inizia con una Conversazione'.",promptImprovementChat:"Chat di Miglioramento Prompt",promptImprovementChatDesc:"Il modello utilizzato per la chat 'Migliora con AI' per i prompt.",integrations:"Integrazioni",githubPat:"GitHub Personal Access Token",githubPatHelp:`Necessario per esportare i repository. <a href="https://github.com/settings/tokens/new?scopes=repo&description=UPZ.AI%20Export" target="_blank" rel="noopener noreferrer" class="text-accent dark:text-dark-accent font-bold underline">Crea un token</a> con i permessi 'repo'.`,apiKeys:"Chiavi API",googleApiKey:"Google Gemini API Key",googleApiHelp:"Ottieni qui la tua chiave API di Google.",googleApiEnvVar:"La chiave API di Google viene configurata tramite una variabile d'ambiente (`API_KEY`) per una maggiore sicurezza.",openRouterApiKey:"OpenRouter API Key",openRouterApiHelp:"Ottieni qui la tua chiave di OpenRouter.",groqApiKey:"Groq API Key",groqApiHelp:"Ottieni qui la tua chiave di Groq.",togetherApiKey:"Together.ai API Key",togetherApiHelp:"Ottieni qui la tua chiave di Together.ai.",perplexityApiKey:"Perplexity API Key",perplexityApiHelp:"Ottieni qui la tua chiave di Perplexity.",cohereApiKey:"Cohere API Key",cohereApiHelp:"Ottieni qui la tua chiave di Cohere.",apiKeyPlaceholder:o=>`Inserisci la tua ${o}`,showKey:"Mostra",hideKey:"Nascondi",keyStorageNotice:"Le tue chiavi API sono memorizzate in modo sicuro nel localStorage del tuo browser e non vengono mai inviate ai nostri server.",cancel:"Annulla",save:"Salva Impostazioni"},aiPrompts:{projectOverview_title:"Espansione Idea Progetto",projectOverview_description:"Per l'input di testo, utilizza l'AI per espandere una breve idea in una struttura di progetto completa prima dell'analisi.",fileFinder_title:"Ricerca File",fileFinder_description:"Guida l'AI a trovare file mancanti dall'input.",docExtractor_title:"Estrattore Documentazione",docExtractor_description:"Guida l'AI a estrarre note di documentazione dall'input.",readmeGenerator_title:"Generazione README",readmeGenerator_description:"Istruisce l'AI su come strutturare e scrivere il file `README.md`.",wikiGenerator_title:"Generazione Repo Wiki",wikiGenerator_description:"Genera una wiki di documentazione completa dal contenuto di input.",codeRefactorer_title:"Refactoring Codice",codeRefactorer_description:"Istruisce l'AI su come refattorizzare e migliorare il codice di un file.",codeReviewer_title:"Revisione Codice",codeReviewer_description:"Istruisce l'AI su come eseguire una revisione del codice per un file.",testGenerator_title:"Generazione Test",testGenerator_description:"Istruisce l'AI su come generare un file di test per un dato file sorgente.",projectNameSuggester_title:"Suggerimento Nome Progetto",projectNameSuggester_description:"Guida l'AI a suggerire un nome di progetto creativo.",docstringGenerator_title:"Generazione Docstring",docstringGenerator_description:"Guida l'AI ad aggiungere docstring a funzioni/classi in un file.",architect_title:"Chat Architetto AI",architect_description:"Il prompt di sistema che guida la conversazione nella chat per lo scaffolding del progetto.",translator_title:"Traduttore",translator_description:"Il prompt usato per tradurre i prompt personalizzati. Usa {text} e {targetLanguage}.",commitMessageGenerator_title:"Generatore Messaggio di Commit",commitMessageGenerator_description:"Guida l'AI a generare messaggi di commit per l'esportazione su GitHub."}},en:{headerSubtitle:"Universal AI Project Zipper",openSettings:"Open settings",toggleTheme:"Toggle theme",openUserGuide:"Open user guide",errorOccurred:"An error occurred:",tryAgain:"Try Again",unsavedChanges:"You have unsaved changes. Do you want to save them before switching files?",processingMessage1:(o,t)=>`${o}/${t}: Processing...`,processingMessageExpand:(o,t)=>`${o}/${t}: Expanding idea...`,processingMessageParse:(o,t)=>`${o}/${t}: Parsing project...`,loaderMessage:"Loading AI configuration...",footerText:`© ${new Date().getFullYear()} UPZ0.3. Open-source and community-driven.`,noNewFilesFound:"The AI did not find any new files.",noReadmeFound:"No README.md found to improve.",startWithTitle:"Start from an Idea or Example",startWithDescription:"Use the chat or prompts to generate your project's foundation.",advancedSettingsPrompt:"Want even more granular control?",goToAISettings:"Customize AI Behavior",newConversationTitle:"New Conversation",newConversationDescription:"Create a project structure from scratch by talking to an AI architect.",openArchitectChat:"Open Architect Chat",examplePromptsTitle:"Starting Prompts",examplePromptsDescription:"Don't have a project? Use these example prompts to generate one.",readMore:"Read More",copy:"Copy",presetTitle:"AI Configuration Presets",presetDescription:"(Select one)",presetPersonalized:"Personalized",uploadFiles:"Upload Files",githubRepo:"GitHub Repository",pastedText:"Paste Text",geminiChat:"Gemini Chat",fileUploader:{clickToUpload:"Click to upload files",dragAndDrop:"or drag and drop",uploadHint:"Upload files, an entire folder, or a ZIP archive",selectFolder:"Or select a folder",decompress:"Decompress",removeAll:"Remove all",addMore:"Add more",generateProject:"Generate Project"},githubUploader:{placeholder:"https://github.com/your-username/your-repo",fetchAndGenerate:"Fetch & Generate",loading:"Fetching...",error:"Failed to fetch repository."},geminiUploader:{title:"Import from Gemini Chat",description:"Paste a Gemini share link or upload an exported text file (.txt, .md) to use the conversation as your project source.",linkPlaceholder:"Paste Gemini share link here...",linkButton:"Import from Link",or:"OR",uploadButton:"Upload from File (.txt, .md)",loading:"Processing...",errorFile:"Failed to read chat file.",errorLink:"Could not fetch content from the link. This is likely due to browser security restrictions (CORS). Please try the file upload method instead."},pastedTextUploader:{placeholder:"Paste your project structure here, or generate one using the 'Start with a Conversation' feature above.",generateProject:"Generate Project",clearText:"Clear text"},promptEditor:{provider:"Provider",model:"Model",noModelFound:"No models found",translateToEN:"EN",translateToIT:"IT",translating:"Translating...",improveWithAI:"Improve with AI",translationFailed:"Translation failed."},startOver:"Start Over",downloadProject:"Download Project",fileTree:{addNewFile:"Add New File",add:"Add",deleteConfirmation:o=>`Are you sure you want to delete ${o}?`,newFilePlaceholder:"path/to/new-file.js",invalidPath:"Invalid or duplicate file path."},fileEditor:{selectFile:"Select a file to view or edit",saveChanges:"Save Changes",saved:"Saved",editingAria:o=>`Editing content of ${o}`},mobileTabs:{files:"Files",editor:"Editor",ai:"AI"},aiAssistant:"AI Assistant",suggestName:"Suggest Name",findFiles:"Find Files",improveReadme:"Improve README",refactorCode:"Refactor Code",addDocstrings:"Add Docstrings",writeTests:"Write Tests",generateWiki:"Generate Wiki",codeReview:"Code Review",aiActionFailed:o=>`AI action failed: ${o}`,loading:{name:"Suggesting...",files:"Finding Files...",readme:"Improving...",refactor:"Refactoring...",tests:"Generating...",docstrings:"Documenting...",wiki:"Generating Wiki...",review:"Reviewing...",commit:"Generating..."},tooltips:{base:"Click to: ",disabled:"This action is disabled in your AI Settings.",suggestName:"Suggest a creative project name based on its content.",findFiles:"Search the initial content for any files the initial parser might have missed.",generateWiki:"Generate a set of wiki-style documentation files based on the project content.",improveReadme:"Rewrite and improve the selected README.md file.",improveReadme_disabled:"Select a README.md file to enable this action.",refactorCode:"Rewrite the selected code file to improve readability and performance.",refactorCode_disabled:"Select a code file (e.g., JS, PY, TS) to enable this action.",addDocstrings:"Add documentation comments (docstrings) to the selected code file.",addDocstrings_disabled:"Select a code file (e.g., JS, PY, TS) to enable this action.",writeTests:"Generate a new test file for the selected code file.",writeTests_disabled:"Select a code file (e.g., JS, PY, TS) to enable this action.",codeReview:"Perform an AI-powered code review on the selected file.",codeReview_disabled:"Select a code file (e.g., JS, PY, TS) to enable this action."},suggestionModal:{title:"AI File Suggestions",description:"The AI found these additional files. Review and accept the ones you want to add.",cancel:"Cancel",acceptSelected:"Accept Selected"},diffView:{showingChanges:o=>`Showing changes for: ${o}`,reject:"Reject",accept:"Accept Changes"},examplePromptModal:{close:"Close",copyPrompt:"Copy Prompt"},codeReviewModal:{title:"AI Code Review Results",description:o=>`AI analysis for file: ${o}`,close:"Close"},userGuideModal:{title:"User Guide",loading:"Loading guide...",error:"Could not load the guide.",close:"Close"},projectChatModal:{title:"Project Architect Chat",description:"Define your project requirements with the AI.",close:"Close chat",placeholder:"Write your message...",send:"Send",generateProject:"Generate Project",aiError:o=>`Sorry, I've encountered an error: ${o}`,generationError:o=>`Sorry, I've encountered an error during project generation: ${o}`,toggleTTS:"Toggle AI voice on/off",toggleLiveChat:"Toggle live voice chat on/off",uploadAudio:"Upload audio file for transcription",transcriptionError:o=>`Transcription error: ${o}`,statusListening:"Listening...",statusSpeaking:"AI is speaking...",statusThinking:"AI is thinking...",statusWaiting:"Waiting"},promptChatModal:{title:"Improve Prompt",description:o=>`Chat with an AI to refine: ${o}`,greeting:o=>`Hi! I'm here to help you improve the "**${o}**" prompt. How can we make it better?`,close:"Close chat",placeholder:"Write your message...",send:"Send",useLastResponse:"Use AI's last response as the new prompt",aiError:o=>`Sorry, I've encountered an error: ${o}`},githubExport:{title:"Export to GitHub",description:"Push your project to a new or existing GitHub repository.",repoNameLabel:"GitHub Repository Name",repoNamePlaceholder:"owner/repo-name",repoNameHelp:"E.g., 'your-username/new-project'.",branchLabel:"Branch Name",branchPlaceholder:"main",commitMessageLabel:"Commit Message",commitMessagePlaceholder:"Initial project commit",generateCommitMessage:"Generate with AI",actionTypeLabel:"Action Type",actionTypePush:"Push to Existing Repo",actionTypeCreate:"Create New Repo",visibilityLabel:"Visibility",visibilityPrivate:"Private",visibilityPublic:"Public",cancel:"Cancel",export:"Export",exporting:"Exporting...",successTitle:"Export Successful!",successMessage:o=>`Project successfully pushed to ${o}.`,errorTitle:"Export Failed",close:"Close",button:"Export to GitHub",tooltip:"Push your project to a GitHub repository.",disabledTooltip:"Add a GitHub Personal Access Token in Settings to enable this feature."},settings:{title:"Settings",description:"Configure AI providers, default models, and API keys.",tabs:{general:"General Settings",aiBehavior:"AI Behavior"},general:"General",globalLanguage:"Global Language",globalLanguageDesc:"Set the default language for the UI and content.",langIt:"Italiano",langEn:"English",defaultModels:"Default AI Models",generalDefault:"General Default",generalDefaultDesc:"The default for all AI actions unless overridden below or in a preset. Changing this may update other settings.",conversationalArchitect:"Conversational Architect",conversationalArchitectDesc:"The model used for the 'Start with a Conversation' feature.",promptImprovementChat:"Prompt Improvement Chat",promptImprovementChatDesc:"The model used for the 'Improve with AI' chat for prompts.",integrations:"Integrations",githubPat:"GitHub Personal Access Token",githubPatHelp:`Required to export repositories. <a href="https://github.com/settings/tokens/new?scopes=repo&description=UPZ.AI%20Export" target="_blank" rel="noopener noreferrer" class="text-accent dark:text-dark-accent font-bold underline">Create a token</a> with 'repo' permissions.`,apiKeys:"API Keys",googleApiKey:"Google Gemini API Key",googleApiHelp:"Get your Google API key here.",googleApiEnvVar:"The Google API key is configured via an environment variable (`API_KEY`) for better security.",openRouterApiKey:"OpenRouter API Key",openRouterApiHelp:"Get your OpenRouter key here.",groqApiKey:"Groq API Key",groqApiHelp:"Get your Groq key here.",togetherApiKey:"Together.ai API Key",togetherApiHelp:"Get your Together.ai key here.",perplexityApiKey:"Perplexity API Key",perplexityApiHelp:"Get your Perplexity key here.",cohereApiKey:"Cohere API Key",cohereApiHelp:"Get your Cohere key here.",apiKeyPlaceholder:o=>`Enter your ${o}`,showKey:"Show",hideKey:"Hide",keyStorageNotice:"Your API keys are securely stored in your browser's localStorage and are never sent to our servers.",cancel:"Cancel",save:"Save Settings"},aiPrompts:{projectOverview_title:"Project Idea Expansion",projectOverview_description:"For text input, use AI to expand a brief idea into a full project structure before parsing.",fileFinder_title:"File Finder",fileFinder_description:"Guides the AI to find missed files from the input.",docExtractor_title:"Documentation Extractor",docExtractor_description:"Guides the AI to extract documentation notes from the input.",readmeGenerator_title:"README Generation",readmeGenerator_description:"Instructs the AI on how to structure and write the `README.md` file.",wikiGenerator_title:"Wiki Repo Generation",wikiGenerator_description:"Generates a full documentation wiki from the input content.",codeRefactorer_title:"Code Refactoring",codeRefactorer_description:"Instructs the AI on how to refactor and improve a file's code.",codeReviewer_title:"Code Review",codeReviewer_description:"Instructs the AI on how to perform a code review for a file.",testGenerator_title:"Test Generation",testGenerator_description:"Instructs the AI on how to generate a test file for a given source file.",projectNameSuggester_title:"Project Name Suggester",projectNameSuggester_description:"Guides the AI to suggest a creative project name.",docstringGenerator_title:"Docstring Generation",docstringGenerator_description:"Guides the AI to add docstrings to functions/classes in a file.",architect_title:"AI Architect Chat",architect_description:"The system prompt that guides the conversation in the project scaffolding chat.",translator_title:"Translator",translator_description:"The prompt used to translate custom prompts. Use {text} and {targetLanguage}.",commitMessageGenerator_title:"Commit Message Generator",commitMessageGenerator_description:"Guides the AI to generate commit messages for the GitHub export."}}},Cu=o=>zh[o]||zh.it,Ug=K.createContext(void 0),Su={googleApiKey:"",openRouterApiKey:"",groqApiKey:"",togetherApiKey:"",perplexityApiKey:"",cohereApiKey:"",githubPat:"",defaultProvider:"google",defaultModel:"gemini-2.5-flash",promptImprovementProvider:"google",promptImprovementModel:"gemini-2.5-flash",architectProvider:"google",architectModel:"gemini-2.5-flash",globalLanguage:"it"},MS=({children:o})=>{const[t,l]=K.useState(!0),[i,s]=K.useState(Su),[u,d]=K.useState(null),[g,y]=K.useState({google:["gemini-2.5-flash"],openrouter:[],groq:[],together:[],perplexity:[],cohere:[]}),[m,v]=K.useState(Ua(Cu(Su.globalLanguage))),[x,E]=K.useState(null),C=K.useMemo(()=>Cu(i.globalLanguage),[i.globalLanguage]),A=K.useCallback((z,...X)=>{const L=z.split(".");let P=C;for(const B of L){if(P===void 0)return z;P=P[B]}return typeof P=="function"?P(...X):P||z},[C]);K.useEffect(()=>{let z={...Su};try{const B=localStorage.getItem("upz-settings");if(B){const{googleApiKey:ee,...ie}=JSON.parse(B);z={...z,...ie}}}catch(B){console.error("Failed to parse settings from localStorage, resetting to defaults.",B),localStorage.removeItem("upz-settings")}z.googleApiKey="";const X=z.globalLanguage||"it",L=Cu(X);s(z),d(z);const P=Eu.find(B=>B.name==="Code Generation");E(P.name),v(()=>{const B=Ua(L,z);for(const ee in P.config){const ie=ee;if(B[ie]){const re=P.config[ie];(re==null?void 0:re.enabled)!==void 0&&(B[ie].enabled=re.enabled),re!=null&&re.provider&&(B[ie].provider=re.provider),re!=null&&re.model&&(B[ie].model=re.model)}}return B}),l(!1)},[]),K.useEffect(()=>{v(Ua(C,i));const z=Eu.find(X=>X.name===x);z&&_(z,!0)},[i.globalLanguage,C,i]);const _=K.useCallback((z,X=!1)=>{z.name===x&&!X||(E(z.name),v(()=>{const L=Ua(C,i);for(const P in z.config){const B=P;if(L[B]){const ee=z.config[B];(ee==null?void 0:ee.enabled)!==void 0&&(L[B].enabled=ee.enabled),ee!=null&&ee.provider&&(L[B].provider=ee.provider),ee!=null&&ee.model&&(L[B].model=ee.model)}}return L}))},[i,C,x]);K.useEffect(()=>{(async()=>{const X=["google","openrouter","groq","together","perplexity","cohere"],L={google:i.googleApiKey,openrouter:i.openRouterApiKey,groq:i.groqApiKey,together:i.togetherApiKey,perplexity:i.perplexityApiKey,cohere:i.cohereApiKey},P=X.map(ee=>L[ee]?vS(ee,L[ee]):Promise.resolve([])),B=await Promise.all(P);y({google:B[0].length>0?B[0]:["gemini-2.5-flash"],openrouter:B[1],groq:B[2],together:B[3],perplexity:B[4],cohere:B[5]})})()},[i]);const w=K.useCallback(z=>{v(B=>{const ee={provider:(u==null?void 0:u.defaultProvider)||"google",model:(u==null?void 0:u.defaultModel)||"gemini-2.5-flash"},ie={provider:z.defaultProvider,model:z.defaultModel};if(ee.provider===ie.provider&&ee.model===ie.model)return B;const re={...B};for(const be in re){const te=be,D=re[te];D.provider===ee.provider&&D.model===ee.model&&(re[te]={...D,provider:ie.provider,model:ie.model})}return re}),(u==null?void 0:u.promptImprovementProvider)===(u==null?void 0:u.defaultProvider)&&(u==null?void 0:u.promptImprovementModel)===(u==null?void 0:u.defaultModel)&&(z.promptImprovementProvider=z.defaultProvider,z.promptImprovementModel=z.defaultModel),(u==null?void 0:u.architectProvider)===(u==null?void 0:u.defaultProvider)&&(u==null?void 0:u.architectModel)===(u==null?void 0:u.defaultModel)&&(z.architectProvider=z.defaultProvider,z.architectModel=z.defaultModel);const X={...z,googleApiKey:""};s(X),d(X);const{googleApiKey:L,...P}=X;localStorage.setItem("upz-settings",JSON.stringify(P))},[u]),k=K.useCallback((z,X)=>{E("Personalized"),v(L=>({...L,[z]:{...L[z],content:X}}))},[]),H=K.useCallback(z=>{E("Personalized"),v(X=>({...X,[z]:{...X[z],enabled:!X[z].enabled}}))},[]),M=K.useCallback((z,X)=>{var P;E("Personalized");const L=((P=g[X])==null?void 0:P[0])||"";v(B=>({...B,[z]:{...B[z],provider:X,model:L}}))},[g]),O=K.useCallback((z,X)=>{E("Personalized"),v(L=>({...L,[z]:{...L[z],model:X}}))},[]),j=K.useMemo(()=>({appSettings:i,aiConfig:m,modelsByProvider:g,isLoadingSettings:t,selectedPreset:x,presets:Eu,t:A,handleSaveSettings:w,handleSelectPreset:_,handlePromptChange:k,handleTogglePrompt:H,handleProviderChange:M,handleModelChange:O}),[i,m,g,t,x,A,w,_,k,H,M,O]);return b.jsx(Ug.Provider,{value:j,children:o})},Pe=()=>{const o=K.useContext(Ug);if(o===void 0)throw new Error("useAppContext must be used within an AppProvider");return o},RS=()=>{const{t:o}=Pe(),[t,l]=K.useState([]),[i,s]=K.useState(null),[u,d]=K.useState(""),[g,y]=K.useState(!1),[m,v]=K.useState("UPZ-Project"),[x,E]=K.useState(""),C=K.useCallback((w,k)=>{l(H=>H.map(M=>M.path===w?{...M,content:k}:M)),y(!1)},[]),A=K.useCallback(w=>{if(g&&i&&i!==w&&confirm(o("unsavedChanges"))){const H=t.find(M=>M.path===i);H&&C(H.path,u)}s(w);const k=t.find(H=>H.path===w);d((k==null?void 0:k.content)||""),y(!1)},[g,i,t,u,o,C]),_=K.useCallback(()=>{l([]),s(null),d(""),y(!1),v("UPZ-Project"),E("")},[]);return{parsedFiles:t,setParsedFiles:l,selectedFilePath:i,setSelectedFilePath:s,editorContent:u,setEditorContent:d,isEditorDirty:g,setIsEditorDirty:y,projectName:m,setProjectName:v,fullInputContent:x,setFullInputContent:E,handleFileSelect:A,handleSaveFile:C,clearEditorState:_}},kS=async(o,t,l,i)=>{const s=`
**Nome Progetto:**
${l}

**Contenuto Originale del Progetto (per contesto):**
${i.substring(0,1e4)}
  `;try{return(await It({provider:t.provider,settings:o,model:t.model,prompt:t.content.replace("PROJECT_CONTENT_PLACEHOLDER",s)})).text.trim()}catch(u){return console.error(`Errore durante la generazione della Wiki con ${t.provider}:`,u),`### ERROR.md

# Errore nella generazione della Wiki

**Attenzione: Impossibile generare automaticamente la wiki a causa di un errore.**

**Dettagli Errore:**
\`\`\`
${u instanceof Error?u.message:"Si è verificato un errore API sconosciuto."}
\`\`\``}},IS=async(o,t,l,i)=>{const s=t.content.replace("{text}",l).replace("{targetLanguage}",i);try{return(await It({provider:t.provider,settings:o,model:t.model,prompt:s})).text.trim()}catch(u){console.error(`Errore durante la traduzione del testo in ${i} con ${t.provider}:`,u);const d=u instanceof Error?u.message:"Si è verificato un errore API sconosciuto durante la traduzione.";throw new Error(`Impossibile tradurre il testo. Motivo: ${d}`)}},DS=async(o,t,l)=>{if(!l.trim())return l;const i=t.content.replace("CODE_PLACEHOLDER",l);try{const s=await It({provider:t.provider,settings:o,model:t.model,prompt:i});return Ig(s.text)}catch(s){console.error(`Errore durante l'aggiunta di docstring con ${t.provider}:`,s);const u=s instanceof Error?s.message:"Si è verificato un errore API sconosciuto.";throw new Error(`Impossibile aggiungere le docstring. Motivo: ${u}`)}},LS=async(o,t,l)=>{if(!l.content.trim())return null;const i=t.content.replace("{filePath}",l.path).replace("{fileContent}",l.content),s={type:nt.OBJECT,properties:{path:{type:nt.STRING},content:{type:nt.STRING}},required:["path","content"]};try{const u=await It({provider:t.provider,settings:o,model:t.model,prompt:i,jsonMode:!0,systemInstruction:"La tua risposta deve essere un oggetto JSON valido contenente due chiavi: `path` (il percorso del nuovo file di test) e `content` (il codice del nuovo file di test). Non aggiungere altro testo.",responseSchema:s}),d=nc(u.text);return d&&typeof d.path=="string"&&typeof d.content=="string"?{path:d.path,content:d.content}:(console.error("La risposta AI per la generazione di test non era nel formato previsto:",d),null)}catch(u){console.error(`Errore durante la generazione di test con ${t.provider}:`,u);const d=u instanceof Error?u.message:"Si è verificato un errore API sconosciuto.";throw new Error(`Impossibile generare i test. Motivo: ${d}`)}},US=async(o,t,l)=>{if(!l.trim())return l;const i=t.content.replace("CODE_PLACEHOLDER",l);try{const s=await It({provider:t.provider,settings:o,model:t.model,prompt:i});return Ig(s.text)}catch(s){console.error(`Errore durante il refactoring del codice con ${t.provider}:`,s);const u=s instanceof Error?s.message:"Si è verificato un errore API sconosciuto.";throw new Error(`Impossibile refattorizzare il codice. Motivo: ${u}`)}},PS=async(o,t,l)=>{if(!l.trim())return"Il file è vuoto. Niente da revisionare.";const i=t.content.replace("CODE_PLACEHOLDER",l);try{return(await It({provider:t.provider,settings:o,model:t.model,prompt:i})).text.trim()}catch(s){console.error(`Errore durante la revisione del codice con ${t.provider}:`,s);const u=s instanceof Error?s.message:"Si è verificato un errore API sconosciuto.";throw new Error(`Impossibile revisionare il codice. Motivo: ${u}`)}},GS=({appSettings:o,aiConfig:t,editor:l,modals:i})=>{const{projectName:s,setProjectName:u,fullInputContent:d,parsedFiles:g,setParsedFiles:y,selectedFilePath:m,editorContent:v,setEditorContent:x,handleFileSelect:E,handleSaveFile:C}=l,[A,_]=K.useState([]),[w,k]=K.useState(null),[H,M]=K.useState(null),[O,j]=K.useState(null),[z,X]=K.useState(""),[L,P]=K.useState(null);return{suggestions:A,setSuggestions:_,diffData:w,translating:H,promptToImprove:O,codeReviewContent:z,fileForReviewPath:L,handleSuggestName:async()=>{const G=await AS(o,t.projectNameSuggester,d);u(G)},handleFindFiles:async()=>{const{files:G}=await Vu(o,d,{...t,docExtractor:{...t.docExtractor,enabled:!1},fileFinder:{...t.fileFinder,enabled:!0}}),ne=G.filter(le=>!g.some(de=>de.path===le.path)).map((le,de)=>({...le,id:`${le.path}-${de}`,type:"file",accepted:!0}));ne.length>0?(_(ne),i.openSuggestion()):alert("No new files found.")},handleGenerateWiki:async()=>{const G=await kS(o,t.wikiGenerator,s,d),le=Dg(G).filter(de=>!g.some(he=>he.path===de.path)).map((de,he)=>({...de,id:`wiki-${de.path}-${he}`,type:"file",accepted:!0}));le.length>0?(_(le),i.openSuggestion()):alert("No new wiki files found.")},handleGenerateTests:async G=>{const ne=g.find(de=>de.path===G);if(!ne)return null;const le=await LS(o,t.testGenerator,ne);return le&&(y(de=>[...de,le]),E(le.path)),le},handleImproveReadme:async()=>{const G=g.find(he=>he.path.toLowerCase()==="readme.md");if(!G){alert("No README.md found.");return}const ne=G.content,{documentationNotes:le}=await Vu(o,d,{...t,readmeGenerator:{...t.readmeGenerator}}),de=await Lg(o,t.readmeGenerator,s,d,le);k({path:G.path,original:ne,modified:de}),(m==null?void 0:m.toLowerCase())!=="readme.md"&&E(G.path)},handleRefactorRequest:async()=>{if(!m)return;const G=v,ne=await US(o,t.codeRefactorer,G);k({path:m,original:G,modified:ne})},handleAddDocstrings:async()=>{if(!m)return;const G=v,ne=await DS(o,t.docstringGenerator,G);k({path:m,original:G,modified:ne})},handleCodeReviewRequest:async()=>{if(!m)return;const G=await PS(o,t.codeReviewer,v);X(G),P(m),i.openCodeReview()},handleTranslate:async(G,ne)=>{M(G);try{const le=t[G].content,de=await IS(o,t.translator,le,ne);i.handlePromptChange(G,de)}catch{alert("Translation failed.")}finally{M(null)}},handleImprovePromptRequest:G=>{j(t[G]),i.openPromptChat()},handleSaveImprovedPrompt:(G,ne)=>{i.handlePromptChange(G,ne),i.closePromptChat(),j(null)},handleAcceptDiff:(G,ne)=>{C(G,ne),m===G&&x(ne),k(null)},handleRejectDiff:()=>k(null)}},zS=()=>{const{handlePromptChange:o}=Pe(),[t,l]=K.useState(!1),[i,s]=K.useState(!1),[u,d]=K.useState(!1),[g,y]=K.useState(!1),[m,v]=K.useState(!1),[x,E]=K.useState(!1),C=K.useCallback(()=>l(!0),[]),A=K.useCallback(()=>l(!1),[]),_=K.useCallback(()=>s(!0),[]),w=K.useCallback(()=>s(!1),[]),k=K.useCallback(()=>d(!0),[]),H=K.useCallback(()=>d(!1),[]),M=K.useCallback(()=>y(!0),[]),O=K.useCallback(()=>y(!1),[]),j=K.useCallback(()=>v(!0),[]),z=K.useCallback(()=>v(!1),[]),X=K.useCallback(()=>E(!0),[]),L=K.useCallback(()=>E(!1),[]);return{isSuggestionModalOpen:t,setIsSuggestionModalOpen:l,openSuggestion:C,closeSuggestion:A,isPromptChatOpen:i,openPromptChat:_,closePromptChat:w,isProjectChatOpen:u,openProjectChat:k,closeProjectChat:H,isCodeReviewModalOpen:g,openCodeReview:M,closeCodeReview:O,isUserGuideOpen:m,openUserGuide:j,closeUserGuide:z,isGitHubExportModalOpen:x,openGitHubExport:X,closeGitHubExport:L,handlePromptChange:o}},qS=async o=>{const t=/^https?:\/\/github\.com\/([^\/]+\/[^\/]+)\/?.*$/,l=o.match(t);if(!l||!l[1])throw new Error("URL del repository GitHub non valido. Formato atteso: https://github.com/owner/repo");const i=l[1],s=i.split("/")[1],u=`https://api.github.com/repos/${i}/zipball`;try{const d=await fetch(u);if(!d.ok)throw new Error(`Impossibile recuperare il repository: ${d.status} ${d.statusText}`);const g=await d.blob();return new File([g],`${s}.zip`,{type:"application/zip"})}catch(d){throw console.error("Errore durante il recupero del repository GitHub:",d),new Error(`Impossibile scaricare il repository. Potrebbe essere privato o l'URL è errato. ${d instanceof Error?d.message:""}`)}},Pg=({className:o})=>b.jsxs("svg",{viewBox:"0 0 100 100",className:o,xmlns:"http://www.w3.org/2000/svg","aria-label":"UPZ Logo",children:[b.jsxs("g",{className:"block dark:hidden",children:[b.jsx("path",{d:"M20,15 h30 a15,15 0 0 1 0,30 h-30 v40 h60 v-70 Z",fill:"#1c1917"}),b.jsx("path",{d:"M20,65 h60 v20 h-60 Z M50,20 a10,10 0 0 0 0,20 h-25 v-20 Z",fill:"#fafaf9"}),b.jsx("path",{d:"M30 15 L 40 5 L 50 15 Z",fill:"#fafaf9"}),b.jsx("path",{d:"M30 50 L 70 50 L 30 60 L 70 60",stroke:"#fafaf9",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),b.jsx("text",{x:"96",y:"96",textAnchor:"end",fontSize:"24",fontWeight:"bold",fill:"#65a30d",children:"0.3"})]}),b.jsxs("g",{className:"hidden dark:block",children:[b.jsx("path",{d:"M20,15 h30 a15,15 0 0 1 0,30 h-30 v40 h60 v-70 Z",fill:"#84cc16"}),b.jsx("path",{d:"M20,65 h60 v20 h-60 Z M50,20 a10,10 0 0 0 0,20 h-25 v-20 Z",fill:"#f5f5f4"}),b.jsx("path",{d:"M30 15 L 40 5 L 50 15 Z",fill:"#f5f5f4"}),b.jsx("path",{d:"M30 50 L 70 50 L 30 60 L 70 60",stroke:"#f5f5f4",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),b.jsx("text",{x:"96",y:"96",textAnchor:"end",fontSize:"24",fontWeight:"bold",fill:"#84cc16",children:"0.3"})]})]}),HS=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 inline-block text-accent dark:text-dark-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),Ka=({className:o})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:o||"h-5 w-5 mr-2 inline-block text-secondary-text dark:text-dark-secondary-text",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),Gg=({className:o})=>b.jsx("svg",{className:o||"w-12 h-12 mb-4 text-secondary-text","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:b.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),VS=()=>b.jsxs("svg",{className:"w-5 h-5 mr-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[b.jsx("path",{d:"M14.707 7.793a1 1 0 0 0-1.414 0L11 10.086V1.5a1 1 0 0 0-2 0v8.586L6.707 7.793a1 1 0 1 0-1.414 1.414l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 0-1.414Z"}),b.jsx("path",{d:"M18 12h-2.55l-2.975 2.975a3.5 3.5 0 0 1-4.95 0L4.55 12H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2Z"})]}),BS=()=>b.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),OS=()=>b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),FS=()=>b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),kt=({className:o})=>b.jsx("svg",{className:o||"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{d:"M10 3a1 1 0 011 1v1.586l1.293-1.293a1 1 0 111.414 1.414L12.414 7H14a1 1 0 110 2h-1.586l1.293 1.293a1 1 0 11-1.414 1.414L11 10.414V12a1 1 0 11-2 0v-1.586l-1.293 1.293a1 1 0 11-1.414-1.414L7.586 9H6a1 1 0 110-2h1.586L6.293 5.707a1 1 0 011.414-1.414L9 5.586V4a1 1 0 011-1zM5 15a1 1 0 11-2 0 1 1 0 012 0zm11 1a1 1 0 100-2 1 1 0 000 2zM6 6a1 1 0 100-2 1 1 0 000 2zm9-1a1 1 0 10-2 0 1 1 0 002 0z"})}),JS=({className:o})=>b.jsx("svg",{className:o||"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.586a2 2 0 112.828 2.828L12.828 15H10v-2.828l8.586-8.586z"})}),YS=()=>b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),jS=()=>b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),KS=()=>b.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),$S=({className:o})=>b.jsxs("svg",{className:o||"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547a2 2 0 00-.547 1.806l.477 2.387a6 6 0 00.517 3.86l.158.318a6 6 0 00.517 3.86l.477 2.387a2 2 0 001.806.547a2 2 0 001.806-.547l2.387-.477a6 6 0 003.86-.517l.318-.158a6 6 0 013.86-.517l2.387.477a2 2 0 001.806-.547a2 2 0 00.547-1.806l-.477-2.387a6 6 0 00-.517-3.86l-.158-.318a6 6 0 00-.517-3.86l-.477-2.387z",transform:"rotate(-45 12 12) translate(-2 -2)"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v6M9 12h6"})]}),XS=({className:o})=>b.jsx("svg",{className:o||"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),zg=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),QS=({className:o})=>b.jsx("svg",{className:o||"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),qg=({className:o})=>b.jsx("svg",{className:o||"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a2 2 0 01-2-2V7a2 2 0 012-2h4M5 8h1.5M5 12h.5"})}),ZS=({className:o})=>b.jsx("svg",{className:o||"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),Hg=({className:o})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:o||"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),WS=()=>b.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.546-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Vg=({className:o})=>b.jsx("svg",{className:o||"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:b.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})}),eA=({className:o,isActive:t})=>b.jsxs("svg",{className:o,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"}),t&&b.jsx("circle",{cx:"12",cy:"12",r:"11",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"2 2",className:"animate-spin-slow"})]}),tA=({className:o})=>b.jsx("svg",{className:o,fill:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M6 6h12v12H6z"})}),nA=({className:o})=>b.jsx("svg",{className:o,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),oA=({className:o})=>b.jsxs("svg",{className:o,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z",clipRule:"evenodd"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 14l-4-4m0 4l4-4"})]}),iA=({className:o})=>b.jsx("svg",{className:o,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 6l12-3"})}),lA=({className:o})=>b.jsx("svg",{className:o,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8v8m4-10v12m4-14v16m4-12v8m4-6v4"})}),aA=({isOpen:o,onClose:t,prompt:l,initialLang:i})=>{const[s,u]=K.useState(i),{t:d}=Pe();if(K.useEffect(()=>{o&&u(i)},[o,l,i]),!o||!l)return null;const{title:g,content:y}=l[s];return b.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:t,children:b.jsxs("div",{className:"bg-primary dark:bg-dark-primary rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",onClick:m=>m.stopPropagation(),children:[b.jsxs("header",{className:"p-4 border-b border-border-color dark:border-dark-border-color flex justify-between items-center",children:[b.jsx("h2",{className:"text-xl font-bold text-accent dark:text-dark-accent",children:g}),b.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-tertiary dark:hover:bg-dark-tertiary transition-colors",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-secondary-text",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsx("main",{className:"p-6 flex-grow overflow-y-auto",children:b.jsx("pre",{className:"text-sm whitespace-pre-wrap font-sans text-primary-text dark:text-dark-primary-text",children:y})}),b.jsxs("footer",{className:"p-4 border-t border-border-color dark:border-dark-border-color flex justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex items-center gap-1 text-sm font-semibold flex-shrink-0",children:[b.jsx("button",{onClick:()=>u("en"),className:`p-2 rounded transition-colors ${s==="en"?"text-accent dark:text-dark-accent bg-accent/10":"text-secondary-text hover:bg-tertiary dark:hover:bg-dark-tertiary"}`,children:"EN"}),b.jsx("span",{className:"text-border-color dark:text-dark-border-color",children:"/"}),b.jsx("button",{onClick:()=>u("it"),className:`p-2 rounded transition-colors ${s==="it"?"text-accent dark:text-dark-accent bg-accent/10":"text-secondary-text hover:bg-tertiary dark:hover:bg-dark-tertiary"}`,children:"IT"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-secondary-text hover:bg-tertiary dark:hover:bg-dark-tertiary rounded-lg transition-colors",children:d("examplePromptModal.close")}),b.jsx("button",{onClick:()=>{navigator.clipboard.writeText(y)},className:"px-5 py-2.5 bg-accent hover:bg-accent-hover text-accent-text dark:text-dark-accent-text font-bold rounded-lg transition-colors",children:d("examplePromptModal.copyPrompt")})]})]})]})})},qh=({title:o,children:t,startOpen:l=!1})=>{const[i,s]=K.useState(l),u=pl.useId();return b.jsxs("div",{className:"w-full bg-secondary dark:bg-dark-secondary border border-border-color dark:border-dark-border-color rounded-lg",children:[b.jsxs("button",{onClick:()=>s(!i),className:"w-full flex justify-between items-center p-4 text-left","aria-expanded":i,"aria-controls":`collapsible-content-${u}`,children:[b.jsx("div",{className:"flex-grow",children:o}),b.jsx("div",{className:`transition-transform duration-200 flex-shrink-0 ml-4 ${i?"rotate-180":""}`,children:b.jsx(zg,{})})]}),b.jsx("div",{id:`collapsible-content-${u}`,className:`transition-all duration-300 ease-in-out grid ${i?"grid-rows-[1fr]":"grid-rows-[0fr]"}`,children:b.jsx("div",{className:"overflow-hidden",children:b.jsx("div",{className:"p-4 pt-0",children:t})})})]})},rA=({prompt:o,onReadMore:t,onCopy:l})=>{const{appSettings:i,t:s}=Pe(),{title:u,content:d}=o[i.globalLanguage],g=K.useMemo(()=>d.substring(0,150)+"...",[d]);return b.jsxs("div",{className:"bg-tertiary dark:bg-dark-tertiary p-4 rounded-lg flex flex-col h-full",children:[b.jsx("h4",{className:"font-bold text-accent dark:text-dark-accent mb-2",children:u}),b.jsx("p",{className:"text-xs flex-grow whitespace-pre-wrap text-secondary-text dark:text-dark-secondary-text",children:g}),b.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2 pt-2 border-t border-border-color/50 dark:border-dark-border-color/50",children:[b.jsx("button",{onClick:t,className:"text-xs text-accent dark:text-dark-accent hover:underline font-semibold",children:s("readMore")}),b.jsx("button",{onClick:()=>l(d),className:"w-auto text-xs bg-secondary dark:bg-dark-secondary hover:bg-border-color dark:hover:bg-dark-border-color text-primary-text dark:text-dark-primary-text font-bold py-2 px-3 rounded-md transition-colors",children:s("copy")})]})]})},sA=({onProcessFiles:o})=>{const[t,l]=K.useState([]),[i,s]=K.useState(!1),u=K.useRef(null),d=K.useRef(null),{t:g}=Pe(),y=w=>w.type==="application/zip"||w.name.endsWith(".zip"),m=pl.useCallback(w=>{if(!w)return;const k=Array.from(w).map(H=>({file:H,decompress:y(H)}));l(H=>[...H,...k])},[]),v=pl.useCallback(w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?s(!0):w.type==="dragleave"&&s(!1)},[]),x=pl.useCallback(w=>{w.preventDefault(),w.stopPropagation(),s(!1),m(w.dataTransfer.files)},[m]),E=w=>{m(w.target.files),w.target.value=""},C=w=>l(k=>k.filter((H,M)=>M!==w)),A=(w,k)=>l(H=>H.map((M,O)=>O===w?{...M,decompress:k}:M)),_=()=>{t.length>0&&o(t)};return t.length===0?b.jsxs("div",{onDragEnter:v,onDragLeave:v,onDragOver:v,onDrop:x,className:`flex flex-col items-center justify-center w-full h-64 border-2 border-dashed rounded-lg cursor-pointer transition-colors relative ${i?"border-accent dark:border-dark-accent bg-tertiary dark:bg-dark-tertiary":"border-border-color dark:border-dark-border-color bg-secondary dark:bg-dark-secondary hover:bg-tertiary dark:hover:bg-dark-tertiary"}`,children:[b.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6",onClick:()=>{var w;return(w=u.current)==null?void 0:w.click()},children:[b.jsx(Gg,{}),b.jsxs("p",{className:"mb-2 text-sm",children:[b.jsx("span",{className:"font-semibold text-accent dark:text-dark-accent",children:g("fileUploader.clickToUpload")})," ",g("fileUploader.dragAndDrop")]}),b.jsx("p",{className:"text-xs text-secondary-text",children:g("fileUploader.uploadHint")}),b.jsx("button",{type:"button",onClick:w=>{var k;w.stopPropagation(),(k=d.current)==null||k.click()},className:"mt-4 px-4 py-2 bg-tertiary dark:bg-dark-tertiary text-sm font-semibold rounded-md border border-border-color dark:border-dark-border-color hover:bg-border-color dark:hover:bg-dark-border-color transition-colors z-10",children:g("fileUploader.selectFolder")})]}),b.jsx("input",{ref:u,id:"dropzone-file",type:"file",className:"hidden",onChange:E,multiple:!0}),b.jsx("input",{ref:d,id:"directory-picker",type:"file",webkitdirectory:"",className:"hidden",onChange:E})]}):b.jsxs("div",{className:"w-full flex flex-col items-center space-y-4 p-4 bg-secondary/80 dark:bg-dark-secondary/80 rounded-lg",children:[b.jsx("div",{className:"w-full max-h-64 h-auto overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:t.map((w,k)=>b.jsxs("div",{className:"flex items-center justify-between bg-tertiary dark:bg-dark-tertiary p-2 rounded-md animate-fade-in",children:[b.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[b.jsx(Ka,{className:"h-5 w-5 text-secondary-text dark:text-dark-secondary-text flex-shrink-0"}),b.jsxs("div",{className:"flex flex-col overflow-hidden",children:[b.jsx("span",{className:"truncate text-sm font-medium",children:w.file.name}),b.jsxs("span",{className:"text-xs text-secondary-text dark:text-dark-secondary-text",children:[(w.file.size/1024).toFixed(1)," KB"]})]})]}),b.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0 ml-2",children:[y(w.file)&&t.length>1&&b.jsxs("label",{className:"flex items-center gap-1.5 text-xs cursor-pointer select-none hover:text-accent dark:hover:text-dark-accent",children:[b.jsx("input",{type:"checkbox",checked:w.decompress,onChange:H=>A(k,H.target.checked),className:"h-4 w-4 rounded text-accent dark:text-dark-accent focus:ring-accent bg-primary dark:bg-dark-primary border-border-color dark:border-dark-border-color"}),g("fileUploader.decompress")]}),b.jsx("button",{onClick:()=>C(k),className:"text-secondary-text hover:text-danger dark:hover:text-dark-danger transition-colors","aria-label":`Rimuovi ${w.file.name}`,children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]},`${w.file.name}-${w.file.lastModified}-${k}`))}),b.jsxs("div",{className:"w-full flex items-center justify-between pt-4 border-t border-border-color dark:border-dark-border-color",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>l([]),className:"px-3 py-2 text-sm text-secondary-text hover:text-danger dark:hover:text-dark-danger rounded-md transition-colors",children:g("fileUploader.removeAll")}),b.jsx("button",{onClick:()=>{var w;return(w=u.current)==null?void 0:w.click()},className:"px-3 py-2 text-sm text-secondary-text hover:text-primary-text hover:bg-tertiary dark:hover:bg-dark-tertiary rounded-md transition-colors",children:g("fileUploader.addMore")})]}),b.jsx("button",{onClick:_,disabled:t.length===0,className:"inline-flex items-center justify-center px-8 py-3 bg-accent hover:bg-accent-hover text-accent-text dark:text-dark-accent-text font-bold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105",children:g("fileUploader.generateProject")})]}),b.jsx("input",{ref:u,id:"dropzone-file-hidden",type:"file",className:"hidden",onChange:E,multiple:!0}),b.jsx("input",{ref:d,id:"directory-picker-hidden",type:"file",webkitdirectory:"",className:"hidden",onChange:E})]})},uA=({onProcessFiles:o})=>{const[t,l]=K.useState(""),[i,s]=K.useState(!1),[u,d]=K.useState(""),{t:g}=Pe(),y=async m=>{if(m.preventDefault(),!!t){s(!0),d("");try{const v=await qS(t);o([{file:v,decompress:!0}])}catch(v){d(v.message||g("githubUploader.error"))}finally{s(!1)}}};return b.jsxs("form",{onSubmit:y,className:"w-full flex flex-col items-center space-y-4",children:[b.jsx("input",{className:"w-full bg-secondary dark:bg-dark-secondary border-2 border-border-color dark:border-dark-border-color rounded-lg p-4 focus:ring-accent dark:focus:ring-dark-accent focus:border-accent dark:focus:border-dark-accent transition-colors placeholder-secondary-text",placeholder:g("githubUploader.placeholder"),value:t,onChange:m=>l(m.target.value),disabled:i}),u&&b.jsx("p",{className:"text-sm text-danger dark:text-dark-danger",children:u}),b.jsx("button",{type:"submit",disabled:!t||i,className:"inline-flex items-center justify-center px-8 py-3 bg-accent hover:bg-accent-hover text-accent-text dark:text-dark-accent-text font-bold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105",children:i?b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):g("githubUploader.fetchAndGenerate")})]})},cA=({onProcessInput:o})=>{const[t,l]=K.useState(!1),[i,s]=K.useState(""),[u,d]=K.useState(""),g=K.useRef(null),{t:y}=Pe(),m=async x=>{var C;const E=(C=x.target.files)==null?void 0:C[0];if(E){l(!0),s("");try{const A=await ES(E);o(A)}catch(A){s(A.message||y("geminiUploader.errorFile")),l(!1)}g.current&&(g.current.value="")}},v=async x=>{if(x.preventDefault(),!!u.trim()){l(!0),s("");try{const E=await CS(u);o(E)}catch(E){s(E.message||y("geminiUploader.errorLink")),l(!1)}}};return b.jsxs("div",{className:"w-full flex flex-col items-center space-y-6 text-center py-4",children:[b.jsx("h3",{className:"text-xl font-bold",children:y("geminiUploader.title")}),b.jsx("p",{className:"text-sm text-secondary-text max-w-lg",children:y("geminiUploader.description")}),i&&b.jsx("p",{className:"w-full p-2 text-sm bg-danger-bg text-danger dark:bg-dark-danger-bg dark:text-dark-danger rounded-md",children:i}),b.jsxs("form",{onSubmit:v,className:"w-full flex flex-col sm:flex-row items-center gap-3",children:[b.jsx("input",{className:"flex-grow w-full bg-tertiary dark:bg-dark-tertiary border border-border-color dark:border-dark-border-color rounded-lg p-3 text-sm focus:ring-accent dark:focus:ring-dark-accent focus:border-accent dark:focus:border-dark-accent transition-colors placeholder-secondary-text",placeholder:y("geminiUploader.linkPlaceholder"),value:u,onChange:x=>d(x.target.value),disabled:t}),b.jsx("button",{type:"submit",disabled:!u||t,className:"w-full sm:w-auto inline-flex items-center justify-center px-6 py-3 bg-accent/90 hover:bg-accent text-accent-text dark:text-dark-accent-text font-bold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y(t?"geminiUploader.loading":"geminiUploader.linkButton")})]}),b.jsxs("div",{className:"relative flex items-center w-full my-2",children:[b.jsx("div",{className:"flex-grow border-t border-border-color dark:border-dark-border-color"}),b.jsx("span",{className:"flex-shrink mx-4 text-xs text-secondary-text uppercase",children:y("geminiUploader.or")}),b.jsx("div",{className:"flex-grow border-t border-border-color dark:border-dark-border-color"})]}),b.jsxs("button",{type:"button",onClick:()=>{var x;return(x=g.current)==null?void 0:x.click()},disabled:t,className:"inline-flex items-center justify-center gap-3 px-8 py-3 bg-tertiary dark:bg-dark-tertiary border border-border-color dark:border-dark-border-color hover:bg-border-color dark:hover:bg-dark-border-color text-primary-text dark:text-dark-primary-text font-bold rounded-lg transition-colors disabled:opacity-50",children:[b.jsx(Gg,{className:"w-6 h-6 text-current"}),b.jsx("span",{children:y("geminiUploader.uploadButton")})]}),b.jsx("input",{ref:g,type:"file",className:"hidden",onChange:m,accept:".txt,.md"})]})},dA=({onTextSubmit:o,text:t,setText:l})=>{const{t:i}=Pe();return b.jsxs("form",{onSubmit:s=>{s.preventDefault(),t.trim()&&o(t.trim())},className:"w-full flex flex-col items-center space-y-4",children:[b.jsxs("div",{className:"relative w-full",children:[b.jsx("textarea",{className:"w-full h-64 bg-secondary dark:bg-dark-secondary border-2 border-border-color dark:border-dark-border-color rounded-lg p-4 pr-10 focus:ring-accent dark:focus:ring-dark-accent focus:border-accent dark:focus:border-dark-accent transition-colors placeholder-secondary-text",placeholder:i("pastedTextUploader.placeholder"),value:t,onChange:s=>l(s.target.value)}),t&&b.jsx("button",{type:"button",onClick:()=>l(""),className:"absolute top-3 right-3 p-1 rounded-full text-secondary-text hover:text-primary-text hover:bg-tertiary dark:hover:bg-dark-tertiary transition-colors","aria-label":i("pastedTextUploader.clearText"),children:b.jsx(ZS,{className:"w-5 h-5"})})]}),b.jsx("button",{type:"submit",disabled:!t.trim(),className:"inline-flex items-center justify-center px-8 py-3 bg-accent hover:bg-accent-hover text-accent-text dark:text-dark-accent-text font-bold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105",children:i("pastedTextUploader.generateProject")})]})},fA=o=>{const{onProcessInput:t,onStartScaffoldingChat:l,onGoToAISettings:i,pastedText:s,setPastedText:u,inputMode:d,setInputMode:g}=o,{t:y,appSettings:m}=Pe(),[v,x]=K.useState(null);return b.jsxs(b.Fragment,{children:[b.jsx(aA,{isOpen:!!v,onClose:()=>x(null),prompt:v,initialLang:m.globalLanguage}),b.jsx(qh,{startOpen:!0,title:b.jsxs(b.Fragment,{children:[b.jsx("h2",{className:"text-2xl font-bold",children:y("startWithTitle")}),b.jsx("p",{className:"text-secondary-text text-sm font-normal mt-1",children:y("startWithDescription")})]}),children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 w-full",children:[b.jsxs("div",{className:"bg-tertiary dark:bg-dark-tertiary p-6 rounded-lg flex flex-col justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold",children:y("newConversationTitle")}),b.jsx("p",{className:"text-secondary-text text-sm font-normal mt-1 mb-6",children:y("newConversationDescription")})]}),b.jsx("div",{className:"flex w-full justify-center",children:b.jsxs("button",{onClick:l,className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-accent/90 hover:bg-accent text-accent-text dark:text-dark-accent-text font-bold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[b.jsx(qg,{className:"h-5 w-5"})," ",y("openArchitectChat")]})})]}),b.jsx(qh,{title:b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"text-xl font-bold",children:y("examplePromptsTitle")}),b.jsx("p",{className:"text-secondary-text text-sm font-normal mt-1",children:y("examplePromptsDescription")})]}),children:b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:wS.map((E,C)=>b.jsx(rA,{prompt:E,onReadMore:()=>x(E),onCopy:A=>{u(A),g("text")}},C))})})]})}),b.jsxs("div",{className:"w-full max-w-4xl mx-auto flex flex-col items-center space-y-6 p-6 bg-secondary/50 dark:bg-dark-secondary/50 border border-border-color dark:border-dark-border-color rounded-lg mt-8",children:[b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"inline-flex rounded-md shadow-sm bg-tertiary dark:bg-dark-tertiary p-1",children:[b.jsx("button",{onClick:()=>g("upload"),className:`px-4 py-2 text-sm font-medium rounded-l-md transition-colors ${d==="upload"?"bg-accent text-accent-text":"hover:bg-tertiary"}`,children:y("uploadFiles")}),b.jsx("button",{onClick:()=>g("github"),className:`px-4 py-2 text-sm font-medium transition-colors ${d==="github"?"bg-accent text-accent-text":"hover:bg-tertiary"}`,children:y("githubRepo")}),b.jsx("button",{onClick:()=>g("gemini"),className:`px-4 py-2 text-sm font-medium transition-colors ${d==="gemini"?"bg-accent text-accent-text":"hover:bg-tertiary"}`,children:y("geminiChat")}),b.jsx("button",{onClick:()=>g("text"),className:`px-4 py-2 text-sm font-medium rounded-r-md transition-colors ${d==="text"?"bg-accent text-accent-text":"hover:bg-tertiary"}`,children:y("pastedText")})]})}),d==="upload"&&b.jsx(sA,{onProcessFiles:E=>t(E)}),d==="github"&&b.jsx(uA,{onProcessFiles:E=>t(E)}),d==="gemini"&&b.jsx(cA,{onProcessInput:E=>t(E)}),d==="text"&&b.jsx(dA,{onTextSubmit:E=>t(E),text:s,setText:u})]}),b.jsxs("div",{className:"w-full text-center mt-4",children:[b.jsx("p",{className:"text-sm text-secondary-text",children:y("advancedSettingsPrompt")}),b.jsxs("button",{onClick:i,className:"mt-2 inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold text-accent dark:text-dark-accent hover:bg-accent/10 dark:hover:bg-dark-accent/10 rounded-lg transition-colors",children:[b.jsx(kt,{className:"h-4 w-4"}),y("goToAISettings")]})]})]})},Hh=({selectedFile:o,onSuggestName:t,onFindFiles:l,onGenerateTests:i,onImproveReadme:s,onRefactor:u,onAddDocstrings:d,onGenerateWiki:g,onCodeReview:y})=>{const[m,v]=K.useState(null),{t:x,aiConfig:E}=Pe(),C={name:x("loading.name"),files:x("loading.files"),readme:x("loading.readme"),refactor:x("loading.refactor"),tests:x("loading.tests"),docstrings:x("loading.docstrings"),wiki:x("loading.wiki"),review:x("loading.review")},A=async(H,M)=>{v(H);try{await M()}catch(O){alert(x("aiActionFailed",O instanceof Error?O.message:"Unknown error"))}finally{v(null)}},_=(o==null?void 0:o.path.toLowerCase())==="readme.md",w=o&&!_&&(o==null?void 0:o.path.match(/\.(js|ts|jsx|tsx|py|html|css|json)$/)),k=({action:H,icon:M,label:O,tooltip:j,onClick:z,disabled:X=!1})=>{const L=m===H,P=`
            flex flex-col items-center justify-center p-2 aspect-square
            bg-tertiary dark:bg-dark-tertiary rounded-lg transition-colors
            hover:bg-border-color dark:hover:bg-dark-border-color
            disabled:opacity-50 disabled:cursor-not-allowed text-center
            ${L?"bg-accent/10 dark:bg-dark-accent/10 animate-pulse":""}
        `;return b.jsx("button",{onClick:z,disabled:m!==null||X,className:P,title:X?j:x("tooltips.base")+j,children:L?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-accent dark:border-dark-accent mb-1.5"}),b.jsx("span",{className:"text-xs font-semibold",children:C[H]})]}):b.jsxs(b.Fragment,{children:[M,b.jsx("span",{className:"text-xs font-semibold mt-1.5",children:O})]})})};return b.jsxs("div",{className:"w-full h-full bg-secondary dark:bg-dark-secondary p-4 rounded-lg border border-border-color dark:border-dark-border-color flex flex-col",children:[b.jsx("h3",{className:"font-bold text-lg text-center mb-4 flex-shrink-0",children:x("aiAssistant")}),b.jsx("div",{className:"flex-grow overflow-y-auto",children:b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[b.jsx(k,{action:"name",icon:b.jsx(XS,{className:"h-5 w-5 text-accent dark:text-dark-accent"}),label:x("suggestName"),tooltip:x("tooltips.suggestName"),onClick:()=>A("name",t)}),b.jsx(k,{action:"files",icon:b.jsx(Ka,{className:"h-5 w-5 text-accent dark:text-dark-accent"}),label:x("findFiles"),tooltip:x("tooltips.findFiles"),onClick:()=>A("files",l)}),b.jsx(k,{action:"wiki",icon:b.jsx(kt,{className:"h-5 w-5 text-accent dark:text-dark-accent"}),label:x("generateWiki"),tooltip:E.wikiGenerator.enabled?x("tooltips.generateWiki"):x("tooltips.disabled"),onClick:()=>A("wiki",g),disabled:!E.wikiGenerator.enabled}),b.jsx(k,{action:"readme",icon:b.jsx(kt,{className:"h-5 w-5 text-accent dark:text-dark-accent"}),label:x("improveReadme"),tooltip:x(_?"tooltips.improveReadme":"tooltips.improveReadme_disabled"),onClick:()=>A("readme",s),disabled:!_}),b.jsx(k,{action:"refactor",icon:b.jsx(kt,{className:"h-5 w-5 text-accent dark:text-dark-accent"}),label:x("refactorCode"),tooltip:x(w?"tooltips.refactorCode":"tooltips.refactorCode_disabled"),onClick:()=>A("refactor",u),disabled:!w}),b.jsx(k,{action:"docstrings",icon:b.jsx(QS,{className:"h-5 w-5 text-accent dark:text-dark-accent"}),label:x("addDocstrings"),tooltip:x(w?"tooltips.addDocstrings":"tooltips.addDocstrings_disabled"),onClick:()=>A("docstrings",d),disabled:!w}),b.jsx(k,{action:"tests",icon:b.jsx($S,{className:"h-5 w-5 text-accent dark:text-dark-accent"}),label:x("writeTests"),tooltip:x(w?"tooltips.writeTests":"tooltips.writeTests_disabled"),onClick:()=>A("tests",()=>i(o.path)),disabled:!w}),b.jsx(k,{action:"review",icon:b.jsx(Hg,{className:"h-5 w-5 text-accent dark:text-dark-accent"}),label:x("codeReview"),tooltip:x(w?"tooltips.codeReview":"tooltips.codeReview_disabled"),onClick:()=>A("review",y),disabled:!w})]})})]})},pA=({isOpen:o,onClose:t,suggestions:l,setSuggestions:i,onAccept:s})=>{const{t:u}=Pe();if(!o)return null;const d=y=>{i(m=>m.map(v=>v.id===y?{...v,accepted:!v.accepted}:v))},g=()=>{const y=l.filter(m=>m.accepted).map(({path:m,content:v})=>({path:m,content:v}));s(y)};return b.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:t,children:b.jsxs("div",{className:"bg-primary dark:bg-dark-primary rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",onClick:y=>y.stopPropagation(),children:[b.jsxs("header",{className:"p-4 border-b border-border-color dark:border-dark-border-color",children:[b.jsx("h2",{className:"text-xl font-bold",children:u("suggestionModal.title")}),b.jsx("p",{className:"text-sm text-secondary-text dark:text-dark-secondary-text",children:u("suggestionModal.description")})]}),b.jsx("main",{className:"p-4 flex-grow overflow-y-auto space-y-3",children:l.map(y=>b.jsxs("div",{className:"border border-border-color dark:border-dark-border-color rounded-lg",children:[b.jsxs("div",{className:"flex items-center p-3 bg-secondary dark:bg-dark-secondary rounded-t-lg",children:[b.jsx("input",{type:"checkbox",checked:y.accepted,onChange:()=>d(y.id),className:"h-5 w-5 rounded text-accent dark:text-dark-accent focus:ring-accent bg-primary dark:bg-dark-primary border-border-color dark:border-dark-border-color"}),b.jsx("label",{htmlFor:`suggestion-${y.id}`,className:"ml-3 font-mono text-sm",children:y.path})]}),b.jsx("pre",{className:"p-3 text-xs bg-tertiary/50 dark:bg-dark-tertiary/50 max-h-40 overflow-auto rounded-b-lg",children:b.jsx("code",{children:y.content})})]},y.id))}),b.jsxs("footer",{className:"p-4 border-t border-border-color dark:border-dark-border-color flex justify-end items-center gap-4",children:[b.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-secondary-text hover:bg-tertiary dark:hover:bg-dark-tertiary rounded-lg transition-colors",children:u("suggestionModal.cancel")}),b.jsx("button",{onClick:g,className:"px-5 py-2.5 bg-accent hover:bg-accent-hover text-accent-text dark:text-dark-accent-text font-bold rounded-lg transition-colors",children:u("suggestionModal.acceptSelected")})]})]})})};function $n(){}$n.prototype={diff:function(t,l){var i,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.callback;typeof s=="function"&&(u=s,s={}),this.options=s;var d=this;function g(O){return u?(setTimeout(function(){u(void 0,O)},0),!0):O}t=this.castInput(t),l=this.castInput(l),t=this.removeEmpty(this.tokenize(t)),l=this.removeEmpty(this.tokenize(l));var y=l.length,m=t.length,v=1,x=y+m;s.maxEditLength&&(x=Math.min(x,s.maxEditLength));var E=(i=s.timeout)!==null&&i!==void 0?i:1/0,C=Date.now()+E,A=[{oldPos:-1,lastComponent:void 0}],_=this.extractCommon(A[0],l,t,0);if(A[0].oldPos+1>=m&&_+1>=y)return g([{value:this.join(l),count:l.length}]);var w=-1/0,k=1/0;function H(){for(var O=Math.max(w,-v);O<=Math.min(k,v);O+=2){var j=void 0,z=A[O-1],X=A[O+1];z&&(A[O-1]=void 0);var L=!1;if(X){var P=X.oldPos-O;L=X&&0<=P&&P<y}var B=z&&z.oldPos+1<m;if(!L&&!B){A[O]=void 0;continue}if(!B||L&&z.oldPos+1<X.oldPos?j=d.addToPath(X,!0,void 0,0):j=d.addToPath(z,void 0,!0,1),_=d.extractCommon(j,l,t,O),j.oldPos+1>=m&&_+1>=y)return g(mA(d,j.lastComponent,l,t,d.useLongestToken));A[O]=j,j.oldPos+1>=m&&(k=Math.min(k,O-1)),_+1>=y&&(w=Math.max(w,O+1))}v++}if(u)(function O(){setTimeout(function(){if(v>x||Date.now()>C)return u();H()||O()},0)})();else for(;v<=x&&Date.now()<=C;){var M=H();if(M)return M}},addToPath:function(t,l,i,s){var u=t.lastComponent;return u&&u.added===l&&u.removed===i?{oldPos:t.oldPos+s,lastComponent:{count:u.count+1,added:l,removed:i,previousComponent:u.previousComponent}}:{oldPos:t.oldPos+s,lastComponent:{count:1,added:l,removed:i,previousComponent:u}}},extractCommon:function(t,l,i,s){for(var u=l.length,d=i.length,g=t.oldPos,y=g-s,m=0;y+1<u&&g+1<d&&this.equals(l[y+1],i[g+1]);)y++,g++,m++;return m&&(t.lastComponent={count:m,previousComponent:t.lastComponent}),t.oldPos=g,y},equals:function(t,l){return this.options.comparator?this.options.comparator(t,l):t===l||this.options.ignoreCase&&t.toLowerCase()===l.toLowerCase()},removeEmpty:function(t){for(var l=[],i=0;i<t.length;i++)t[i]&&l.push(t[i]);return l},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function mA(o,t,l,i,s){for(var u=[],d;t;)u.push(t),d=t.previousComponent,delete t.previousComponent,t=d;u.reverse();for(var g=0,y=u.length,m=0,v=0;g<y;g++){var x=u[g];if(x.removed){if(x.value=o.join(i.slice(v,v+x.count)),v+=x.count,g&&u[g-1].added){var C=u[g-1];u[g-1]=u[g],u[g]=C}}else{if(!x.added&&s){var E=l.slice(m,m+x.count);E=E.map(function(_,w){var k=i[v+w];return k.length>_.length?k:_}),x.value=o.join(E)}else x.value=o.join(l.slice(m,m+x.count));m+=x.count,x.added||(v+=x.count)}}var A=u[y-1];return y>1&&typeof A.value=="string"&&(A.added||A.removed)&&o.equals("",A.value)&&(u[y-2].value+=A.value,u.pop()),u}var Vh=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Bh=/\S/,Bg=new $n;Bg.equals=function(o,t){return this.options.ignoreCase&&(o=o.toLowerCase(),t=t.toLowerCase()),o===t||this.options.ignoreWhitespace&&!Bh.test(o)&&!Bh.test(t)};Bg.tokenize=function(o){for(var t=o.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),l=0;l<t.length-1;l++)!t[l+1]&&t[l+2]&&Vh.test(t[l])&&Vh.test(t[l+2])&&(t[l]+=t[l+2],t.splice(l+1,2),l--);return t};var oc=new $n;oc.tokenize=function(o){this.options.stripTrailingCr&&(o=o.replace(/\r\n/g,`
`));var t=[],l=o.split(/(\n|\r\n)/);l[l.length-1]||l.pop();for(var i=0;i<l.length;i++){var s=l[i];i%2&&!this.options.newlineIsToken?t[t.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),t.push(s))}return t};function hA(o,t,l){return oc.diff(o,t,l)}var gA=new $n;gA.tokenize=function(o){return o.split(/(\S.+?[.!?])(?=\s+|$)/)};var yA=new $n;yA.tokenize=function(o){return o.split(/([{}:;,]|\s+)/)};function za(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?za=function(t){return typeof t}:za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(o)}function Au(o){return vA(o)||bA(o)||xA(o)||TA()}function vA(o){if(Array.isArray(o))return Bu(o)}function bA(o){if(typeof Symbol<"u"&&Symbol.iterator in Object(o))return Array.from(o)}function xA(o,t){if(o){if(typeof o=="string")return Bu(o,t);var l=Object.prototype.toString.call(o).slice(8,-1);if(l==="Object"&&o.constructor&&(l=o.constructor.name),l==="Map"||l==="Set")return Array.from(o);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Bu(o,t)}}function Bu(o,t){(t==null||t>o.length)&&(t=o.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=o[l];return i}function TA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var EA=Object.prototype.toString,hl=new $n;hl.useLongestToken=!0;hl.tokenize=oc.tokenize;hl.castInput=function(o){var t=this.options,l=t.undefinedReplacement,i=t.stringifyReplacer,s=i===void 0?function(u,d){return typeof d>"u"?l:d}:i;return typeof o=="string"?o:JSON.stringify(Ou(o,null,null,s),s,"  ")};hl.equals=function(o,t){return $n.prototype.equals.call(hl,o.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Ou(o,t,l,i,s){t=t||[],l=l||[],i&&(o=i(s,o));var u;for(u=0;u<t.length;u+=1)if(t[u]===o)return l[u];var d;if(EA.call(o)==="[object Array]"){for(t.push(o),d=new Array(o.length),l.push(d),u=0;u<o.length;u+=1)d[u]=Ou(o[u],t,l,i,s);return t.pop(),l.pop(),d}if(o&&o.toJSON&&(o=o.toJSON()),za(o)==="object"&&o!==null){t.push(o),d={},l.push(d);var g=[],y;for(y in o)o.hasOwnProperty(y)&&g.push(y);for(g.sort(),u=0;u<g.length;u+=1)y=g[u],d[y]=Ou(o[y],t,l,i,y);t.pop(),l.pop()}else d=o;return d}var Fu=new $n;Fu.tokenize=function(o){return o.slice()};Fu.join=Fu.removeEmpty=function(o){return o};function CA(o,t,l,i,s,u,d){d||(d={}),typeof d.context>"u"&&(d.context=4);var g=hA(l,i,d);if(!g)return;g.push({value:"",lines:[]});function y(k){return k.map(function(H){return" "+H})}for(var m=[],v=0,x=0,E=[],C=1,A=1,_=function(H){var M=g[H],O=M.lines||M.value.replace(/\n$/,"").split(`
`);if(M.lines=O,M.added||M.removed){var j;if(!v){var z=g[H-1];v=C,x=A,z&&(E=d.context>0?y(z.lines.slice(-d.context)):[],v-=E.length,x-=E.length)}(j=E).push.apply(j,Au(O.map(function(be){return(M.added?"+":"-")+be}))),M.added?A+=O.length:C+=O.length}else{if(v)if(O.length<=d.context*2&&H<g.length-2){var X;(X=E).push.apply(X,Au(y(O)))}else{var L,P=Math.min(O.length,d.context);(L=E).push.apply(L,Au(y(O.slice(0,P))));var B={oldStart:v,oldLines:C-v+P,newStart:x,newLines:A-x+P,lines:E};if(H>=g.length-2&&O.length<=d.context){var ee=/\n$/.test(l),ie=/\n$/.test(i),re=O.length==0&&E.length>B.oldLines;!ee&&re&&l.length>0&&E.splice(B.oldLines,0,"\\ No newline at end of file"),(!ee&&!re||!ie)&&E.push("\\ No newline at end of file")}m.push(B),v=0,x=0,E=[]}C+=O.length,A+=O.length}},w=0;w<g.length;w++)_(w);return{oldFileName:o,newFileName:t,oldHeader:s,newHeader:u,hunks:m}}function Og(o){if(Array.isArray(o))return o.map(Og).join(`
`);var t=[];o.oldFileName==o.newFileName&&t.push("Index: "+o.oldFileName),t.push("==================================================================="),t.push("--- "+o.oldFileName+(typeof o.oldHeader>"u"?"":"	"+o.oldHeader)),t.push("+++ "+o.newFileName+(typeof o.newHeader>"u"?"":"	"+o.newHeader));for(var l=0;l<o.hunks.length;l++){var i=o.hunks[l];i.oldLines===0&&(i.oldStart-=1),i.newLines===0&&(i.newStart-=1),t.push("@@ -"+i.oldStart+","+i.oldLines+" +"+i.newStart+","+i.newLines+" @@"),t.push.apply(t,i.lines)}return t.join(`
`)+`
`}function SA(o,t,l,i,s,u,d){return Og(CA(o,t,l,i,s,u,d))}var Qe;(function(o){o.INSERT="insert",o.DELETE="delete",o.CONTEXT="context"})(Qe||(Qe={}));const AA={LINE_BY_LINE:"line-by-line"},_A={NONE:"none"},NA={WORD:"word"};var ci;(function(o){o.AUTO="auto",o.DARK="dark",o.LIGHT="light"})(ci||(ci={}));const wA=["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"],MA=RegExp("["+wA.join("\\")+"]","g");function RA(o){return o.replace(MA,"\\$&")}function Oh(o){return o&&o.replace(/\\/g,"/")}function kA(o){let t,l,i,s=0;for(t=0,i=o.length;t<i;t++)l=o.charCodeAt(t),s=(s<<5)-s+l,s|=0;return s}function Fh(o,t){const l=o.split(".");return l.length>1?l[l.length-1]:t}function Jh(o,t){return t.reduce((l,i)=>l||o.startsWith(i),!1)}const Yh=["a/","b/","i/","w/","c/","o/"];function jn(o,t,l){const i=l!==void 0?[...Yh,l]:Yh,s=t?new RegExp(`^${RA(t)} "?(.+?)"?$`):new RegExp('^"?(.+?)"?$'),[,u=""]=s.exec(o)||[],d=i.find(y=>u.indexOf(y)===0);return(d?u.slice(d.length):u).replace(/\s+\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}(?:\.\d+)? [+-]\d{4}.*$/,"")}function IA(o,t){return jn(o,"---",t)}function DA(o,t){return jn(o,"+++",t)}function LA(o,t={}){const l=[];let i=null,s=null,u=null,d=null,g=null,y=null,m=null;const v="--- ",x="+++ ",E="@@",C=/^old mode (\d{6})/,A=/^new mode (\d{6})/,_=/^deleted file mode (\d{6})/,w=/^new file mode (\d{6})/,k=/^copy from "?(.+)"?/,H=/^copy to "?(.+)"?/,M=/^rename from "?(.+)"?/,O=/^rename to "?(.+)"?/,j=/^similarity index (\d+)%/,z=/^dissimilarity index (\d+)%/,X=/^index ([\da-z]+)\.\.([\da-z]+)\s*(\d{6})?/,L=/^Binary files (.*) and (.*) differ/,P=/^GIT binary patch/,B=/^index ([\da-z]+),([\da-z]+)\.\.([\da-z]+)/,ee=/^mode (\d{6}),(\d{6})\.\.(\d{6})/,ie=/^new file mode (\d{6})/,re=/^deleted file mode (\d{6}),(\d{6})/,be=o.replace(/\\ No newline at end of file/g,"").replace(/\r\n?/g,`
`).split(`
`);function te(){s!==null&&i!==null&&(i.blocks.push(s),s=null)}function D(){i!==null&&(!i.oldName&&y!==null&&(i.oldName=y),!i.newName&&m!==null&&(i.newName=m),i.newName&&(l.push(i),i=null)),y=null,m=null}function Z(){te(),D(),i={blocks:[],deletedLines:0,addedLines:0}}function oe(N){te();let J;i!==null&&((J=/^@@ -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@.*/.exec(N))?(i.isCombined=!1,u=parseInt(J[1],10),g=parseInt(J[2],10)):(J=/^@@@ -(\d+)(?:,\d+)? -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@@.*/.exec(N))?(i.isCombined=!0,u=parseInt(J[1],10),d=parseInt(J[2],10),g=parseInt(J[3],10)):(N.startsWith(E)&&console.error("Failed to parse lines, starting in 0!"),u=0,g=0,i.isCombined=!1)),s={lines:[],oldStartLine:u,oldStartLine2:d,newStartLine:g,header:N}}function ce(N){if(i===null||s===null||u===null||g===null)return;const J={content:N},G=i.isCombined?["+ "," +","++"]:["+"],ne=i.isCombined?["- "," -","--"]:["-"];Jh(N,G)?(i.addedLines++,J.type=Qe.INSERT,J.oldNumber=void 0,J.newNumber=g++):Jh(N,ne)?(i.deletedLines++,J.type=Qe.DELETE,J.oldNumber=u++,J.newNumber=void 0):(J.type=Qe.CONTEXT,J.oldNumber=u++,J.newNumber=g++),s.lines.push(J)}function me(N,J){let G=J;for(;G<be.length-3;){if(N.startsWith("diff"))return!1;if(be[G].startsWith(v)&&be[G+1].startsWith(x)&&be[G+2].startsWith(E))return!0;G++}return!1}return be.forEach((N,J)=>{if(!N||N.startsWith("*"))return;let G;const ne=be[J-1],le=be[J+1],de=be[J+2];if(N.startsWith("diff --git")||N.startsWith("diff --combined")){if(Z(),(G=/^diff --git "?([a-ciow]\/.+)"? "?([a-ciow]\/.+)"?/.exec(N))&&(y=jn(G[1],void 0,t.dstPrefix),m=jn(G[2],void 0,t.srcPrefix)),i===null)throw new Error("Where is my file !!!");i.isGitDiff=!0;return}if(N.startsWith("Binary files")&&!(i!=null&&i.isGitDiff)){if(Z(),(G=/^Binary files "?([a-ciow]\/.+)"? and "?([a-ciow]\/.+)"? differ/.exec(N))&&(y=jn(G[1],void 0,t.dstPrefix),m=jn(G[2],void 0,t.srcPrefix)),i===null)throw new Error("Where is my file !!!");i.isBinary=!0;return}if((!i||!i.isGitDiff&&i&&N.startsWith(v)&&le.startsWith(x)&&de.startsWith(E))&&Z(),i!=null&&i.isTooBig)return;if(i&&(typeof t.diffMaxChanges=="number"&&i.addedLines+i.deletedLines>t.diffMaxChanges||typeof t.diffMaxLineLength=="number"&&N.length>t.diffMaxLineLength)){i.isTooBig=!0,i.addedLines=0,i.deletedLines=0,i.blocks=[],s=null;const Oe=typeof t.diffTooBigMessage=="function"?t.diffTooBigMessage(l.length):"Diff too big to be displayed";oe(Oe);return}if(N.startsWith(v)&&le.startsWith(x)||N.startsWith(x)&&ne.startsWith(v)){if(i&&!i.oldName&&N.startsWith("--- ")&&(G=IA(N,t.srcPrefix))){i.oldName=G,i.language=Fh(i.oldName,i.language);return}if(i&&!i.newName&&N.startsWith("+++ ")&&(G=DA(N,t.dstPrefix))){i.newName=G,i.language=Fh(i.newName,i.language);return}}if(i&&(N.startsWith(E)||i.isGitDiff&&i.oldName&&i.newName&&!s)){oe(N);return}if(s&&(N.startsWith("+")||N.startsWith("-")||N.startsWith(" "))){ce(N);return}const he=!me(N,J);if(i===null)throw new Error("Where is my file !!!");(G=C.exec(N))?i.oldMode=G[1]:(G=A.exec(N))?i.newMode=G[1]:(G=_.exec(N))?(i.deletedFileMode=G[1],i.isDeleted=!0):(G=w.exec(N))?(i.newFileMode=G[1],i.isNew=!0):(G=k.exec(N))?(he&&(i.oldName=G[1]),i.isCopy=!0):(G=H.exec(N))?(he&&(i.newName=G[1]),i.isCopy=!0):(G=M.exec(N))?(he&&(i.oldName=G[1]),i.isRename=!0):(G=O.exec(N))?(he&&(i.newName=G[1]),i.isRename=!0):(G=L.exec(N))?(i.isBinary=!0,i.oldName=jn(G[1],void 0,t.srcPrefix),i.newName=jn(G[2],void 0,t.dstPrefix),oe("Binary file")):P.test(N)?(i.isBinary=!0,oe(N)):(G=j.exec(N))?i.unchangedPercentage=parseInt(G[1],10):(G=z.exec(N))?i.changedPercentage=parseInt(G[1],10):(G=X.exec(N))?(i.checksumBefore=G[1],i.checksumAfter=G[2],G[3]&&(i.mode=G[3])):(G=B.exec(N))?(i.checksumBefore=[G[2],G[3]],i.checksumAfter=G[1]):(G=ee.exec(N))?(i.oldMode=[G[2],G[3]],i.newMode=G[1]):(G=ie.exec(N))?(i.newFileMode=G[1],i.isNew=!0):(G=re.exec(N))&&(i.deletedFileMode=G[1],i.isDeleted=!0)}),te(),D(),l}function Tn(){}Tn.prototype={diff:function(t,l){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.callback;typeof i=="function"&&(s=i,i={}),this.options=i;var u=this;function d(_){return s?(setTimeout(function(){s(void 0,_)},0),!0):_}t=this.castInput(t),l=this.castInput(l),t=this.removeEmpty(this.tokenize(t)),l=this.removeEmpty(this.tokenize(l));var g=l.length,y=t.length,m=1,v=g+y;i.maxEditLength&&(v=Math.min(v,i.maxEditLength));var x=[{newPos:-1,components:[]}],E=this.extractCommon(x[0],l,t,0);if(x[0].newPos+1>=g&&E+1>=y)return d([{value:this.join(l),count:l.length}]);function C(){for(var _=-1*m;_<=m;_+=2){var w=void 0,k=x[_-1],H=x[_+1],M=(H?H.newPos:0)-_;k&&(x[_-1]=void 0);var O=k&&k.newPos+1<g,j=H&&0<=M&&M<y;if(!O&&!j){x[_]=void 0;continue}if(!O||j&&k.newPos<H.newPos?(w=PA(H),u.pushComponent(w.components,void 0,!0)):(w=k,w.newPos++,u.pushComponent(w.components,!0,void 0)),M=u.extractCommon(w,l,t,_),w.newPos+1>=g&&M+1>=y)return d(UA(u,w.components,l,t,u.useLongestToken));x[_]=w}m++}if(s)(function _(){setTimeout(function(){if(m>v)return s();C()||_()},0)})();else for(;m<=v;){var A=C();if(A)return A}},pushComponent:function(t,l,i){var s=t[t.length-1];s&&s.added===l&&s.removed===i?t[t.length-1]={count:s.count+1,added:l,removed:i}:t.push({count:1,added:l,removed:i})},extractCommon:function(t,l,i,s){for(var u=l.length,d=i.length,g=t.newPos,y=g-s,m=0;g+1<u&&y+1<d&&this.equals(l[g+1],i[y+1]);)g++,y++,m++;return m&&t.components.push({count:m}),t.newPos=g,y},equals:function(t,l){return this.options.comparator?this.options.comparator(t,l):t===l||this.options.ignoreCase&&t.toLowerCase()===l.toLowerCase()},removeEmpty:function(t){for(var l=[],i=0;i<t.length;i++)t[i]&&l.push(t[i]);return l},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function UA(o,t,l,i,s){for(var u=0,d=t.length,g=0,y=0;u<d;u++){var m=t[u];if(m.removed){if(m.value=o.join(i.slice(y,y+m.count)),y+=m.count,u&&t[u-1].added){var x=t[u-1];t[u-1]=t[u],t[u]=x}}else{if(!m.added&&s){var v=l.slice(g,g+m.count);v=v.map(function(C,A){var _=i[y+A];return _.length>C.length?_:C}),m.value=o.join(v)}else m.value=o.join(l.slice(g,g+m.count));g+=m.count,m.added||(y+=m.count)}}var E=t[d-1];return d>1&&typeof E.value=="string"&&(E.added||E.removed)&&o.equals("",E.value)&&(t[d-2].value+=E.value,t.pop()),t}function PA(o){return{newPos:o.newPos,components:o.components.slice(0)}}var GA=new Tn;function zA(o,t,l){return GA.diff(o,t,l)}var jh=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Kh=/\S/,ic=new Tn;ic.equals=function(o,t){return this.options.ignoreCase&&(o=o.toLowerCase(),t=t.toLowerCase()),o===t||this.options.ignoreWhitespace&&!Kh.test(o)&&!Kh.test(t)};ic.tokenize=function(o){for(var t=o.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),l=0;l<t.length-1;l++)!t[l+1]&&t[l+2]&&jh.test(t[l])&&jh.test(t[l+2])&&(t[l]+=t[l+2],t.splice(l+1,2),l--);return t};function qA(o,t,l){return ic.diff(o,t,l)}var Fg=new Tn;Fg.tokenize=function(o){var t=[],l=o.split(/(\n|\r\n)/);l[l.length-1]||l.pop();for(var i=0;i<l.length;i++){var s=l[i];i%2&&!this.options.newlineIsToken?t[t.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),t.push(s))}return t};var HA=new Tn;HA.tokenize=function(o){return o.split(/(\S.+?[.!?])(?=\s+|$)/)};var VA=new Tn;VA.tokenize=function(o){return o.split(/([{}:;,]|\s+)/)};function qa(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(t){return typeof t}:qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(o)}var BA=Object.prototype.toString,gl=new Tn;gl.useLongestToken=!0;gl.tokenize=Fg.tokenize;gl.castInput=function(o){var t=this.options,l=t.undefinedReplacement,i=t.stringifyReplacer,s=i===void 0?function(u,d){return typeof d>"u"?l:d}:i;return typeof o=="string"?o:JSON.stringify(Ju(o,null,null,s),s,"  ")};gl.equals=function(o,t){return Tn.prototype.equals.call(gl,o.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Ju(o,t,l,i,s){t=t||[],l=l||[],i&&(o=i(s,o));var u;for(u=0;u<t.length;u+=1)if(t[u]===o)return l[u];var d;if(BA.call(o)==="[object Array]"){for(t.push(o),d=new Array(o.length),l.push(d),u=0;u<o.length;u+=1)d[u]=Ju(o[u],t,l,i,s);return t.pop(),l.pop(),d}if(o&&o.toJSON&&(o=o.toJSON()),qa(o)==="object"&&o!==null){t.push(o),d={},l.push(d);var g=[],y;for(y in o)o.hasOwnProperty(y)&&g.push(y);for(g.sort(),u=0;u<g.length;u+=1)y=g[u],d[y]=Ju(o[y],t,l,i,y);t.pop(),l.pop()}else d=o;return d}var Yu=new Tn;Yu.tokenize=function(o){return o.slice()};Yu.join=Yu.removeEmpty=function(o){return o};function OA(o,t){if(o.length===0)return t.length;if(t.length===0)return o.length;const l=[];let i;for(i=0;i<=t.length;i++)l[i]=[i];let s;for(s=0;s<=o.length;s++)l[0][s]=s;for(i=1;i<=t.length;i++)for(s=1;s<=o.length;s++)t.charAt(i-1)===o.charAt(s-1)?l[i][s]=l[i-1][s-1]:l[i][s]=Math.min(l[i-1][s-1]+1,Math.min(l[i][s-1]+1,l[i-1][s]+1));return l[t.length][o.length]}function lc(o){return(t,l)=>{const i=o(t).trim(),s=o(l).trim();return OA(i,s)/(i.length+s.length)}}function ac(o){function t(i,s,u=new Map){let d=1/0,g;for(let y=0;y<i.length;++y)for(let m=0;m<s.length;++m){const v=JSON.stringify([i[y],s[m]]);let x;u.has(v)&&(x=u.get(v))||(x=o(i[y],s[m]),u.set(v,x)),x<d&&(d=x,g={indexA:y,indexB:m,score:d})}return g}function l(i,s,u=0,d=new Map){const g=t(i,s,d);if(!g||i.length+s.length<3)return[[i,s]];const y=i.slice(0,g.indexA),m=s.slice(0,g.indexB),v=[i[g.indexA]],x=[s[g.indexB]],E=g.indexA+1,C=g.indexB+1,A=i.slice(E),_=s.slice(C),w=l(y,m,u+1,d),k=l(v,x,u+1,d),H=l(A,_,u+1,d);let M=k;return(g.indexA>0||g.indexB>0)&&(M=w.concat(M)),(i.length>E||s.length>C)&&(M=M.concat(H)),M}return l}const ft={INSERTS:"d2h-ins",DELETES:"d2h-del",CONTEXT:"d2h-cntx",INFO:"d2h-info",INSERT_CHANGES:"d2h-ins d2h-change",DELETE_CHANGES:"d2h-del d2h-change"},$a={matching:_A.NONE,matchWordsThreshold:.25,maxLineLengthHighlight:1e4,diffStyle:NA.WORD,colorScheme:ci.LIGHT},Wt="/",Jg=lc(o=>o.value),FA=ac(Jg);function _u(o){return o.indexOf("dev/null")!==-1}function JA(o){return o.replace(/(<ins[^>]*>((.|\n)*?)<\/ins>)/g,"")}function YA(o){return o.replace(/(<del[^>]*>((.|\n)*?)<\/del>)/g,"")}function Oa(o){switch(o){case Qe.CONTEXT:return ft.CONTEXT;case Qe.INSERT:return ft.INSERTS;case Qe.DELETE:return ft.DELETES}}function rc(o){switch(o){case ci.DARK:return"d2h-dark-color-scheme";case ci.AUTO:return"d2h-auto-color-scheme";case ci.LIGHT:default:return"d2h-light-color-scheme"}}function jA(o){return o?2:1}function di(o){return o.slice(0).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}function en(o,t,l=!0){const i=jA(t);return{prefix:o.substring(0,i),content:l?di(o.substring(i)):o.substring(i)}}function Xa(o){const t=Oh(o.oldName),l=Oh(o.newName);if(t!==l&&!_u(t)&&!_u(l)){const i=[],s=[],u=t.split(Wt),d=l.split(Wt),g=u.length,y=d.length;let m=0,v=g-1,x=y-1;for(;m<v&&m<x&&u[m]===d[m];)i.push(d[m]),m+=1;for(;v>m&&x>m&&u[v]===d[x];)s.unshift(d[x]),v-=1,x-=1;const E=i.join(Wt),C=s.join(Wt),A=u.slice(m,v+1).join(Wt),_=d.slice(m,x+1).join(Wt);return E.length&&C.length?E+Wt+"{"+A+" → "+_+"}"+Wt+C:E.length?E+Wt+"{"+A+" → "+_+"}":C.length?"{"+A+" → "+_+"}"+Wt+C:t+" → "+l}else return _u(l)?t:l}function sc(o){return`d2h-${kA(Xa(o)).toString().slice(-6)}`}function uc(o){let t="file-changed";return o.isRename||o.isCopy?t="file-renamed":o.isNew?t="file-added":o.isDeleted?t="file-deleted":o.newName!==o.oldName&&(t="file-renamed"),t}function Yg(o,t,l,i={}){const{matching:s,maxLineLengthHighlight:u,matchWordsThreshold:d,diffStyle:g}=Object.assign(Object.assign({},$a),i),y=en(o,l,!1),m=en(t,l,!1);if(y.content.length>u||m.content.length>u)return{oldLine:{prefix:y.prefix,content:di(y.content)},newLine:{prefix:m.prefix,content:di(m.content)}};const v=g==="char"?zA(y.content,m.content):qA(y.content,m.content),x=[];if(g==="word"&&s==="words"){const C=v.filter(w=>w.removed),A=v.filter(w=>w.added);FA(A,C).forEach(w=>{w[0].length===1&&w[1].length===1&&Jg(w[0][0],w[1][0])<d&&(x.push(w[0][0]),x.push(w[1][0]))})}const E=v.reduce((C,A)=>{const _=A.added?"ins":A.removed?"del":null,w=x.indexOf(A)>-1?' class="d2h-change"':"",k=di(A.value);return _!==null?`${C}<${_}${w}>${k}</${_}>`:`${C}${k}`},"");return{oldLine:{prefix:y.prefix,content:JA(E)},newLine:{prefix:m.prefix,content:YA(E)}}}const $h="file-summary",KA="icon",$A={colorScheme:$a.colorScheme};class XA{constructor(t,l={}){this.hoganUtils=t,this.config=Object.assign(Object.assign({},$A),l)}render(t){const l=t.map(i=>this.hoganUtils.render($h,"line",{fileHtmlId:sc(i),oldName:i.oldName,newName:i.newName,fileName:Xa(i),deletedLines:"-"+i.deletedLines,addedLines:"+"+i.addedLines},{fileIcon:this.hoganUtils.template(KA,uc(i))})).join(`
`);return this.hoganUtils.render($h,"wrapper",{colorScheme:rc(this.config.colorScheme),filesNumber:t.length,files:l})}}const jg=Object.assign(Object.assign({},$a),{renderNothingWhenEmpty:!1,matchingMaxComparisons:2500,maxLineSizeInBlockForComparison:200}),dl="generic",Xh="line-by-line",QA="icon",ZA="tag";class WA{constructor(t,l={}){this.hoganUtils=t,this.config=Object.assign(Object.assign({},jg),l)}render(t){const l=t.map(i=>{let s;return i.blocks.length?s=this.generateFileHtml(i):s=this.generateEmptyDiff(),this.makeFileDiffHtml(i,s)}).join(`
`);return this.hoganUtils.render(dl,"wrapper",{colorScheme:rc(this.config.colorScheme),content:l})}makeFileDiffHtml(t,l){if(this.config.renderNothingWhenEmpty&&Array.isArray(t.blocks)&&t.blocks.length===0)return"";const i=this.hoganUtils.template(Xh,"file-diff"),s=this.hoganUtils.template(dl,"file-path"),u=this.hoganUtils.template(QA,"file"),d=this.hoganUtils.template(ZA,uc(t));return i.render({file:t,fileHtmlId:sc(t),diffs:l,filePath:s.render({fileDiffName:Xa(t)},{fileIcon:u,fileTag:d})})}generateEmptyDiff(){return this.hoganUtils.render(dl,"empty-diff",{contentClass:"d2h-code-line",CSSLineClass:ft})}generateFileHtml(t){const l=ac(lc(i=>en(i.content,t.isCombined).content));return t.blocks.map(i=>{let s=this.hoganUtils.render(dl,"block-header",{CSSLineClass:ft,blockHeader:t.isTooBig?i.header:di(i.header),lineClass:"d2h-code-linenumber",contentClass:"d2h-code-line"});return this.applyLineGroupping(i).forEach(([u,d,g])=>{if(d.length&&g.length&&!u.length)this.applyRematchMatching(d,g,l).map(([y,m])=>{const{left:v,right:x}=this.processChangedLines(t,t.isCombined,y,m);s+=v,s+=x});else if(u.length)u.forEach(y=>{const{prefix:m,content:v}=en(y.content,t.isCombined);s+=this.generateSingleLineHtml(t,{type:ft.CONTEXT,prefix:m,content:v,oldNumber:y.oldNumber,newNumber:y.newNumber})});else if(d.length||g.length){const{left:y,right:m}=this.processChangedLines(t,t.isCombined,d,g);s+=y,s+=m}else console.error("Unknown state reached while processing groups of lines",u,d,g)}),s}).join(`
`)}applyLineGroupping(t){const l=[];let i=[],s=[];for(let u=0;u<t.lines.length;u++){const d=t.lines[u];(d.type!==Qe.INSERT&&s.length||d.type===Qe.CONTEXT&&i.length>0)&&(l.push([[],i,s]),i=[],s=[]),d.type===Qe.CONTEXT?l.push([[d],[],[]]):d.type===Qe.INSERT&&i.length===0?l.push([[],[],[d]]):d.type===Qe.INSERT&&i.length>0?s.push(d):d.type===Qe.DELETE&&i.push(d)}return(i.length||s.length)&&(l.push([[],i,s]),i=[],s=[]),l}applyRematchMatching(t,l,i){const s=t.length*l.length,u=Math.max.apply(null,[0].concat(t.concat(l).map(g=>g.content.length)));return s<this.config.matchingMaxComparisons&&u<this.config.maxLineSizeInBlockForComparison&&(this.config.matching==="lines"||this.config.matching==="words")?i(t,l):[[t,l]]}processChangedLines(t,l,i,s){const u={right:"",left:""},d=Math.max(i.length,s.length);for(let g=0;g<d;g++){const y=i[g],m=s[g],v=y!==void 0&&m!==void 0?Yg(y.content,m.content,l,this.config):void 0,x=y!==void 0&&y.oldNumber!==void 0?Object.assign(Object.assign({},v!==void 0?{prefix:v.oldLine.prefix,content:v.oldLine.content,type:ft.DELETE_CHANGES}:Object.assign(Object.assign({},en(y.content,l)),{type:Oa(y.type)})),{oldNumber:y.oldNumber,newNumber:y.newNumber}):void 0,E=m!==void 0&&m.newNumber!==void 0?Object.assign(Object.assign({},v!==void 0?{prefix:v.newLine.prefix,content:v.newLine.content,type:ft.INSERT_CHANGES}:Object.assign(Object.assign({},en(m.content,l)),{type:Oa(m.type)})),{oldNumber:m.oldNumber,newNumber:m.newNumber}):void 0,{left:C,right:A}=this.generateLineHtml(t,x,E);u.left+=C,u.right+=A}return u}generateLineHtml(t,l,i){return{left:this.generateSingleLineHtml(t,l),right:this.generateSingleLineHtml(t,i)}}generateSingleLineHtml(t,l){if(l===void 0)return"";const i=this.hoganUtils.render(Xh,"numbers",{oldNumber:l.oldNumber||"",newNumber:l.newNumber||""});return this.hoganUtils.render(dl,"line",{type:l.type,lineClass:"d2h-code-linenumber",contentClass:"d2h-code-line",prefix:l.prefix===" "?"&nbsp;":l.prefix,content:l.content,lineNumber:i,line:l,file:t})}}const Kg=Object.assign(Object.assign({},$a),{renderNothingWhenEmpty:!1,matchingMaxComparisons:2500,maxLineSizeInBlockForComparison:200}),fl="generic",e1="side-by-side",t1="icon",n1="tag";class o1{constructor(t,l={}){this.hoganUtils=t,this.config=Object.assign(Object.assign({},Kg),l)}render(t){const l=t.map(i=>{let s;return i.blocks.length?s=this.generateFileHtml(i):s=this.generateEmptyDiff(),this.makeFileDiffHtml(i,s)}).join(`
`);return this.hoganUtils.render(fl,"wrapper",{colorScheme:rc(this.config.colorScheme),content:l})}makeFileDiffHtml(t,l){if(this.config.renderNothingWhenEmpty&&Array.isArray(t.blocks)&&t.blocks.length===0)return"";const i=this.hoganUtils.template(e1,"file-diff"),s=this.hoganUtils.template(fl,"file-path"),u=this.hoganUtils.template(t1,"file"),d=this.hoganUtils.template(n1,uc(t));return i.render({file:t,fileHtmlId:sc(t),diffs:l,filePath:s.render({fileDiffName:Xa(t)},{fileIcon:u,fileTag:d})})}generateEmptyDiff(){return{right:"",left:this.hoganUtils.render(fl,"empty-diff",{contentClass:"d2h-code-side-line",CSSLineClass:ft})}}generateFileHtml(t){const l=ac(lc(i=>en(i.content,t.isCombined).content));return t.blocks.map(i=>{const s={left:this.makeHeaderHtml(i.header,t),right:this.makeHeaderHtml("")};return this.applyLineGroupping(i).forEach(([u,d,g])=>{if(d.length&&g.length&&!u.length)this.applyRematchMatching(d,g,l).map(([y,m])=>{const{left:v,right:x}=this.processChangedLines(t.isCombined,y,m);s.left+=v,s.right+=x});else if(u.length)u.forEach(y=>{const{prefix:m,content:v}=en(y.content,t.isCombined),{left:x,right:E}=this.generateLineHtml({type:ft.CONTEXT,prefix:m,content:v,number:y.oldNumber},{type:ft.CONTEXT,prefix:m,content:v,number:y.newNumber});s.left+=x,s.right+=E});else if(d.length||g.length){const{left:y,right:m}=this.processChangedLines(t.isCombined,d,g);s.left+=y,s.right+=m}else console.error("Unknown state reached while processing groups of lines",u,d,g)}),s}).reduce((i,s)=>({left:i.left+s.left,right:i.right+s.right}),{left:"",right:""})}applyLineGroupping(t){const l=[];let i=[],s=[];for(let u=0;u<t.lines.length;u++){const d=t.lines[u];(d.type!==Qe.INSERT&&s.length||d.type===Qe.CONTEXT&&i.length>0)&&(l.push([[],i,s]),i=[],s=[]),d.type===Qe.CONTEXT?l.push([[d],[],[]]):d.type===Qe.INSERT&&i.length===0?l.push([[],[],[d]]):d.type===Qe.INSERT&&i.length>0?s.push(d):d.type===Qe.DELETE&&i.push(d)}return(i.length||s.length)&&(l.push([[],i,s]),i=[],s=[]),l}applyRematchMatching(t,l,i){const s=t.length*l.length,u=Math.max.apply(null,[0].concat(t.concat(l).map(g=>g.content.length)));return s<this.config.matchingMaxComparisons&&u<this.config.maxLineSizeInBlockForComparison&&(this.config.matching==="lines"||this.config.matching==="words")?i(t,l):[[t,l]]}makeHeaderHtml(t,l){return this.hoganUtils.render(fl,"block-header",{CSSLineClass:ft,blockHeader:l!=null&&l.isTooBig?t:di(t),lineClass:"d2h-code-side-linenumber",contentClass:"d2h-code-side-line"})}processChangedLines(t,l,i){const s={right:"",left:""},u=Math.max(l.length,i.length);for(let d=0;d<u;d++){const g=l[d],y=i[d],m=g!==void 0&&y!==void 0?Yg(g.content,y.content,t,this.config):void 0,v=g!==void 0&&g.oldNumber!==void 0?Object.assign(Object.assign({},m!==void 0?{prefix:m.oldLine.prefix,content:m.oldLine.content,type:ft.DELETE_CHANGES}:Object.assign(Object.assign({},en(g.content,t)),{type:Oa(g.type)})),{number:g.oldNumber}):void 0,x=y!==void 0&&y.newNumber!==void 0?Object.assign(Object.assign({},m!==void 0?{prefix:m.newLine.prefix,content:m.newLine.content,type:ft.INSERT_CHANGES}:Object.assign(Object.assign({},en(y.content,t)),{type:Oa(y.type)})),{number:y.newNumber}):void 0,{left:E,right:C}=this.generateLineHtml(v,x);s.left+=E,s.right+=C}return s}generateLineHtml(t,l){return{left:this.generateSingleHtml(t),right:this.generateSingleHtml(l)}}generateSingleHtml(t){const l="d2h-code-side-linenumber",i="d2h-code-side-line";return this.hoganUtils.render(fl,"line",{type:(t==null?void 0:t.type)||`${ft.CONTEXT} d2h-emptyplaceholder`,lineClass:t!==void 0?l:`${l} d2h-code-side-emptyplaceholder`,contentClass:t!==void 0?i:`${i} d2h-code-side-emptyplaceholder`,prefix:(t==null?void 0:t.prefix)===" "?"&nbsp;":t==null?void 0:t.prefix,content:t==null?void 0:t.content,lineNumber:t==null?void 0:t.number})}}var Nu={},Qh;function i1(){return Qh||(Qh=1,(function(o){(function(t){var l=/\S/,i=/\"/g,s=/\n/g,u=/\r/g,d=/\\/g,g=/\u2028/,y=/\u2029/;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(P,B){var ee=P.length,ie=0,re=1,be=2,te=ie,D=null,Z=null,oe="",ce=[],me=!1,N=0,J=0,G="{{",ne="}}";function le(){oe.length>0&&(ce.push({tag:"_t",text:new String(oe)}),oe="")}function de(){for(var we=!0,st=J;st<ce.length;st++)if(we=t.tags[ce[st].tag]<t.tags._v||ce[st].tag=="_t"&&ce[st].text.match(l)===null,!we)return!1;return we}function he(we,st){if(le(),we&&de())for(var pt=J,Kt;pt<ce.length;pt++)ce[pt].text&&((Kt=ce[pt+1])&&Kt.tag==">"&&(Kt.indent=ce[pt].text.toString()),ce.splice(pt,1));else st||ce.push({tag:`
`});me=!1,J=ce.length}function Oe(we,st){var pt="="+ne,Kt=we.indexOf(pt,st),To=v(we.substring(we.indexOf("=",st)+1,Kt)).split(" ");return G=To[0],ne=To[To.length-1],Kt+pt.length-1}for(B&&(B=B.split(" "),G=B[0],ne=B[1]),N=0;N<ee;N++)te==ie?x(G,P,N)?(--N,le(),te=re):P.charAt(N)==`
`?he(me):oe+=P.charAt(N):te==re?(N+=G.length-1,Z=t.tags[P.charAt(N+1)],D=Z?P.charAt(N+1):"_v",D=="="?(N=Oe(P,N),te=ie):(Z&&N++,te=be),me=N):x(ne,P,N)?(ce.push({tag:D,n:v(oe),otag:G,ctag:ne,i:D=="/"?me-G.length:N+ne.length}),oe="",N+=ne.length-1,te=ie,D=="{"&&(ne=="}}"?N++:m(ce[ce.length-1]))):oe+=P.charAt(N);return he(me,!0),ce};function m(L){L.n.substr(L.n.length-1)==="}"&&(L.n=L.n.substring(0,L.n.length-1))}function v(L){return L.trim?L.trim():L.replace(/^\s*|\s*$/g,"")}function x(L,P,B){if(P.charAt(B)!=L.charAt(0))return!1;for(var ee=1,ie=L.length;ee<ie;ee++)if(P.charAt(B+ee)!=L.charAt(ee))return!1;return!0}var E={_t:!0,"\n":!0,$:!0,"/":!0};function C(L,P,B,ee){var ie=[],re=null,be=null,te=null;for(be=B[B.length-1];L.length>0;){if(te=L.shift(),be&&be.tag=="<"&&!(te.tag in E))throw new Error("Illegal content in < super tag.");if(t.tags[te.tag]<=t.tags.$||A(te,ee))B.push(te),te.nodes=C(L,te.tag,B,ee);else if(te.tag=="/"){if(B.length===0)throw new Error("Closing tag without opener: /"+te.n);if(re=B.pop(),te.n!=re.n&&!_(te.n,re.n,ee))throw new Error("Nesting error: "+re.n+" vs. "+te.n);return re.end=te.i,ie}else te.tag==`
`&&(te.last=L.length==0||L[0].tag==`
`);ie.push(te)}if(B.length>0)throw new Error("missing closing tag: "+B.pop().n);return ie}function A(L,P){for(var B=0,ee=P.length;B<ee;B++)if(P[B].o==L.n)return L.tag="#",!0}function _(L,P,B){for(var ee=0,ie=B.length;ee<ie;ee++)if(B[ee].c==L&&B[ee].o==P)return!0}function w(L){var P=[];for(var B in L)P.push('"'+M(B)+'": function(c,p,t,i) {'+L[B]+"}");return"{ "+P.join(",")+" }"}function k(L){var P=[];for(var B in L.partials)P.push('"'+M(B)+'":{name:"'+M(L.partials[B].name)+'", '+k(L.partials[B])+"}");return"partials: {"+P.join(",")+"}, subs: "+w(L.subs)}t.stringify=function(L,P,B){return"{code: function (c,p,i) { "+t.wrapMain(L.code)+" },"+k(L)+"}"};var H=0;t.generate=function(L,P,B){H=0;var ee={code:"",subs:{},partials:{}};return t.walk(L,ee),B.asString?this.stringify(ee,P,B):this.makeTemplate(ee,P,B)},t.wrapMain=function(L){return'var t=this;t.b(i=i||"");'+L+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(L,P,B){var ee=this.makePartials(L);return ee.code=new Function("c","p","i",this.wrapMain(L.code)),new this.template(ee,P,this,B)},t.makePartials=function(L){var P,B={subs:{},partials:L.partials,name:L.name};for(P in B.partials)B.partials[P]=this.makePartials(B.partials[P]);for(P in L.subs)B.subs[P]=new Function("c","p","t","i",L.subs[P]);return B};function M(L){return L.replace(d,"\\\\").replace(i,'\\"').replace(s,"\\n").replace(u,"\\r").replace(g,"\\u2028").replace(y,"\\u2029")}function O(L){return~L.indexOf(".")?"d":"f"}function j(L,P){var B="<"+(P.prefix||""),ee=B+L.n+H++;return P.partials[ee]={name:L.n,partials:{}},P.code+='t.b(t.rp("'+M(ee)+'",c,p,"'+(L.indent||"")+'"));',ee}t.codegen={"#":function(L,P){P.code+="if(t.s(t."+O(L.n)+'("'+M(L.n)+'",c,p,1),c,p,0,'+L.i+","+L.end+',"'+L.otag+" "+L.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(L.nodes,P),P.code+="});c.pop();}"},"^":function(L,P){P.code+="if(!t.s(t."+O(L.n)+'("'+M(L.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(L.nodes,P),P.code+="};"},">":j,"<":function(L,P){var B={partials:{},code:"",subs:{},inPartial:!0};t.walk(L.nodes,B);var ee=P.partials[j(L,P)];ee.subs=B.subs,ee.partials=B.partials},$:function(L,P){var B={subs:{},code:"",partials:P.partials,prefix:L.n};t.walk(L.nodes,B),P.subs[L.n]=B.code,P.inPartial||(P.code+='t.sub("'+M(L.n)+'",c,p,i);')},"\n":function(L,P){P.code+=X('"\\n"'+(L.last?"":" + i"))},_v:function(L,P){P.code+="t.b(t.v(t."+O(L.n)+'("'+M(L.n)+'",c,p,0)));'},_t:function(L,P){P.code+=X('"'+M(L.text)+'"')},"{":z,"&":z};function z(L,P){P.code+="t.b(t.t(t."+O(L.n)+'("'+M(L.n)+'",c,p,0)));'}function X(L){return"t.b("+L+");"}t.walk=function(L,P){for(var B,ee=0,ie=L.length;ee<ie;ee++)B=t.codegen[L[ee].tag],B&&B(L[ee],P);return P},t.parse=function(L,P,B){return B=B||{},C(L,"",[],B.sectionTags||[])},t.cache={},t.cacheKey=function(L,P){return[L,!!P.asString,!!P.disableLambda,P.delimiters,!!P.modelGet].join("||")},t.compile=function(L,P){P=P||{};var B=t.cacheKey(L,P),ee=this.cache[B];if(ee){var ie=ee.partials;for(var re in ie)delete ie[re].instance;return ee}return ee=this.generate(this.parse(this.scan(L,P.delimiters),L,P),L,P),this.cache[B]=ee}})(o)})(Nu)),Nu}var wu={},Zh;function l1(){return Zh||(Zh=1,(function(o){(function(t){t.Template=function(C,A,_,w){C=C||{},this.r=C.code||this.r,this.c=_,this.options=w||{},this.text=A||"",this.partials=C.partials||{},this.subs=C.subs||{},this.buf=""},t.Template.prototype={r:function(C,A,_){return""},v:x,t:v,render:function(A,_,w){return this.ri([A],_||{},w)},ri:function(C,A,_){return this.r(C,A,_)},ep:function(C,A){var _=this.partials[C],w=A[_.name];if(_.instance&&_.base==w)return _.instance;if(typeof w=="string"){if(!this.c)throw new Error("No compiler available.");w=this.c.compile(w,this.options)}if(!w)return null;if(this.partials[C].base=w,_.subs){A.stackText||(A.stackText={});for(key in _.subs)A.stackText[key]||(A.stackText[key]=this.activeSub!==void 0&&A.stackText[this.activeSub]?A.stackText[this.activeSub]:this.text);w=i(w,_.subs,_.partials,this.stackSubs,this.stackPartials,A.stackText)}return this.partials[C].instance=w,w},rp:function(C,A,_,w){var k=this.ep(C,_);return k?k.ri(A,_,w):""},rs:function(C,A,_){var w=C[C.length-1];if(!E(w)){_(C,A,this);return}for(var k=0;k<w.length;k++)C.push(w[k]),_(C,A,this),C.pop()},s:function(C,A,_,w,k,H,M){var O;return E(C)&&C.length===0?!1:(typeof C=="function"&&(C=this.ms(C,A,_,w,k,H,M)),O=!!C,!w&&O&&A&&A.push(typeof C=="object"?C:A[A.length-1]),O)},d:function(C,A,_,w){var k,H=C.split("."),M=this.f(H[0],A,_,w),O=this.options.modelGet,j=null;if(C==="."&&E(A[A.length-2]))M=A[A.length-1];else for(var z=1;z<H.length;z++)k=l(H[z],M,O),k!==void 0?(j=M,M=k):M="";return w&&!M?!1:(!w&&typeof M=="function"&&(A.push(j),M=this.mv(M,A,_),A.pop()),M)},f:function(C,A,_,w){for(var k=!1,H=null,M=!1,O=this.options.modelGet,j=A.length-1;j>=0;j--)if(H=A[j],k=l(C,H,O),k!==void 0){M=!0;break}return M?(!w&&typeof k=="function"&&(k=this.mv(k,A,_)),k):w?!1:""},ls:function(C,A,_,w,k){var H=this.options.delimiters;return this.options.delimiters=k,this.b(this.ct(v(C.call(A,w)),A,_)),this.options.delimiters=H,!1},ct:function(C,A,_){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(C,this.options).render(A,_)},b:function(C){this.buf+=C},fl:function(){var C=this.buf;return this.buf="",C},ms:function(C,A,_,w,k,H,M){var O,j=A[A.length-1],z=C.call(j);return typeof z=="function"?w?!0:(O=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(z,j,_,O.substring(k,H),M)):z},mv:function(C,A,_){var w=A[A.length-1],k=C.call(w);return typeof k=="function"?this.ct(v(k.call(w)),w,_):k},sub:function(C,A,_,w){var k=this.subs[C];k&&(this.activeSub=C,k(A,_,this,w),this.activeSub=!1)}};function l(C,A,_){var w;return A&&typeof A=="object"&&(A[C]!==void 0?w=A[C]:_&&A.get&&typeof A.get=="function"&&(w=A.get(C))),w}function i(C,A,_,w,k,H){function M(){}M.prototype=C;function O(){}O.prototype=C.subs;var j,z=new M;z.subs=new O,z.subsText={},z.buf="",w=w||{},z.stackSubs=w,z.subsText=H;for(j in A)w[j]||(w[j]=A[j]);for(j in w)z.subs[j]=w[j];k=k||{},z.stackPartials=k;for(j in _)k[j]||(k[j]=_[j]);for(j in k)z.partials[j]=k[j];return z}var s=/&/g,u=/</g,d=/>/g,g=/\'/g,y=/\"/g,m=/[&<>\"\']/;function v(C){return String(C??"")}function x(C){return C=v(C),m.test(C)?C.replace(s,"&amp;").replace(u,"&lt;").replace(d,"&gt;").replace(g,"&#39;").replace(y,"&quot;"):C}var E=Array.isArray||function(C){return Object.prototype.toString.call(C)==="[object Array]"}})(o)})(wu)),wu}var Mu,Wh;function a1(){if(Wh)return Mu;Wh=1;var o=i1();return o.Template=l1().Template,o.template=o.Template,Mu=o,Mu}var Ye=a1();const Ze={};Ze["file-summary-line"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<li class="d2h-file-list-line">'),i.b(`
`+l),i.b('    <span class="d2h-file-name-wrapper">'),i.b(`
`+l),i.b(i.rp("<fileIcon0",o,t,"      ")),i.b('      <a href="#'),i.b(i.v(i.f("fileHtmlId",o,t,0))),i.b('" class="d2h-file-name">'),i.b(i.v(i.f("fileName",o,t,0))),i.b("</a>"),i.b(`
`+l),i.b('      <span class="d2h-file-stats">'),i.b(`
`+l),i.b('          <span class="d2h-lines-added">'),i.b(i.v(i.f("addedLines",o,t,0))),i.b("</span>"),i.b(`
`+l),i.b('          <span class="d2h-lines-deleted">'),i.b(i.v(i.f("deletedLines",o,t,0))),i.b("</span>"),i.b(`
`+l),i.b("      </span>"),i.b(`
`+l),i.b("    </span>"),i.b(`
`+l),i.b("</li>"),i.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}}},subs:{}});Ze["file-summary-wrapper"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<div class="d2h-file-list-wrapper '),i.b(i.v(i.f("colorScheme",o,t,0))),i.b('">'),i.b(`
`+l),i.b('    <div class="d2h-file-list-header">'),i.b(`
`+l),i.b('        <span class="d2h-file-list-title">Files changed ('),i.b(i.v(i.f("filesNumber",o,t,0))),i.b(")</span>"),i.b(`
`+l),i.b('        <a class="d2h-file-switch d2h-hide">hide</a>'),i.b(`
`+l),i.b('        <a class="d2h-file-switch d2h-show">show</a>'),i.b(`
`+l),i.b("    </div>"),i.b(`
`+l),i.b('    <ol class="d2h-file-list">'),i.b(`
`+l),i.b("    "),i.b(i.t(i.f("files",o,t,0))),i.b(`
`+l),i.b("    </ol>"),i.b(`
`+l),i.b("</div>"),i.fl()},partials:{},subs:{}});Ze["generic-block-header"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b("<tr>"),i.b(`
`+l),i.b('    <td class="'),i.b(i.v(i.f("lineClass",o,t,0))),i.b(" "),i.b(i.v(i.d("CSSLineClass.INFO",o,t,0))),i.b('"></td>'),i.b(`
`+l),i.b('    <td class="'),i.b(i.v(i.d("CSSLineClass.INFO",o,t,0))),i.b('">'),i.b(`
`+l),i.b('        <div class="'),i.b(i.v(i.f("contentClass",o,t,0))),i.b('">'),i.s(i.f("blockHeader",o,t,1),o,t,0,156,173,"{{ }}")&&(i.rs(o,t,function(s,u,d){d.b(d.t(d.f("blockHeader",s,u,0)))}),o.pop()),i.s(i.f("blockHeader",o,t,1),o,t,1,0,0,"")||i.b("&nbsp;"),i.b("</div>"),i.b(`
`+l),i.b("    </td>"),i.b(`
`+l),i.b("</tr>"),i.fl()},partials:{},subs:{}});Ze["generic-empty-diff"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b("<tr>"),i.b(`
`+l),i.b('    <td class="'),i.b(i.v(i.d("CSSLineClass.INFO",o,t,0))),i.b('">'),i.b(`
`+l),i.b('        <div class="'),i.b(i.v(i.f("contentClass",o,t,0))),i.b('">'),i.b(`
`+l),i.b("            File without changes"),i.b(`
`+l),i.b("        </div>"),i.b(`
`+l),i.b("    </td>"),i.b(`
`+l),i.b("</tr>"),i.fl()},partials:{},subs:{}});Ze["generic-file-path"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<span class="d2h-file-name-wrapper">'),i.b(`
`+l),i.b(i.rp("<fileIcon0",o,t,"    ")),i.b('    <span class="d2h-file-name">'),i.b(i.v(i.f("fileDiffName",o,t,0))),i.b("</span>"),i.b(`
`+l),i.b(i.rp("<fileTag1",o,t,"    ")),i.b("</span>"),i.b(`
`+l),i.b('<label class="d2h-file-collapse">'),i.b(`
`+l),i.b('    <input class="d2h-file-collapse-input" type="checkbox" name="viewed" value="viewed">'),i.b(`
`+l),i.b("    Viewed"),i.b(`
`+l),i.b("</label>"),i.fl()},partials:{"<fileIcon0":{name:"fileIcon",partials:{},subs:{}},"<fileTag1":{name:"fileTag",partials:{},subs:{}}},subs:{}});Ze["generic-line"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b("<tr>"),i.b(`
`+l),i.b('    <td class="'),i.b(i.v(i.f("lineClass",o,t,0))),i.b(" "),i.b(i.v(i.f("type",o,t,0))),i.b('">'),i.b(`
`+l),i.b("      "),i.b(i.t(i.f("lineNumber",o,t,0))),i.b(`
`+l),i.b("    </td>"),i.b(`
`+l),i.b('    <td class="'),i.b(i.v(i.f("type",o,t,0))),i.b('">'),i.b(`
`+l),i.b('        <div class="'),i.b(i.v(i.f("contentClass",o,t,0))),i.b('">'),i.b(`
`+l),i.s(i.f("prefix",o,t,1),o,t,0,162,238,"{{ }}")&&(i.rs(o,t,function(s,u,d){d.b('            <span class="d2h-code-line-prefix">'),d.b(d.t(d.f("prefix",s,u,0))),d.b("</span>"),d.b(`
`+l)}),o.pop()),i.s(i.f("prefix",o,t,1),o,t,1,0,0,"")||(i.b('            <span class="d2h-code-line-prefix">&nbsp;</span>'),i.b(`
`+l)),i.s(i.f("content",o,t,1),o,t,0,371,445,"{{ }}")&&(i.rs(o,t,function(s,u,d){d.b('            <span class="d2h-code-line-ctn">'),d.b(d.t(d.f("content",s,u,0))),d.b("</span>"),d.b(`
`+l)}),o.pop()),i.s(i.f("content",o,t,1),o,t,1,0,0,"")||(i.b('            <span class="d2h-code-line-ctn"><br></span>'),i.b(`
`+l)),i.b("        </div>"),i.b(`
`+l),i.b("    </td>"),i.b(`
`+l),i.b("</tr>"),i.fl()},partials:{},subs:{}});Ze["generic-wrapper"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<div class="d2h-wrapper '),i.b(i.v(i.f("colorScheme",o,t,0))),i.b('">'),i.b(`
`+l),i.b("    "),i.b(i.t(i.f("content",o,t,0))),i.b(`
`+l),i.b("</div>"),i.fl()},partials:{},subs:{}});Ze["icon-file-added"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-added" height="16" title="added" version="1.1" viewBox="0 0 14 16"'),i.b(`
`+l),i.b('     width="14">'),i.b(`
`+l),i.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path>'),i.b(`
`+l),i.b("</svg>"),i.fl()},partials:{},subs:{}});Ze["icon-file-changed"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-changed" height="16" title="modified" version="1.1"'),i.b(`
`+l),i.b('     viewBox="0 0 14 16" width="14">'),i.b(`
`+l),i.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path>'),i.b(`
`+l),i.b("</svg>"),i.fl()},partials:{},subs:{}});Ze["icon-file-deleted"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-deleted" height="16" title="removed" version="1.1"'),i.b(`
`+l),i.b('     viewBox="0 0 14 16" width="14">'),i.b(`
`+l),i.b('    <path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM11 9H3V7h8v2z"></path>'),i.b(`
`+l),i.b("</svg>"),i.fl()},partials:{},subs:{}});Ze["icon-file-renamed"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<svg aria-hidden="true" class="d2h-icon d2h-moved" height="16" title="renamed" version="1.1"'),i.b(`
`+l),i.b('     viewBox="0 0 14 16" width="14">'),i.b(`
`+l),i.b('    <path d="M6 9H3V7h3V4l5 4-5 4V9z m8-7v12c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h12c0.55 0 1 0.45 1 1z m-1 0H1v12h12V2z"></path>'),i.b(`
`+l),i.b("</svg>"),i.fl()},partials:{},subs:{}});Ze["icon-file"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<svg aria-hidden="true" class="d2h-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12">'),i.b(`
`+l),i.b('    <path d="M6 5H2v-1h4v1zM2 8h7v-1H2v1z m0 2h7v-1H2v1z m0 2h7v-1H2v1z m10-7.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V2c0-0.55 0.45-1 1-1h7.5l3.5 3.5z m-1 0.5L8 2H1v12h10V5z"></path>'),i.b(`
`+l),i.b("</svg>"),i.fl()},partials:{},subs:{}});Ze["line-by-line-file-diff"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<div id="'),i.b(i.v(i.f("fileHtmlId",o,t,0))),i.b('" class="d2h-file-wrapper" data-lang="'),i.b(i.v(i.d("file.language",o,t,0))),i.b('">'),i.b(`
`+l),i.b('    <div class="d2h-file-header">'),i.b(`
`+l),i.b("    "),i.b(i.t(i.f("filePath",o,t,0))),i.b(`
`+l),i.b("    </div>"),i.b(`
`+l),i.b('    <div class="d2h-file-diff">'),i.b(`
`+l),i.b('        <div class="d2h-code-wrapper">'),i.b(`
`+l),i.b('            <table class="d2h-diff-table">'),i.b(`
`+l),i.b('                <tbody class="d2h-diff-tbody">'),i.b(`
`+l),i.b("                "),i.b(i.t(i.f("diffs",o,t,0))),i.b(`
`+l),i.b("                </tbody>"),i.b(`
`+l),i.b("            </table>"),i.b(`
`+l),i.b("        </div>"),i.b(`
`+l),i.b("    </div>"),i.b(`
`+l),i.b("</div>"),i.fl()},partials:{},subs:{}});Ze["line-by-line-numbers"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<div class="line-num1">'),i.b(i.v(i.f("oldNumber",o,t,0))),i.b("</div>"),i.b(`
`+l),i.b('<div class="line-num2">'),i.b(i.v(i.f("newNumber",o,t,0))),i.b("</div>"),i.fl()},partials:{},subs:{}});Ze["side-by-side-file-diff"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<div id="'),i.b(i.v(i.f("fileHtmlId",o,t,0))),i.b('" class="d2h-file-wrapper" data-lang="'),i.b(i.v(i.d("file.language",o,t,0))),i.b('">'),i.b(`
`+l),i.b('    <div class="d2h-file-header">'),i.b(`
`+l),i.b("      "),i.b(i.t(i.f("filePath",o,t,0))),i.b(`
`+l),i.b("    </div>"),i.b(`
`+l),i.b('    <div class="d2h-files-diff">'),i.b(`
`+l),i.b('        <div class="d2h-file-side-diff">'),i.b(`
`+l),i.b('            <div class="d2h-code-wrapper">'),i.b(`
`+l),i.b('                <table class="d2h-diff-table">'),i.b(`
`+l),i.b('                    <tbody class="d2h-diff-tbody">'),i.b(`
`+l),i.b("                    "),i.b(i.t(i.d("diffs.left",o,t,0))),i.b(`
`+l),i.b("                    </tbody>"),i.b(`
`+l),i.b("                </table>"),i.b(`
`+l),i.b("            </div>"),i.b(`
`+l),i.b("        </div>"),i.b(`
`+l),i.b('        <div class="d2h-file-side-diff">'),i.b(`
`+l),i.b('            <div class="d2h-code-wrapper">'),i.b(`
`+l),i.b('                <table class="d2h-diff-table">'),i.b(`
`+l),i.b('                    <tbody class="d2h-diff-tbody">'),i.b(`
`+l),i.b("                    "),i.b(i.t(i.d("diffs.right",o,t,0))),i.b(`
`+l),i.b("                    </tbody>"),i.b(`
`+l),i.b("                </table>"),i.b(`
`+l),i.b("            </div>"),i.b(`
`+l),i.b("        </div>"),i.b(`
`+l),i.b("    </div>"),i.b(`
`+l),i.b("</div>"),i.fl()},partials:{},subs:{}});Ze["tag-file-added"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<span class="d2h-tag d2h-added d2h-added-tag">ADDED</span>'),i.fl()},partials:{},subs:{}});Ze["tag-file-changed"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<span class="d2h-tag d2h-changed d2h-changed-tag">CHANGED</span>'),i.fl()},partials:{},subs:{}});Ze["tag-file-deleted"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<span class="d2h-tag d2h-deleted d2h-deleted-tag">DELETED</span>'),i.fl()},partials:{},subs:{}});Ze["tag-file-renamed"]=new Ye.Template({code:function(o,t,l){var i=this;return i.b(l=l||""),i.b('<span class="d2h-tag d2h-moved d2h-moved-tag">RENAMED</span>'),i.fl()},partials:{},subs:{}});class r1{constructor({compiledTemplates:t={},rawTemplates:l={}}){const i=Object.entries(l).reduce((s,[u,d])=>{const g=Ye.compile(d,{asString:!1});return Object.assign(Object.assign({},s),{[u]:g})},{});this.preCompiledTemplates=Object.assign(Object.assign(Object.assign({},Ze),t),i)}static compile(t){return Ye.compile(t,{asString:!1})}render(t,l,i,s,u){const d=this.templateKey(t,l);try{return this.preCompiledTemplates[d].render(i,s,u)}catch{throw new Error(`Could not find template to render '${d}'`)}}template(t,l){return this.preCompiledTemplates[this.templateKey(t,l)]}templateKey(t,l){return`${t}-${l}`}}const s1=Object.assign(Object.assign(Object.assign({},jg),Kg),{outputFormat:AA.LINE_BY_LINE,drawFileList:!0});function u1(o,t={}){const l=Object.assign(Object.assign({},s1),t),i=typeof o=="string"?LA(o,l):o,s=new r1(l),{colorScheme:u}=l,d={colorScheme:u},g=l.drawFileList?new XA(s,d).render(i):"",y=l.outputFormat==="side-by-side"?new o1(s,l).render(i):new WA(s,l).render(i);return g+y}const eg=({original:o,modified:t,filePath:l,onAccept:i,onReject:s})=>{const{t:u}=Pe(),d=K.useMemo(()=>{const g=SA(l,l,o,t,"","",{context:5});return u1(g,{drawFileList:!1,matching:"lines",outputFormat:"side-by-side",renderNothingWhenEmpty:!0})},[o,t,l]);return b.jsxs("div",{className:"w-full h-full flex flex-col bg-secondary dark:bg-dark-secondary rounded-lg border border-border-color dark:border-dark-border-color",children:[b.jsxs("div",{className:"flex justify-between items-center p-3 bg-tertiary/50 dark:bg-dark-tertiary/50 border-b border-border-color dark:border-dark-border-color flex-shrink-0 flex-wrap gap-2",children:[b.jsx("span",{className:"font-mono text-sm text-accent dark:text-dark-accent",title:l,children:u("diffView.showingChanges",l)}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:s,className:"px-3 py-1 bg-danger/80 hover:bg-danger text-white text-xs font-semibold rounded-md transition-colors",children:u("diffView.reject")}),b.jsx("button",{onClick:i,className:"px-3 py-1 bg-accent hover:bg-accent-hover text-accent-text dark:text-dark-accent-text text-xs font-semibold rounded-md transition-colors",children:u("diffView.accept")})]})]}),b.jsxs("div",{className:"diff-container overflow-auto flex-grow p-4",children:[b.jsx("style",{children:`
                    .d2h-file-header { display: none; }
                    .d2h-diff-table { border-collapse: separate; border-spacing: 0 1px; width: 100%; }
                    .d2h-code-line {
                        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
                        font-size: 13px;
                        padding: 0 0.5em;
                        white-space: pre-wrap;
                        vertical-align: top;
                    }
                    .d2h-code-side-line {
                         border: 1px solid transparent;
                         border-radius: 4px;
                         padding: 2px 4px;
                         display: table-cell;
                    }
                    .d2h-code-line-prefix, .d2h-code-side-line-prefix {
                        padding-right: 0.5em;
                        user-select: none;
                        background: none !important;
                        border: none !important;
                    }
                    .d2h-info { background-color: #f1f8ff; color: #333; }
                    .d2h-del { background-color: #fee8e8; }
                    .d2h-ins { background-color: #e8fef8; }
                    .dark .d2h-info { background-color: #1f2a38; color: #e0e0e0; }
                    .dark .d2h-del { background-color: #3f1212; color: #f9d7d7; }
                    .dark .d2h-ins { background-color: #0d382f; color: #c4f9eb; }
                    .d2h-line-num1, .d2h-line-num2 {
                       color: #888;
                       background-color: transparent !important;
                       border-color: #e2e8f0 !important;
                       padding: 2px 0;
                       width: 40px;
                       min-width: 40px;
                    }
                    .dark .d2h-line-num1, .dark .d2h-line-num2 {
                        border-color: #3f3f46 !important;
                        color: #6b7280;
                    }
                `}),b.jsx("div",{dangerouslySetInnerHTML:{__html:d}})]})]})},tg=({files:o,onFileSelect:t,selectedFile:l,onAddFile:i,onDeleteFile:s})=>{const[u,d]=K.useState(!1),[g,y]=K.useState(""),{t:m}=Pe(),v=C=>{C.preventDefault(),g.trim()&&(i(g.trim()),y(""),d(!1))},x=K.useMemo(()=>{const C={};return[...o].sort((A,_)=>A.path.localeCompare(_.path)).forEach(A=>{const _=A.path.split("/");let w=C;_.forEach((k,H)=>{w[k]||(w[k]={}),H===_.length-1&&(w[k].isFile=!0),w=w[k]})}),C},[o]),E=(C,A=0,_="")=>Object.keys(C).sort((w,k)=>{const H=!!C[w].isFile,M=!!C[k].isFile;return H&&!M?1:!H&&M?-1:w.localeCompare(k)}).map(w=>{if(w==="isFile")return null;const k=_?`${_}/${w}`:w,H=C[w].isFile,M=H&&k===l;return b.jsxs("div",{children:[b.jsxs("div",{className:`group flex items-center justify-between py-1 text-sm rounded-md px-2 transition-colors ${H?"cursor-pointer hover:bg-tertiary dark:hover:bg-dark-tertiary":""} ${M?"bg-accent dark:bg-dark-accent text-accent-text dark:text-dark-accent-text font-semibold":""}`,style:{paddingLeft:`${A*20}px`},onClick:H?()=>t(k):void 0,children:[b.jsxs("div",{className:"flex items-center truncate",children:[H?b.jsx(Ka,{}):b.jsx(HS,{}),b.jsx("span",{className:"truncate",children:w})]}),H&&b.jsx("button",{onClick:O=>{O.stopPropagation(),s(k)},className:"p-1 rounded-md hover:bg-danger/50 dark:hover:bg-dark-danger/50 opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx(FS,{})})]}),!H&&b.jsx("div",{className:"w-full mt-1",children:E(C[w],A+1,k)})]},k)});return b.jsxs("div",{className:"w-full bg-secondary dark:bg-dark-secondary p-4 rounded-lg border border-border-color dark:border-dark-border-color h-full overflow-y-auto flex flex-col",children:[b.jsxs("div",{className:"flex-grow overflow-y-auto",children:[u&&b.jsxs("form",{onSubmit:v,className:"mb-4 flex gap-2",children:[b.jsx("input",{type:"text",value:g,onChange:C=>y(C.target.value),placeholder:m("fileTree.newFilePlaceholder"),className:"flex-grow bg-primary dark:bg-dark-primary border border-border-color dark:border-dark-border-color rounded-md px-2 py-1 text-xs focus:ring-accent focus:border-accent",autoFocus:!0}),b.jsx("button",{type:"submit",className:"px-2 py-1 bg-accent text-accent-text text-xs font-semibold rounded-md hover:bg-accent-hover",children:m("fileTree.add")})]}),E(x)]}),b.jsx("div",{className:"mt-4 pt-4 border-t border-border-color dark:border-dark-border-color flex-shrink-0",children:b.jsxs("button",{onClick:()=>d(C=>!C),className:"w-full flex items-center justify-center px-2 py-2 bg-tertiary dark:bg-dark-tertiary hover:bg-border-color dark:hover:bg-dark-border-color text-sm font-semibold rounded-md transition-colors",children:[b.jsx(OS,{})," ",b.jsx("span",{className:"ml-2",children:m("fileTree.addNewFile")})]})})]})},ng=({file:o,onSave:t,content:l,setContent:i,isDirty:s,setIsDirty:u})=>{const{t:d}=Pe(),g=()=>{o&&(t(o.path,l),u(!1))};return o?b.jsxs("div",{className:"w-full h-full flex flex-col bg-secondary dark:bg-dark-secondary rounded-lg border border-border-color dark:border-dark-border-color",children:[b.jsxs("div",{className:"flex justify-between items-center p-3 bg-tertiary/50 dark:bg-dark-tertiary/50 border-b border-border-color dark:border-dark-border-color flex-shrink-0 flex-wrap gap-2",children:[b.jsx("span",{className:"font-mono text-sm text-accent dark:text-dark-accent truncate",title:o.path,children:o.path}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsxs("button",{onClick:g,disabled:!s,className:"px-3 py-1 bg-accent hover:bg-accent-hover text-accent-text text-xs font-semibold rounded-md transition-colors flex items-center gap-2 disabled:bg-secondary-text dark:disabled:bg-dark-secondary-text disabled:cursor-not-allowed",children:[b.jsx(BS,{}),d(s?"fileEditor.saveChanges":"fileEditor.saved")]})})]}),b.jsx("textarea",{value:l,onChange:y=>{i(y.target.value),u(!0)},className:"w-full h-full p-4 text-sm font-mono overflow-auto flex-grow bg-primary dark:bg-dark-primary text-primary-text dark:text-dark-primary-text rounded-b-lg focus:ring-1 focus:ring-accent dark:focus:ring-dark-accent focus:outline-none","aria-label":d("fileEditor.editingAria",o.path)})]}):b.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center bg-secondary dark:bg-dark-secondary p-6 rounded-lg border-2 border-dashed border-border-color dark:border-dark-border-color text-secondary-text dark:text-dark-secondary-text",children:b.jsx("p",{className:"font-semibold text-lg",children:d("fileEditor.selectFile")})})},c1=o=>{const[t,l]=K.useState("files"),{t:i,appSettings:s}=Pe(),u=!!s.githubPat,d=K.useCallback(async()=>{if(o.parsedFiles.length===0)return;const C=new JSZip;o.parsedFiles.forEach(k=>C.file(k.path,k.content));const A=await C.generateAsync({type:"blob"}),_=URL.createObjectURL(A),w=document.createElement("a");w.href=_,w.download=`${o.projectName}.zip`,w.click(),URL.revokeObjectURL(_)},[o.parsedFiles,o.projectName]),g=(C,A)=>{o.setParsedFiles(_=>_.map(w=>w.path===C?{...w,content:A}:w))},y=C=>{if(!C||o.parsedFiles.some(A=>A.path===C)){alert(i("fileTree.invalidPath"));return}o.setParsedFiles(A=>[...A,{path:C,content:""}]),o.onFileSelect(C)},m=C=>{confirm(i("fileTree.deleteConfirmation",C))&&(o.setParsedFiles(A=>A.filter(_=>_.path!==C)),o.selectedFilePath===C&&o.onFileSelect(null))},v=C=>{o.onFileSelect(C),l("editor")},x=o.parsedFiles.find(C=>C.path===o.selectedFilePath)||null,E=o.diffData&&o.diffData.path===(x==null?void 0:x.path);return b.jsxs("div",{className:"w-full flex flex-col flex-grow min-h-0",children:[b.jsx(pA,{isOpen:o.isSuggestionModalOpen,onClose:()=>o.setIsSuggestionModalOpen(!1),suggestions:o.suggestions,setSuggestions:o.setSuggestions,onAccept:C=>{o.setParsedFiles(A=>[...A,...C]),o.setIsSuggestionModalOpen(!1)}}),b.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4 flex-shrink-0",children:[b.jsx("input",{type:"text",value:o.projectName,onChange:C=>o.setProjectName(C.target.value),className:"text-2xl font-bold bg-transparent focus:bg-tertiary dark:focus:bg-dark-tertiary p-1 rounded-md focus:outline-none focus:ring-2 focus:ring-accent"}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:o.onStartOver,className:"px-4 py-2 text-sm text-secondary-text dark:text-dark-secondary-text hover:text-primary-text dark:hover:text-dark-primary-text hover:bg-tertiary dark:hover:bg-dark-tertiary rounded-lg transition-colors",children:i("startOver")}),b.jsxs("button",{onClick:o.onGitHubExportRequest,disabled:!u,title:i(u?"githubExport.tooltip":"githubExport.disabledTooltip"),className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-secondary dark:bg-dark-secondary border border-border-color dark:border-dark-border-color text-primary-text dark:text-dark-primary-text font-bold rounded-lg transition-colors hover:bg-tertiary dark:hover:bg-dark-tertiary disabled:opacity-50 disabled:cursor-not-allowed",children:[b.jsx(Vg,{})," ",i("githubExport.button")]}),b.jsxs("button",{onClick:d,className:"inline-flex items-center justify-center px-5 py-2.5 bg-accent hover:bg-accent-hover text-accent-text dark:text-dark-accent-text font-bold rounded-lg transition-transform transform hover:scale-105",children:[b.jsx(VS,{})," ",i("downloadProject")]})]})]}),b.jsxs("div",{className:"w-full flex-grow min-h-0",children:[b.jsxs("div",{className:"hidden md:grid md:grid-cols-12 items-start gap-6 w-full h-full",children:[b.jsx("div",{className:"w-full h-full md:col-span-3 min-h-0",children:b.jsx(tg,{files:o.parsedFiles,selectedFile:o.selectedFilePath,onFileSelect:o.onFileSelect,onAddFile:y,onDeleteFile:m})}),b.jsx("div",{className:"w-full h-full md:col-span-6 min-h-0",children:E?b.jsx(eg,{original:o.diffData.original,modified:o.diffData.modified,filePath:o.diffData.path,onAccept:()=>o.onAcceptDiff(o.diffData.path,o.diffData.modified),onReject:o.onRejectDiff}):b.jsx(ng,{file:x,onSave:g,content:o.editorContent,setContent:o.setEditorContent,isDirty:o.isEditorDirty,setIsDirty:o.setIsEditorDirty})}),b.jsx("div",{className:"w-full h-full md:col-span-3 min-h-0",children:b.jsx(Hh,{selectedFile:x,onSuggestName:o.onSuggestName,onFindFiles:o.onFindFiles,onGenerateTests:o.onGenerateTests,onImproveReadme:o.onImproveReadme,onRefactor:o.onRefactorRequest,onAddDocstrings:o.onAddDocstrings,onGenerateWiki:o.onGenerateWiki,onCodeReview:o.onCodeReviewRequest})})]}),b.jsxs("div",{className:"md:hidden flex flex-col h-full",children:[b.jsxs("div",{className:"flex-grow min-h-0",children:[t==="files"&&b.jsx(tg,{files:o.parsedFiles,selectedFile:o.selectedFilePath,onFileSelect:v,onAddFile:y,onDeleteFile:m}),t==="editor"&&(E?b.jsx(eg,{original:o.diffData.original,modified:o.diffData.modified,filePath:o.diffData.path,onAccept:()=>o.onAcceptDiff(o.diffData.path,o.diffData.modified),onReject:o.onRejectDiff}):b.jsx(ng,{file:x,onSave:g,content:o.editorContent,setContent:o.setEditorContent,isDirty:o.isEditorDirty,setIsDirty:o.setIsEditorDirty})),t==="ai"&&b.jsx(Hh,{selectedFile:x,onSuggestName:o.onSuggestName,onFindFiles:o.onFindFiles,onGenerateTests:o.onGenerateTests,onImproveReadme:o.onImproveReadme,onRefactor:o.onRefactorRequest,onAddDocstrings:o.onAddDocstrings,onGenerateWiki:o.onGenerateWiki,onCodeReview:o.onCodeReviewRequest})]}),b.jsxs("div",{className:"flex-shrink-0 grid grid-cols-3 gap-2 p-2 bg-secondary dark:bg-dark-secondary border-t border-border-color dark:border-dark-border-color mt-2 rounded-lg",children:[b.jsxs("button",{onClick:()=>l("files"),className:`flex flex-col items-center justify-center p-2 rounded-md transition-colors ${t==="files"?"text-accent dark:text-dark-accent bg-accent/10 dark:bg-dark-accent/10":"text-secondary-text hover:bg-tertiary dark:hover:bg-dark-tertiary"}`,children:[b.jsx(Ka,{className:"h-6 w-6"}),b.jsx("span",{className:"text-xs mt-1",children:i("mobileTabs.files")})]}),b.jsxs("button",{onClick:()=>l("editor"),className:`flex flex-col items-center justify-center p-2 rounded-md transition-colors ${t==="editor"?"text-accent dark:text-dark-accent bg-accent/10 dark:bg-dark-accent/10":"text-secondary-text hover:bg-tertiary dark:hover:bg-dark-tertiary"}`,children:[b.jsx(JS,{className:"h-6 w-6"}),b.jsx("span",{className:"text-xs mt-1",children:i("mobileTabs.editor")})]}),b.jsxs("button",{onClick:()=>l("ai"),className:`flex flex-col items-center justify-center p-2 rounded-md transition-colors ${t==="ai"?"text-accent dark:text-dark-accent bg-accent/10 dark:bg-dark-accent/10":"text-secondary-text hover:bg-tertiary dark:hover:bg-dark-tertiary"}`,children:[b.jsx(kt,{className:"h-6 w-6"}),b.jsx("span",{className:"text-xs mt-1",children:i("mobileTabs.ai")})]})]})]})]})]})},yo=({label:o,value:t,onChange:l,helpLink:i,helpText:s,placeholder:u,isNote:d=!1,children:g})=>{const[y,m]=K.useState(!1),{t:v}=Pe();return d?b.jsxs("div",{className:"p-3 bg-tertiary dark:bg-dark-tertiary rounded-lg",children:[b.jsx("p",{className:"text-sm font-medium",children:o}),b.jsx("div",{className:"text-xs text-secondary-text mt-1",children:g})]}):b.jsxs("div",{children:[b.jsx("label",{htmlFor:o,className:"block text-sm font-medium mb-1",children:o}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{id:o,type:y?"text":"password",value:t,onChange:x=>l(x.target.value),placeholder:u||v("settings.apiKeyPlaceholder",o),className:"w-full bg-secondary dark:bg-dark-secondary border border-border-color dark:border-dark-border-color rounded-md px-3 py-2 pr-16 text-sm focus:ring-accent focus:border-accent"}),b.jsx("button",{type:"button",onClick:()=>m(!y),className:"absolute inset-y-0 right-0 px-3 flex items-center text-secondary-text hover:text-primary-text text-xs","aria-label":v(y?"settings.hideKey":"settings.showKey"),children:v(y?"settings.hideKey":"settings.showKey")})]}),i&&s&&b.jsx("p",{className:"text-xs text-secondary-text mt-2",children:b.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-accent dark:text-dark-accent font-bold underline",children:s})})]})},Ru=({label:o,description:t,selectedProvider:l,selectedModel:i,onProviderChange:s,onModelChange:u,modelsByProvider:d})=>{const{t:g}=Pe(),y=d[l]||[],m=v=>{const x=v.target.value;s(x);const E=d[x]||[];u(E[0]||"")};return b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-medium",children:o}),b.jsx("p",{className:"text-xs text-secondary-text -mt-1 mb-2",children:t}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-medium",children:g("promptEditor.provider")}),b.jsxs("select",{value:l,onChange:m,className:"w-full text-xs bg-secondary dark:bg-dark-secondary border border-border-color dark:border-dark-border-color rounded-md px-2 py-1.5 focus:ring-accent focus:border-accent",children:[b.jsx("option",{value:"google",children:"Google"}),b.jsx("option",{value:"openrouter",children:"OpenRouter"}),b.jsx("option",{value:"groq",children:"Groq"}),b.jsx("option",{value:"together",children:"Together.ai"}),b.jsx("option",{value:"perplexity",children:"Perplexity"}),b.jsx("option",{value:"cohere",children:"Cohere"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-medium",children:g("promptEditor.model")}),b.jsx("select",{value:i,onChange:v=>u(v.target.value),disabled:y.length===0,className:"w-full text-xs bg-secondary dark:bg-dark-secondary border border-border-color dark:border-dark-border-color rounded-md px-2 py-1.5 focus:ring-accent focus:border-accent disabled:opacity-50",children:y.length>0?y.map(v=>b.jsx("option",{value:v,children:v},v)):b.jsx("option",{value:"",children:g("promptEditor.noModelFound")})})]})]})]})},d1=({prompt:o,isTranslating:t,onTranslate:l,onImproveRequest:i})=>{const{t:s,aiConfig:u,modelsByProvider:d,handlePromptChange:g,handleTogglePrompt:y,handleProviderChange:m,handleModelChange:v}=Pe(),x=u[o.id],E=d[x.provider]||[],[C,A]=K.useState(!1);return b.jsxs("div",{className:"bg-tertiary dark:bg-dark-tertiary p-4 rounded-lg",children:[b.jsxs("button",{onClick:()=>A(_=>!_),className:"w-full flex justify-between items-center text-left","aria-expanded":C,children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{onClick:_=>{_.stopPropagation(),y(o.id)},className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${x.enabled?"bg-accent":"bg-gray-400 dark:bg-gray-600"}`,children:b.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${x.enabled?"translate-x-6":"translate-x-1"}`})}),b.jsx("label",{className:"font-semibold",children:x.title})]}),b.jsx("div",{className:`transition-transform duration-200 ${C?"rotate-180":""}`,children:b.jsx(zg,{})})]}),C&&b.jsxs("div",{className:"mt-4 pt-4 border-t border-border-color dark:border-dark-border-color space-y-3",children:[b.jsx("p",{className:"text-xs text-secondary-text",children:x.description}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-medium",children:s("promptEditor.provider")}),b.jsxs("select",{value:x.provider,onChange:_=>m(o.id,_.target.value),disabled:t||!x.enabled,className:"w-full text-xs bg-primary dark:bg-dark-primary border border-border-color dark:border-dark-border-color rounded-md px-2 py-1.5 focus:ring-accent focus:border-accent disabled:opacity-50",children:[b.jsx("option",{value:"google",children:"Google"}),b.jsx("option",{value:"openrouter",children:"OpenRouter"}),b.jsx("option",{value:"groq",children:"Groq"}),b.jsx("option",{value:"together",children:"Together.ai"}),b.jsx("option",{value:"perplexity",children:"Perplexity"}),b.jsx("option",{value:"cohere",children:"Cohere"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-medium",children:s("promptEditor.model")}),b.jsx("select",{value:x.model,onChange:_=>v(o.id,_.target.value),disabled:t||!x.enabled||E.length===0,className:"w-full text-xs bg-primary dark:bg-dark-primary border border-border-color dark:border-dark-border-color rounded-md px-2 py-1.5 focus:ring-accent focus:border-accent disabled:opacity-50",children:E.length>0?E.map(_=>b.jsx("option",{value:_,children:_},_)):b.jsx("option",{value:"",children:s("promptEditor.noModelFound")})})]})]}),b.jsx("textarea",{value:x.content,onChange:_=>g(o.id,_.target.value),className:"w-full h-40 bg-primary dark:bg-dark-primary border border-border-color dark:border-dark-border-color rounded-lg p-3 text-sm font-mono focus:ring-accent focus:border-accent",disabled:t||!x.enabled}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:()=>l("English"),disabled:t||!x.enabled,className:"text-xs px-3 py-1 bg-secondary dark:bg-dark-secondary hover:bg-border-color dark:hover:bg-dark-border-color rounded-md transition-colors disabled:opacity-50",children:s("promptEditor.translateToEN")}),b.jsx("button",{onClick:()=>l("Italian"),disabled:t||!x.enabled,className:"text-xs px-3 py-1 bg-secondary dark:bg-dark-secondary hover:bg-border-color dark:hover:bg-dark-border-color rounded-md transition-colors disabled:opacity-50",children:s("promptEditor.translateToIT")}),t&&b.jsx("div",{className:"text-xs text-accent",children:s("promptEditor.translating")})]}),b.jsxs("button",{onClick:i,disabled:t||!x.enabled,className:"flex items-center gap-2 text-xs px-3 py-1.5 bg-accent/20 dark:bg-dark-accent/20 text-accent dark:text-dark-accent hover:bg-accent/30 dark:hover:bg-dark-accent/30 rounded-md transition-colors disabled:opacity-50",children:[b.jsx(kt,{className:"h-3.5 w-3.5"}),s("promptEditor.improveWithAI")]})]})]})]})},f1=({presets:o})=>{const{t,selectedPreset:l,handleSelectPreset:i}=Pe(),s=o.filter(u=>u.name!=="Personalized");return b.jsxs("div",{className:"w-full",children:[b.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[b.jsx("h3",{className:"text-lg font-bold",children:t("presetTitle")}),b.jsx("span",{className:"text-xs text-secondary-text",children:t("presetDescription")})]}),b.jsxs("div",{className:"flex justify-center gap-2 sm:gap-4 flex-wrap",children:[s.map(u=>{const d=u.name===l,g=u.name==="Full Power",y="flex-1 min-w-[120px] text-center px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 border-2";let m=d?g?"bg-accent dark:bg-dark-accent text-accent-text dark:text-dark-accent-text border-accent dark:border-dark-accent font-bold shadow-lg shadow-accent/30":"bg-accent dark:bg-dark-accent text-accent-text dark:text-dark-accent-text border-accent dark:border-dark-accent":g?"border-accent dark:border-dark-accent bg-transparent text-accent dark:text-dark-accent hover:bg-accent/10 dark:hover:bg-dark-accent/10 font-bold":"border-border-color dark:border-dark-border-color bg-tertiary dark:bg-dark-tertiary text-primary-text dark:text-dark-primary-text hover:border-accent/50 dark:hover:border-dark-accent/50";return b.jsx("button",{onClick:()=>i(u),className:`${y} ${m}`,children:u.name},u.name)}),l==="Personalized"&&b.jsx("div",{className:"flex-1 min-w-[120px] text-center px-4 py-2 text-sm font-medium rounded-md border-2 border-dashed border-accent dark:border-dark-accent bg-accent/5 dark:bg-dark-accent/5 text-accent dark:text-dark-accent",children:t("presetPersonalized")})]})]})},p1=({isOpen:o,onClose:t,initialTab:l="general",translating:i,onTranslate:s,onImprovePromptRequest:u})=>{const{appSettings:d,handleSaveSettings:g,modelsByProvider:y,t:m,aiConfig:v,presets:x}=Pe(),[E,C]=K.useState(d),[A,_]=K.useState(l);if(K.useEffect(()=>{o&&(C(d),_(l))},[o,d,l]),!o)return null;const w=()=>{g(E),t()},k=(M,O)=>{C(j=>({...j,[M]:O}))},H=({tabId:M,children:O})=>b.jsx("button",{onClick:()=>_(M),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${A===M?"bg-accent text-accent-text":"text-secondary-text hover:bg-tertiary dark:hover:bg-dark-tertiary"}`,children:O});return b.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:t,children:b.jsxs("div",{className:"bg-primary dark:bg-dark-primary rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",onClick:M=>M.stopPropagation(),children:[b.jsxs("header",{className:"p-4 border-b border-border-color dark:border-dark-border-color",children:[b.jsx("h2",{className:"text-xl font-bold",children:m("settings.title")}),b.jsx("p",{className:"text-sm text-secondary-text dark:text-dark-secondary-text",children:m("settings.description")})]}),b.jsx("div",{className:"p-4 border-b border-border-color dark:border-dark-border-color flex-shrink-0",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(H,{tabId:"general",children:m("settings.tabs.general")}),b.jsx(H,{tabId:"ai",children:m("settings.tabs.aiBehavior")})]})}),b.jsxs("main",{className:"p-6 flex-grow overflow-y-auto space-y-6",children:[A==="general"&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"p-4 border border-dashed border-border-color dark:border-dark-border-color rounded-lg space-y-4",children:[b.jsx("h3",{className:"font-semibold text-base",children:m("settings.general")}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"global-language",className:"block text-sm font-medium mb-1",children:m("settings.globalLanguage")}),b.jsx("p",{className:"text-xs text-secondary-text mb-2",children:m("settings.globalLanguageDesc")}),b.jsxs("select",{id:"global-language",value:E.globalLanguage,onChange:M=>k("globalLanguage",M.target.value),className:"w-full text-sm bg-secondary dark:bg-dark-secondary border border-border-color dark:border-dark-border-color rounded-md px-2 py-2 focus:ring-accent focus:border-accent",children:[b.jsx("option",{value:"it",children:m("settings.langIt")}),b.jsx("option",{value:"en",children:m("settings.langEn")})]})]})]}),b.jsxs("div",{className:"p-4 border border-dashed border-border-color dark:border-dark-border-color rounded-lg space-y-4",children:[b.jsx("h3",{className:"font-semibold text-base",children:m("settings.defaultModels")}),b.jsx(Ru,{label:m("settings.generalDefault"),description:m("settings.generalDefaultDesc"),selectedProvider:E.defaultProvider,selectedModel:E.defaultModel,onProviderChange:M=>k("defaultProvider",M),onModelChange:M=>k("defaultModel",M),modelsByProvider:y}),b.jsx(Ru,{label:m("settings.conversationalArchitect"),description:m("settings.conversationalArchitectDesc"),selectedProvider:E.architectProvider,selectedModel:E.architectModel,onProviderChange:M=>k("architectProvider",M),onModelChange:M=>k("architectModel",M),modelsByProvider:y}),b.jsx(Ru,{label:m("settings.promptImprovementChat"),description:m("settings.promptImprovementChatDesc"),selectedProvider:E.promptImprovementProvider,selectedModel:E.promptImprovementModel,onProviderChange:M=>k("promptImprovementProvider",M),onModelChange:M=>k("promptImprovementModel",M),modelsByProvider:y})]}),b.jsxs("div",{className:"p-4 border border-dashed border-border-color dark:border-dark-border-color rounded-lg space-y-4",children:[b.jsx("h3",{className:"font-semibold text-base",children:m("settings.integrations")}),b.jsx(yo,{label:m("settings.githubPat"),value:E.githubPat,onChange:M=>k("githubPat",M),children:b.jsx("p",{dangerouslySetInnerHTML:{__html:m("settings.githubPatHelp")}})})]}),b.jsx("h3",{className:"font-semibold text-base pt-4 border-t border-border-color dark:border-dark-border-color",children:m("settings.apiKeys")}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-6",children:[b.jsx(yo,{label:m("settings.googleApiKey"),value:E.googleApiKey,onChange:M=>k("googleApiKey",M),helpLink:"https://ai.google.dev/gemini-api/docs/api-key",helpText:m("settings.googleApiHelp")}),b.jsx(yo,{label:m("settings.openRouterApiKey"),value:E.openRouterApiKey,onChange:M=>k("openRouterApiKey",M),helpLink:"https://openrouter.ai/keys",helpText:m("settings.openRouterApiHelp")}),b.jsx(yo,{label:m("settings.groqApiKey"),value:E.groqApiKey,onChange:M=>k("groqApiKey",M),helpLink:"https://console.groq.com/keys",helpText:m("settings.groqApiHelp")}),b.jsx(yo,{label:m("settings.togetherApiKey"),value:E.togetherApiKey,onChange:M=>k("togetherApiKey",M),helpLink:"https://api.together.xyz/settings/api-keys",helpText:m("settings.togetherApiHelp")}),b.jsx(yo,{label:m("settings.perplexityApiKey"),value:E.perplexityApiKey,onChange:M=>k("perplexityApiKey",M),helpLink:"https://docs.perplexity.ai/docs/getting-started",helpText:m("settings.perplexityApiHelp")}),b.jsx(yo,{label:m("settings.cohereApiKey"),value:E.cohereApiKey,onChange:M=>k("cohereApiKey",M),helpLink:"https://dashboard.cohere.com/api-keys",helpText:m("settings.cohereApiHelp")})]}),b.jsx("p",{className:"text-xs text-secondary-text mt-2 p-3 bg-tertiary dark:bg-dark-tertiary rounded-md",children:m("settings.keyStorageNotice")})]}),A==="ai"&&b.jsxs("div",{className:"space-y-6",children:[b.jsx(f1,{presets:x}),b.jsx("div",{className:"border-t border-border-color dark:border-dark-border-color my-6"}),b.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:items-start",children:Object.values(v).map(M=>b.jsx(d1,{prompt:M,onTranslate:O=>s(M.id,O),onImproveRequest:()=>u(M.id),isTranslating:i===M.id},M.id))})]})]}),b.jsxs("footer",{className:"p-4 border-t border-border-color dark:border-dark-border-color flex justify-end items-center gap-4 flex-shrink-0",children:[b.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-secondary-text hover:bg-tertiary dark:hover:bg-dark-tertiary rounded-lg transition-colors",children:m("settings.cancel")}),b.jsx("button",{onClick:w,className:"px-5 py-2.5 bg-accent hover:bg-accent-hover text-accent-text dark:text-dark-accent-text font-bold rounded-lg transition-colors",children:m("settings.save")})]})]})})},m1=async(o,t,l)=>{const i=o.promptImprovementProvider,s=o.promptImprovementModel,u=`Sei un utile assistente AI specializzato in prompt engineering. Un utente vuole migliorare uno dei suoi prompt. Il tuo obiettivo è guidarlo per renderlo più chiaro, specifico ed efficace per l'AI di destinazione.

Il prompt originale dell'utente è:
---
${t}
---

Interagisci con l'utente in modo colloquiale. Quando sei sicuro di avere una buona versione finale, presentala chiaramente. Se l'utente chiede la versione finale, fornisci solo il testo del prompt finale e nient'altro.`;try{return(await kg({provider:i,settings:o,model:s,messages:l,systemInstruction:u})).text.trim()}catch(d){console.error(`Errore durante il miglioramento del prompt con ${i}:`,d);const g=d instanceof Error?d.message:"Si è verificato un errore API sconosciuto.";throw new Error(`Impossibile ottenere una risposta dall'assistente AI. Motivo: ${g}`)}},h1=({isOpen:o,onClose:t,promptToImprove:l,onSavePrompt:i})=>{const[s,u]=K.useState([]),[d,g]=K.useState(""),[y,m]=K.useState(!1),v=K.useRef(null),{appSettings:x,t:E}=Pe();K.useEffect(()=>{o&&l?u([{role:"model",content:E("promptChatModal.greeting",l.title)}]):(u([]),g(""))},[o,l,E]),K.useEffect(()=>{var _;(_=v.current)==null||_.scrollIntoView({behavior:"smooth"})},[s]);const C=async _=>{if(_==null||_.preventDefault(),!d.trim()||y||!l)return;const w=[...s,{role:"user",content:d}];u(w),g(""),m(!0);try{const k=await m1(x,l.content,w);u(H=>[...H,{role:"model",content:k}])}catch(k){const H=k instanceof Error?k.message:"Unknown error.";u(M=>[...M,{role:"model",content:E("promptChatModal.aiError",H)}])}finally{m(!1)}},A=()=>{if(!l)return;const _=[...s].reverse().find(w=>w.role==="model");_&&i(l.id,_.content)};return!o||!l?null:b.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:t,children:b.jsxs("div",{className:"bg-primary dark:bg-dark-primary rounded-lg shadow-2xl w-full max-w-2xl h-[80vh] flex flex-col",onClick:_=>_.stopPropagation(),children:[b.jsxs("header",{className:"p-4 border-b border-border-color dark:border-dark-border-color flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(qg,{className:"h-6 w-6 text-accent dark:text-dark-accent"}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold",children:E("promptChatModal.title")}),b.jsx("p",{className:"text-sm text-secondary-text dark:text-dark-secondary-text",children:E("promptChatModal.description",l.title)})]})]}),b.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-tertiary dark:hover:bg-dark-tertiary transition-colors","aria-label":E("promptChatModal.close"),children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-secondary-text",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("main",{className:"p-4 flex-grow overflow-y-auto space-y-4",children:[s.map((_,w)=>b.jsxs("div",{className:`flex items-start gap-3 ${_.role==="user"?"justify-end":""}`,children:[_.role==="model"&&b.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-accent/20 rounded-full flex items-center justify-center",children:b.jsx(kt,{className:"h-5 w-5 text-accent"})}),b.jsx("div",{className:`max-w-md p-3 rounded-lg ${_.role==="user"?"bg-accent dark:bg-dark-accent text-accent-text dark:text-dark-accent-text":"bg-secondary dark:bg-dark-secondary"}`,children:b.jsx("p",{className:"text-sm whitespace-pre-wrap",children:_.content})})]},w)),y&&b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-accent/20 rounded-full flex items-center justify-center",children:b.jsx(kt,{className:"h-5 w-5 text-accent"})}),b.jsx("div",{className:"max-w-md p-3 rounded-lg bg-secondary dark:bg-dark-secondary",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"h-2 w-2 bg-accent rounded-full animate-bounce [animation-delay:-0.3s]"}),b.jsx("div",{className:"h-2 w-2 bg-accent rounded-full animate-bounce [animation-delay:-0.15s]"}),b.jsx("div",{className:"h-2 w-2 bg-accent rounded-full animate-bounce"})]})})]}),b.jsx("div",{ref:v})]}),b.jsxs("footer",{className:"p-4 border-t border-border-color dark:border-dark-border-color",children:[b.jsxs("button",{onClick:A,className:"w-full mb-3 px-4 py-2 text-sm font-semibold text-accent dark:text-dark-accent bg-accent/10 dark:bg-dark-accent/10 hover:bg-accent/20 rounded-lg transition-colors flex items-center justify-center gap-2",children:[b.jsx(kt,{className:"h-4 w-4"})," ",E("promptChatModal.useLastResponse")]}),b.jsxs("form",{onSubmit:C,className:"flex items-center gap-3",children:[b.jsx("input",{type:"text",value:d,onChange:_=>g(_.target.value),placeholder:E("promptChatModal.placeholder"),disabled:y,className:"w-full bg-secondary dark:bg-dark-secondary border border-border-color dark:border-dark-border-color rounded-lg px-3 py-2 text-sm focus:ring-accent focus:border-accent"}),b.jsx("button",{type:"submit",disabled:y||!d.trim(),className:"px-5 py-2.5 bg-accent hover:bg-accent-hover text-accent-text dark:text-dark-accent-text font-bold rounded-lg transition-colors disabled:opacity-50",children:E("promptChatModal.send")})]})]})]})})},og=async(o,t,l)=>{const{provider:i,model:s,content:u}=t.architect;try{return(await kg({provider:i,settings:o,model:s,messages:l,systemInstruction:u})).text.trim()}catch(d){console.error(`Errore durante la chat con l'architetto con ${i}:`,d);const g=d instanceof Error?d.message:"Si è verificato un errore API sconosciuto.";throw new Error(`Impossibile ottenere una risposta dall'architetto AI. Motivo: ${g}`)}},g1=async(o,t,l)=>{const{provider:i,model:s,content:u}=t,d=l.map(y=>`${y.role==="user"?"Utente":"Architetto"}: ${y.content}`).join(`

`),g=u.replace("PROJECT_CONTENT_PLACEHOLDER",`La seguente è una conversazione tra un utente e un architetto AI per definire un progetto. Usa questa intera conversazione come fonte definitiva di requisiti per generare un progetto completo e ben strutturato.

---
${d}
---`);try{return(await It({provider:i,settings:o,model:s,prompt:g})).text.trim()}catch(y){console.error(`Errore durante la generazione del progetto dalla conversazione con ${i}:`,y);const m=y instanceof Error?y.message:"Si è verificato un errore API sconosciuto.";throw new Error(`Impossibile generare il progetto dalla conversazione. Motivo: ${m}`)}},y1=o=>new Promise((t,l)=>{const i=new FileReader;i.readAsDataURL(o),i.onload=()=>{const s=i.result.split(",")[1];t(s)},i.onerror=s=>l(s)}),v1=async(o,t)=>{try{const l=await y1(t);return(await bS({provider:"google",settings:o,model:"gemini-2.5-flash",textPart:"Trascrivi l'audio fornito. Restituisci solo il testo trascritto.",dataPart:{mimeType:t.type,data:l}})).text.trim()}catch(l){console.error("Errore durante la trascrizione dell'audio:",l);const i=l instanceof Error?l.message:"Si è verificato un errore API sconosciuto.";throw new Error(`Impossibile trascrivere l'audio. Motivo: ${i}`)}},ku=window.SpeechRecognition||window.webkitSpeechRecognition,b1=({onTranscript:o,onLiveChatCycleEnd:t,lang:l="it-IT"})=>{const[i,s]=K.useState(!1),[u,d]=K.useState(!1),[g,y]=K.useState(!1),m=K.useRef(null),v=K.useCallback(()=>{if(!(!m.current||i))try{m.current.start(),s(!0)}catch(A){console.error("Errore nell'avvio del riconoscimento vocale:",A),s(!1)}},[i]),x=K.useCallback(()=>{!m.current||!i||(m.current.stop(),s(!1))},[i]),E=K.useCallback(A=>{if(u)return;const _=new SpeechSynthesisUtterance(A);_.lang=l,_.onstart=()=>d(!0),_.onend=()=>{d(!1),g&&(t==null||t())},speechSynthesis.speak(_)},[l,u,g,t]),C=K.useCallback(()=>{g?(y(!1),x(),speechSynthesis.cancel()):(y(!0),v())},[g,v,x]);return K.useEffect(()=>{if(!ku){console.error("L'API di riconoscimento vocale non è supportata da questo browser.");return}const A=new ku;return A.continuous=!1,A.interimResults=!1,A.lang=l,A.onresult=_=>{const w=_.results[0][0].transcript;o(w)},A.onerror=_=>{console.error("Errore di riconoscimento vocale:",_.error),s(!1)},A.onend=()=>{s(!1)},m.current=A,()=>{A&&A.stop(),speechSynthesis.cancel()}},[l,o,g]),{isListening:i,isSpeaking:u,isLiveChatActive:g,startListening:v,stopListening:x,speak:E,toggleLiveChat:C,isSupported:!!ku}},x1=({isOpen:o,onClose:t,onComplete:l,messages:i,setMessages:s})=>{var be;const[u,d]=K.useState(""),[g,y]=K.useState(!1),[m,v]=K.useState(!0),x=K.useRef(null),E=K.useRef(null),{appSettings:C,aiConfig:A,t:_}=Pe(),w=async te=>{if(!te.trim()||g)return;const D=[...i,{role:"user",content:te}];s(D),d(""),y(!0);try{const Z=await og(C,A,D);s(oe=>[...oe,{role:"model",content:Z}]),m&&j(Z)}catch(Z){const oe=Z instanceof Error?Z.message:"Unknown error.",ce={role:"model",content:_("projectChatModal.aiError",oe)};s(me=>[...me,ce]),m&&j(ce.content)}finally{y(!1)}},{isListening:k,isSpeaking:H,isLiveChatActive:M,startListening:O,speak:j,toggleLiveChat:z,isSupported:X}=b1({onTranscript:te=>{w(te)},onLiveChatCycleEnd:()=>{M&&O()},lang:C.globalLanguage==="it"?"it-IT":"en-US"});K.useEffect(()=>{o&&i.length===0&&!g&&(y(!0),(async()=>{try{const te=await og(C,A,[]);s([{role:"model",content:te}]),m&&j(te)}catch(te){const D=te instanceof Error?te.message:"Unknown error.",Z={role:"model",content:_("projectChatModal.aiError",D)};s(oe=>[...oe,Z]),m&&j(Z.content)}finally{y(!1)}})())},[o,i.length,g,C,A,m]),K.useEffect(()=>{var te;(te=x.current)==null||te.scrollIntoView({behavior:"smooth"})},[i]);const L=te=>{te==null||te.preventDefault(),w(u)},P=async()=>{y(!0);try{const te=await g1(C,A.projectOverview,i);l(te)}catch(te){const D=te instanceof Error?te.message:"Unknown error during project generation.";s(Z=>[...Z,{role:"model",content:_("projectChatModal.generationError",D)}]),y(!1)}},B=async te=>{var Z;const D=(Z=te.target.files)==null?void 0:Z[0];if(D){y(!0);try{const oe=await v1(C,D);d(ce=>ce?`${ce} ${oe}`:oe)}catch(oe){const ce=oe instanceof Error?oe.message:"Unknown error.";s(me=>[...me,{role:"model",content:_("projectChatModal.transcriptionError",ce)}])}finally{y(!1),E.current&&(E.current.value="")}}};if(!o)return null;const ee=!g&&((be=i[i.length-1])==null?void 0:be.role)==="model"&&i[i.length-1].content.includes("I have enough information to generate the project. Shall I proceed?"),ie=g||k||H;let re="";return M&&(k?re=_("projectChatModal.statusListening"):H?re=_("projectChatModal.statusSpeaking"):g?re=_("projectChatModal.statusThinking"):re=_("projectChatModal.statusWaiting")),b.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:t,children:b.jsxs("div",{className:"bg-primary dark:bg-dark-primary rounded-lg shadow-2xl w-full max-w-2xl h-[80vh] flex flex-col",onClick:te=>te.stopPropagation(),children:[b.jsxs("header",{className:"p-4 border-b border-border-color dark:border-dark-border-color flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Pg,{className:"h-6 w-6 text-accent dark:text-dark-accent"}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold",children:_("projectChatModal.title")}),b.jsx("p",{className:"text-sm text-secondary-text dark:text-dark-secondary-text",children:_("projectChatModal.description")})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>v(te=>!te),className:"p-2 rounded-full hover:bg-tertiary dark:hover:bg-dark-tertiary",title:_("projectChatModal.toggleTTS"),children:m?b.jsx(nA,{className:"h-6 w-6 text-secondary-text"}):b.jsx(oA,{className:"h-6 w-6 text-secondary-text"})}),b.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-tertiary dark:hover:bg-dark-tertiary transition-colors","aria-label":_("projectChatModal.close"),children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-secondary-text",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),b.jsxs("main",{className:"p-4 flex-grow overflow-y-auto space-y-4",children:[i.map((te,D)=>b.jsxs("div",{className:`flex items-start gap-3 ${te.role==="user"?"justify-end":""}`,children:[te.role==="model"&&b.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-accent/20 rounded-full flex items-center justify-center",children:b.jsx(kt,{className:"h-5 w-5 text-accent"})}),b.jsx("div",{className:`max-w-md p-3 rounded-lg ${te.role==="user"?"bg-accent dark:bg-dark-accent text-accent-text dark:text-dark-accent-text":"bg-secondary dark:bg-dark-secondary"}`,children:b.jsx("p",{className:"text-sm whitespace-pre-wrap",children:te.content})})]},`${te.role}-${D}`)),g&&i.length>0&&b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-accent/20 rounded-full flex items-center justify-center",children:b.jsx(kt,{className:"h-5 w-5 text-accent"})}),b.jsx("div",{className:"max-w-md p-3 rounded-lg bg-secondary dark:bg-dark-secondary",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"h-2 w-2 bg-accent rounded-full animate-bounce [animation-delay:-0.3s]"}),b.jsx("div",{className:"h-2 w-2 bg-accent rounded-full animate-bounce [animation-delay:-0.15s]"}),b.jsx("div",{className:"h-2 w-2 bg-accent rounded-full animate-bounce"})]})})]}),b.jsx("div",{ref:x})]}),b.jsxs("footer",{className:"p-4 border-t border-border-color dark:border-dark-border-color",children:[ee&&b.jsxs("button",{onClick:P,disabled:g,className:"w-full mb-3 px-4 py-2 text-sm font-semibold text-accent dark:text-dark-accent bg-accent/10 dark:bg-dark-accent/10 hover:bg-accent/20 rounded-lg transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[b.jsx(kt,{className:"h-4 w-4"})," ",_("projectChatModal.generateProject")]}),b.jsxs("form",{onSubmit:L,className:"flex items-center gap-3",children:[b.jsx("input",{type:"text",value:u,onChange:te=>d(te.target.value),placeholder:_("projectChatModal.placeholder"),disabled:ie,className:"w-full bg-secondary dark:bg-dark-secondary border border-border-color dark:border-dark-border-color rounded-lg px-3 py-2 text-sm focus:ring-accent focus:border-accent disabled:opacity-50"}),b.jsx("button",{type:"submit",disabled:ie||!u.trim(),className:"px-5 py-2.5 bg-accent hover:bg-accent-hover text-accent-text dark:text-dark-accent-text font-bold rounded-lg transition-colors disabled:opacity-50",children:_("projectChatModal.send")})]}),X&&b.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:z,title:_("projectChatModal.toggleLiveChat"),className:`p-2 rounded-full transition-colors ${M?"bg-danger text-white":"bg-tertiary dark:bg-dark-tertiary hover:bg-border-color dark:hover:bg-dark-border-color"}`,children:M?b.jsx(tA,{className:"w-6 h-6"}):b.jsx(eA,{className:"w-6 h-6",isActive:k})}),b.jsx("button",{onClick:()=>{var te;return(te=E.current)==null?void 0:te.click()},disabled:ie,title:_("projectChatModal.uploadAudio"),className:"p-2 rounded-full bg-tertiary dark:bg-dark-tertiary hover:bg-border-color dark:hover:bg-dark-border-color disabled:opacity-50",children:b.jsx(iA,{className:"w-6 h-6"})}),b.jsx("input",{ref:E,type:"file",className:"hidden",accept:"audio/*",onChange:B})]}),b.jsxs("div",{className:"text-sm text-secondary-text flex items-center gap-2",children:[H&&b.jsx(lA,{className:"w-5 h-5 text-accent"}),b.jsx("span",{children:re})]})]})]})]})})},T1=({isOpen:o,onClose:t,filePath:l,reviewContent:i})=>{const{t:s}=Pe();return o?b.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:t,children:b.jsxs("div",{className:"bg-primary dark:bg-dark-primary rounded-lg shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col",onClick:u=>u.stopPropagation(),children:[b.jsxs("header",{className:"p-4 border-b border-border-color dark:border-dark-border-color flex items-center gap-3",children:[b.jsx(Hg,{className:"h-6 w-6 text-accent dark:text-dark-accent"}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold",children:s("codeReviewModal.title")}),b.jsx("p",{className:"text-sm text-secondary-text dark:text-dark-secondary-text",children:s("codeReviewModal.description",l||"")})]})]}),b.jsx("main",{className:"p-6 flex-grow overflow-y-auto",children:b.jsx("pre",{className:"text-sm whitespace-pre-wrap font-sans text-primary-text dark:text-dark-primary-text bg-secondary dark:bg-dark-secondary p-4 rounded-md",children:i})}),b.jsx("footer",{className:"p-4 border-t border-border-color dark:border-dark-border-color flex justify-end items-center gap-4",children:b.jsx("button",{onClick:t,className:"px-5 py-2.5 bg-accent hover:bg-accent-hover text-accent-text dark:text-dark-accent-text font-bold rounded-lg transition-colors",children:s("codeReviewModal.close")})})]})}):null},E1=o=>{let t=o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return t=t.replace(/^# (.*$)/gim,'<h1 class="text-3xl font-bold mt-8 mb-4">$1</h1>'),t=t.replace(/^## (.*$)/gim,'<h2 class="text-2xl font-bold mt-6 mb-3 border-b border-border-color dark:border-dark-border-color pb-2">$1</h2>'),t=t.replace(/^### (.*$)/gim,'<h3 class="text-xl font-bold mt-4 mb-2">$1</h3>'),t=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),t=t.replace(/\*(.*?)\*/g,"<em>$1</em>"),t=t.replace(/\[(.*?)\]\((.*?)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" class="text-accent dark:text-dark-accent underline hover:no-underline">$1</a>'),t=t.replace(/^> (.*$)/gim,'<blockquote class="border-l-4 border-accent dark:border-dark-accent pl-4 italic my-4">$1</blockquote>'),t=t.replace(/```(\w+)?\n([\s\S]*?)\n```/g,(l,i,s)=>`<pre class="bg-tertiary dark:bg-dark-tertiary p-4 rounded-lg overflow-x-auto my-4"><code class="language-${i||""}">${s}</code></pre>`),t=t.replace(/`([^`]+)`/g,'<code class="bg-tertiary dark:bg-dark-tertiary px-1.5 py-1 rounded text-sm font-mono">$1</code>'),t=t.replace(/^\s*\n\* (.*)/gm,`<ul>
* $1`),t=t.replace(/^(\*.+)\s*\n([^\*])/gm,`$1
</ul>

$2`),t=t.replace(/^\* (.*)/gm,'<li class="ml-4 mb-1">$1</li>'),t=t.replace(/^\s*\n\d\.(.*)/gm,`<ol>
1. $1`),t=t.replace(/^(\d\..+)\s*\n([^\d\.])/gm,`$1
</ol>

$2`),t=t.replace(/^\d\.(.*)/gm,'<li class="ml-4 mb-1">$1</li>'),t=t.split(`

`).map(l=>l.trim().startsWith("<")||l.trim()===""?l:`<p class="mb-4">${l.trim()}</p>`).join(""),{__html:t}},C1=({isOpen:o,onClose:t})=>{const{t:l}=Pe(),[i,s]=K.useState(""),[u,d]=K.useState(null),g=!i&&!u;K.useEffect(()=>{o&&(d(null),s(""),fetch("/docs/USER_GUIDE.md").then(m=>{if(!m.ok)throw new Error("Failed to fetch guide");return m.text()}).then(s).catch(()=>d(l("userGuideModal.error"))))},[o,l]);const y=K.useMemo(()=>i?E1(i):{__html:""},[i]);return o?b.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:t,children:b.jsxs("div",{className:"bg-primary dark:bg-dark-primary rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col",onClick:m=>m.stopPropagation(),children:[b.jsxs("header",{className:"p-4 border-b border-border-color dark:border-dark-border-color flex justify-between items-center flex-shrink-0",children:[b.jsx("h2",{className:"text-xl font-bold",children:l("userGuideModal.title")}),b.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-tertiary dark:hover:bg-dark-tertiary transition-colors","aria-label":l("userGuideModal.close"),children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-secondary-text",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b.jsxs("main",{className:"p-6 flex-grow overflow-y-auto prose dark:prose-invert",children:[g&&b.jsx("p",{children:l("userGuideModal.loading")}),u&&b.jsx("p",{className:"text-danger dark:text-dark-danger",children:u}),i&&b.jsx("div",{dangerouslySetInnerHTML:y})]}),b.jsx("footer",{className:"p-4 border-t border-border-color dark:border-dark-border-color flex justify-end items-center gap-4 flex-shrink-0",children:b.jsx("button",{onClick:t,className:"px-5 py-2.5 bg-accent hover:bg-accent-hover text-accent-text dark:text-dark-accent-text font-bold rounded-lg transition-colors",children:l("userGuideModal.close")})})]})}):null},S1="https://api.github.com",bo=async(o,t,l={})=>{const i=await fetch(`${S1}${o}`,{method:l.method||"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json",...l.headers},body:l.body});if(!i.ok){const s=await i.json().catch(()=>({message:"Could not parse error response."}));throw new Error(`GitHub API Error (${i.status} on ${l.method||"GET"} ${o}): ${s.message}`)}return i.status===204?null:i.json()},A1=async(o,t,l)=>bo("/user/repos",o,{method:"POST",body:JSON.stringify({name:t,private:l,auto_init:!1})}),$g=async(o,t,l,i)=>{try{return(await bo(`/repos/${t}/${l}/git/ref/heads/${i}`,o)).object.sha}catch(s){if(s instanceof Error&&s.message.includes("404"))return null;throw s}},_1=async(o,t,l,i)=>{const s=i.map(async u=>{const d=await bo(`/repos/${t}/${l}/git/blobs`,o,{method:"POST",body:JSON.stringify({content:u.content,encoding:"utf-8"})});return{path:u.path,sha:d.sha}});return Promise.all(s)},N1=async(o,t,l,i)=>{const s=i.map(d=>({path:d.path,mode:"100644",type:"blob",sha:d.sha}));return(await bo(`/repos/${t}/${l}/git/trees`,o,{method:"POST",body:JSON.stringify({tree:s})})).sha},w1=async(o,t,l,i,s,u)=>(await bo(`/repos/${t}/${l}/git/commits`,o,{method:"POST",body:JSON.stringify({message:s,tree:i,parents:u?[u]:[]})})).sha,M1=async(o,t,l,i,s,u=!1)=>{const d=`/repos/${t}/${l}/git/refs/heads/${i}`;return await $g(o,t,l,i)?bo(d,o,{method:"PATCH",body:JSON.stringify({sha:s,force:u})}):bo(`/repos/${t}/${l}/git/refs`,o,{method:"POST",body:JSON.stringify({ref:`refs/heads/${i}`,sha:s})})},R1=async(o,t,l,i,s)=>{const[u,d]=t.split("/");if(!u||!d)throw new Error("Formato del nome del repository non valido. Usare 'owner/repo'.");const g=await $g(o,u,d,l),y=await _1(o,u,d,i),m=await N1(o,u,d,y),v=await w1(o,u,d,m,s,g);return await M1(o,u,d,l,v),`https://github.com/${u}/${d}/tree/${l}`},k1=async(o,t,l,i)=>{if(i.length===0)return"Initial commit";const s=t.content.replace("{projectName}",l).replace("{filePaths}",i.join(`
- `));try{return(await It({provider:t.provider,settings:o,model:t.model,prompt:s})).text.trim().replace(/^"|"$/g,"")}catch(u){return console.error(`Errore durante la generazione del messaggio di commit con ${t.provider}:`,u),`feat: Initialize project structure for ${l}`}},I1=({isOpen:o,onClose:t,projectName:l,parsedFiles:i})=>{const{t:s,appSettings:u,aiConfig:d}=Pe(),[g,y]=K.useState("form"),[m,v]=K.useState("create"),[x,E]=K.useState(""),[C,A]=K.useState(""),[_,w]=K.useState("main"),[k,H]=K.useState(""),[M,O]=K.useState(!0),[j,z]=K.useState(""),[X,L]=K.useState(""),[P,B]=K.useState(!1),ee=async()=>{if(d.commitMessageGenerator.enabled){B(!0);try{const D=i.map(oe=>oe.path),Z=await k1(u,d.commitMessageGenerator,l,D);H(Z)}catch(D){console.error("Failed to generate commit message:",D)}finally{B(!1)}}};K.useEffect(()=>{o&&(E(l.toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/--+/g,"-")),A(""),w("main"),H(s("githubExport.commitMessagePlaceholder")),d.commitMessageGenerator.enabled&&ee())},[o,l,d.commitMessageGenerator.enabled]);const ie=()=>{y("form"),z(""),L("")},re=()=>{ie(),t()},be=async D=>{D.preventDefault(),y("loading");try{let Z="";m==="create"?Z=(await A1(u.githubPat,x,M)).full_name:Z=C;const oe=await R1(u.githubPat,Z,_,i,k);L(oe),y("success")}catch(Z){z(Z.message||"An unexpected error occurred."),y("error")}};if(!o)return null;const te=()=>{switch(g){case"loading":return b.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent dark:border-dark-accent mb-4"}),b.jsx("p",{className:"font-semibold text-lg",children:s("githubExport.exporting")})]});case"success":return b.jsxs("div",{className:"p-8 text-center",children:[b.jsx("h3",{className:"text-xl font-bold text-accent dark:text-dark-accent",children:s("githubExport.successTitle")}),b.jsx("p",{className:"mt-2 text-sm",children:s("githubExport.successMessage",X.split("/tree/")[0])}),b.jsx("a",{href:X,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-6 px-6 py-2 bg-accent hover:bg-accent-hover text-accent-text font-bold rounded-lg",children:s("githubExport.viewOnGitHub","View on GitHub")})]});case"error":return b.jsxs("div",{className:"p-8 text-center",children:[b.jsx("h3",{className:"text-xl font-bold text-danger dark:text-dark-danger",children:s("githubExport.errorTitle")}),b.jsx("p",{className:"mt-2 text-sm bg-danger-bg dark:bg-dark-danger-bg p-3 rounded-md",children:j}),b.jsx("button",{onClick:ie,className:"mt-6 px-6 py-2 bg-accent hover:bg-accent-hover text-accent-text font-bold rounded-lg",children:s("tryAgain")})]});case"form":return b.jsxs("form",{onSubmit:be,className:"p-6 space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("label",{className:"text-sm font-medium",children:s("githubExport.actionTypeLabel")}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"radio",name:"actionType",value:"create",checked:m==="create",onChange:()=>v("create"),className:"form-radio text-accent focus:ring-accent"}),b.jsx("span",{className:"text-sm",children:s("githubExport.actionTypeCreate")})]}),b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"radio",name:"actionType",value:"push",checked:m==="push",onChange:()=>v("push"),className:"form-radio text-accent focus:ring-accent"}),b.jsx("span",{className:"text-sm",children:s("githubExport.actionTypePush")})]})]})]}),m==="create"?b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"repoName",className:"block text-sm font-medium mb-1",children:s("githubExport.repoNameLabel")}),b.jsx("input",{type:"text",id:"repoName",value:x,onChange:D=>E(D.target.value),required:!0,className:"w-full text-sm bg-tertiary dark:bg-dark-tertiary border border-border-color dark:border-dark-border-color rounded-md px-3 py-2 focus:ring-accent"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-1",children:s("githubExport.visibilityLabel")}),b.jsxs("select",{value:M?"private":"public",onChange:D=>O(D.target.value==="private"),className:"w-full text-sm bg-tertiary dark:bg-dark-tertiary border border-border-color dark:border-dark-border-color rounded-md px-3 py-2 focus:ring-accent",children:[b.jsx("option",{value:"private",children:s("githubExport.visibilityPrivate")}),b.jsx("option",{value:"public",children:s("githubExport.visibilityPublic")})]})]})]}):b.jsxs("div",{children:[b.jsx("label",{htmlFor:"fullRepoPath",className:"block text-sm font-medium mb-1",children:s("githubExport.repoNameLabel")}),b.jsx("input",{type:"text",id:"fullRepoPath",value:C,onChange:D=>A(D.target.value),placeholder:s("githubExport.repoNamePlaceholder"),required:!0,className:"w-full text-sm bg-tertiary dark:bg-dark-tertiary border border-border-color dark:border-dark-border-color rounded-md px-3 py-2 focus:ring-accent"}),b.jsx("p",{className:"text-xs text-secondary-text mt-1",children:s("githubExport.repoNameHelp")})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"branch",className:"block text-sm font-medium mb-1",children:s("githubExport.branchLabel")}),b.jsx("input",{type:"text",id:"branch",value:_,onChange:D=>w(D.target.value),placeholder:s("githubExport.branchPlaceholder"),required:!0,className:"w-full text-sm bg-tertiary dark:bg-dark-tertiary border border-border-color dark:border-dark-border-color rounded-md px-3 py-2 focus:ring-accent"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"commitMessage",className:"block text-sm font-medium mb-1",children:s("githubExport.commitMessageLabel")}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",id:"commitMessage",value:k,onChange:D=>H(D.target.value),placeholder:s("githubExport.commitMessagePlaceholder"),required:!0,className:"w-full text-sm bg-tertiary dark:bg-dark-tertiary border border-border-color dark:border-dark-border-color rounded-md px-3 py-2 pr-10 focus:ring-accent"}),d.commitMessageGenerator.enabled&&b.jsx("button",{type:"button",onClick:ee,disabled:P,className:"absolute inset-y-0 right-0 px-2 flex items-center text-accent dark:text-dark-accent disabled:opacity-50",title:s("githubExport.generateCommitMessage"),children:P?b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):b.jsx(kt,{className:"h-4 w-4"})})]})]})]})}};return b.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:re,children:b.jsxs("div",{className:"bg-primary dark:bg-dark-primary rounded-lg shadow-2xl w-full max-w-lg flex flex-col",onClick:D=>D.stopPropagation(),children:[b.jsxs("header",{className:"p-4 border-b border-border-color dark:border-dark-border-color flex items-center gap-3",children:[b.jsx(Vg,{className:"h-6 w-6"}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold",children:s("githubExport.title")}),b.jsx("p",{className:"text-sm text-secondary-text dark:text-dark-secondary-text",children:s("githubExport.description")})]})]}),b.jsx("main",{className:"flex-grow",children:te()}),b.jsxs("footer",{className:"p-4 border-t border-border-color dark:border-dark-border-color flex justify-end items-center gap-4",children:[b.jsx("button",{onClick:re,className:"px-4 py-2 text-sm text-secondary-text hover:bg-tertiary dark:hover:bg-dark-tertiary rounded-lg transition-colors",children:s(g==="success"?"githubExport.close":"githubExport.cancel")}),g==="form"&&b.jsx("button",{onClick:be,className:"px-5 py-2.5 bg-accent hover:bg-accent-hover text-accent-text dark:text-dark-accent-text font-bold rounded-lg transition-colors",children:s("githubExport.export")})]})]})})},D1=()=>{const[o,t]=K.useState("dark"),[l,i]=K.useState("input"),[s,u]=K.useState(null),[d,g]=K.useState(null),[y,m]=K.useState("general"),[v,x]=K.useState(""),[E,C]=K.useState("upload"),[A,_]=K.useState([]),{appSettings:w,aiConfig:k,isLoadingSettings:H,t:M}=Pe(),O=zS(),j=RS(),z=GS({appSettings:w,aiConfig:k,editor:j,modals:O});K.useEffect(()=>{const te=localStorage.getItem("theme"),D=window.matchMedia("(prefers-color-scheme: dark)").matches;t(te||(D?"dark":"light"))},[]),K.useEffect(()=>{o==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",o)},[o]);const X=()=>t(te=>te==="dark"?"light":"dark"),L=(te="general")=>{m(te),i("settings")},P=l==="processing",B=K.useCallback(()=>{g(null),j.clearEditorState(),i("input"),_([]),x("")},[j]),ee=K.useCallback(async(te,D)=>{var N;j.setFullInputContent(te);const Z=M("processingMessageParse",2,2);u(Z);const{files:oe,documentationNotes:ce}=await Vu(w,te,k);if(oe.length===0)throw new Error("Could not parse any files. Check input format or AI expansion result.");let me=[...oe];if(k.readmeGenerator.enabled){const J=await Lg(w,k.readmeGenerator,j.projectName,te,ce),G=me.findIndex(ne=>ne.path.toLowerCase()==="readme.md");G>-1?me[G].content=J:me.unshift({path:"README.md",content:J})}j.setParsedFiles(me),j.handleFileSelect(((N=me[0])==null?void 0:N.path)||null),i("editor")},[k,w,j,M]),ie=K.useCallback(async te=>{g(null),i("processing");let D="";const Z=typeof te=="string"&&k.projectOverview.enabled;try{typeof te=="string"?(D=te,Z?(u(M("processingMessageExpand",1,2)),D=await SS(w,k.projectOverview,D)):u(M("processingMessage1",1,2))):(u(M("processingMessage1",1,2)),D=await TS(te)),await ee(D,Z)}catch(oe){g(oe.message||"An unexpected error occurred."),i("input")}finally{u(null)}},[k.projectOverview,w,ee,M]),re=te=>{O.closeProjectChat(),x(te),C("text")},be=()=>H?b.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:b.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-accent dark:border-dark-accent"})}):P?b.jsxs("div",{className:"flex items-center justify-center flex-col text-center p-8 h-[60vh]",children:[b.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-accent dark:border-dark-accent"}),b.jsx("div",{role:"status","aria-live":"polite",children:b.jsx("p",{className:"mt-4 text-lg font-semibold",children:s})})]}):l==="editor"?b.jsx(c1,{projectName:j.projectName,setProjectName:j.setProjectName,parsedFiles:j.parsedFiles,setParsedFiles:j.setParsedFiles,selectedFilePath:j.selectedFilePath,onFileSelect:j.handleFileSelect,editorContent:j.editorContent,setEditorContent:j.setEditorContent,isEditorDirty:j.isEditorDirty,setIsEditorDirty:j.setIsEditorDirty,onStartOver:B,onRefactorRequest:z.handleRefactorRequest,onSuggestName:z.handleSuggestName,onFindFiles:z.handleFindFiles,onGenerateTests:z.handleGenerateTests,onImproveReadme:z.handleImproveReadme,onAddDocstrings:z.handleAddDocstrings,onGenerateWiki:z.handleGenerateWiki,onCodeReviewRequest:z.handleCodeReviewRequest,onGitHubExportRequest:O.openGitHubExport,suggestions:z.suggestions,setSuggestions:z.setSuggestions,isSuggestionModalOpen:O.isSuggestionModalOpen,setIsSuggestionModalOpen:O.setIsSuggestionModalOpen,diffData:z.diffData,onAcceptDiff:z.handleAcceptDiff,onRejectDiff:z.handleRejectDiff}):b.jsxs("div",{className:"w-full flex flex-col items-center space-y-8",children:[b.jsx(fA,{onProcessInput:ie,onStartScaffoldingChat:O.openProjectChat,onGoToAISettings:()=>L("ai"),pastedText:v,setPastedText:x,inputMode:E,setInputMode:C}),d&&b.jsxs("div",{className:"w-full mt-6 p-4 bg-danger-bg border border-danger rounded-lg text-danger-text dark:bg-dark-danger-bg dark:border-dark-danger dark:text-dark-primary-text text-center",children:[b.jsx("p",{className:"font-bold",children:M("errorOccurred")}),b.jsx("p",{children:d}),b.jsx("button",{onClick:()=>{g(null),l!=="input"&&B()},className:"mt-4 px-4 py-2 bg-danger hover:opacity-80 text-white rounded-lg transition-opacity",children:M("tryAgain")})]})]});return b.jsxs("div",{className:"min-h-screen flex flex-col items-center p-4 sm:p-8",children:[b.jsx(p1,{isOpen:l==="settings",onClose:()=>{i("input"),m("general")},initialTab:y,translating:z.translating,onTranslate:z.handleTranslate,onImprovePromptRequest:z.handleImprovePromptRequest}),b.jsx(h1,{isOpen:O.isPromptChatOpen,onClose:O.closePromptChat,promptToImprove:z.promptToImprove,onSavePrompt:z.handleSaveImprovedPrompt}),b.jsx(x1,{isOpen:O.isProjectChatOpen,onClose:O.closeProjectChat,onComplete:re,messages:A,setMessages:_}),b.jsx(T1,{isOpen:O.isCodeReviewModalOpen,onClose:O.closeCodeReview,filePath:z.fileForReviewPath,reviewContent:z.codeReviewContent}),b.jsx(C1,{isOpen:O.isUserGuideOpen,onClose:O.closeUserGuide}),b.jsx(I1,{isOpen:O.isGitHubExportModalOpen,onClose:O.closeGitHubExport,projectName:j.projectName,parsedFiles:j.parsedFiles}),b.jsxs("header",{className:"w-full max-w-7xl flex justify-between items-center mb-8 flex-shrink-0",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx(Pg,{className:"h-16 w-16 sm:h-20 sm:w-20"}),b.jsxs("div",{className:"text-left",children:[b.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold tracking-tight text-primary-text dark:text-dark-primary-text",children:["UPZ",b.jsx("span",{className:"text-accent dark:text-dark-accent",children:"AI"}),b.jsx("sup",{className:"font-light text-lg sm:text-xl -top-2",children:"0.3"})]}),b.jsx("p",{className:"mt-1 text-md text-secondary-text dark:text-dark-secondary-text",children:M("headerSubtitle")})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:O.openUserGuide,className:"p-2 rounded-full bg-secondary dark:bg-dark-secondary text-secondary-text dark:text-dark-secondary-text hover:bg-tertiary dark:hover:bg-dark-tertiary transition-colors","aria-label":M("openUserGuide"),children:b.jsx(WS,{})}),l!=="processing"&&l!=="editor"&&b.jsx("button",{onClick:()=>L("general"),className:"p-2 rounded-full bg-secondary dark:bg-dark-secondary text-secondary-text dark:text-dark-secondary-text hover:bg-tertiary dark:hover:bg-dark-tertiary transition-colors","aria-label":M("openSettings"),children:b.jsx(KS,{})}),b.jsx("button",{onClick:X,className:"p-2 rounded-full bg-secondary dark:bg-dark-secondary text-secondary-text dark:text-dark-secondary-text hover:bg-tertiary dark:hover:bg-dark-tertiary transition-colors","aria-label":M("toggleTheme"),children:o==="dark"?b.jsx(YS,{}):b.jsx(jS,{})})]})]}),b.jsx("main",{className:"w-full max-w-7xl flex flex-col items-center flex-grow",children:be()}),b.jsx("footer",{className:"mt-12 text-center text-secondary-text dark:text-dark-secondary-text text-sm flex-shrink-0",children:b.jsx("p",{children:M("footerText")})})]})},Xg=document.getElementById("root");if(!Xg)throw new Error("Impossibile trovare l'elemento radice a cui montare l'applicazione");const L1=R0.createRoot(Xg);L1.render(b.jsx(pl.StrictMode,{children:b.jsx(MS,{children:b.jsx(D1,{})})}));
